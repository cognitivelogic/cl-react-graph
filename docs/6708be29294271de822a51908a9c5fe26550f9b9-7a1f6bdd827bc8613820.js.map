{"version":3,"sources":["webpack:///(webpack)/buildin/harmony-module.js","webpack:///../src/utils/domain.ts","webpack:///../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","webpack:///../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/element.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/global.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","webpack:///../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/process.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","webpack:///../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","webpack:///../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","webpack:///../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","webpack:///../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","webpack:///../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","webpack:///../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","webpack:///../src/utils/useWidth.ts","webpack:///../src/utils/useMakeLine.ts","webpack:///../src/utils/scales.ts","webpack:///../node_modules/d3-shape/src/area.js","webpack:///../src/components/Line.tsx","webpack:///../node_modules/react-use-measure/dist/web.js","webpack:///../src/components/AreaFill.tsx","webpack:///../src/LineChart.tsx","webpack:///../node_modules/debounce/index.js","webpack:///../src/components/Points.tsx"],"names":["module","exports","originalModule","webpackPolyfill","Object","create","children","defineProperty","enumerable","get","l","i","rangeAffordance","range","axis","inc","undefined","first","scale","getTime","last","diff","percentIncrement","newLast","applyDomainAffordance","Date","e","v","ResizeObserverBoxOptions","resizeObservers","msg","trigger","DOMRectReadOnly","x","y","width","height","this","top","left","bottom","right","freeze","prototype","toJSON","_a","fromRect","rectangle","isSVG","target","SVGElement","isHidden","getBBox","_b","offsetWidth","offsetHeight","getClientRects","length","isElement","obj","scope","ownerDocument","defaultView","Element","global","window","cache","WeakMap","scrollRegexp","verticalRegexp","IE","test","navigator","userAgent","parseDimension","pixel","parseFloat","inlineSize","blockSize","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","forceRecalculation","has","set","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","Math","round","devicePixelRatio","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","node","Infinity","depth","parent","parentNode","shallowestDepth","callbacks","forEach","ro","activeTargets","entries","ot","entry","targetDepth","push","lastReportedSize","callback","call","observer","splice","_i","callbacks_1","skippedTargets","observationTargets","isActive","event","some","ErrorEvent","message","document","createEvent","initEvent","dispatchEvent","queueMicroTask","toggle_1","el_1","createTextNode","MutationObserver","cb","observe","characterData","textContent","watching","observerConfig","attributes","childList","subtree","events","time","timeout","now","scheduled","scheduler","Scheduler","_this","stopped","listener","schedule","run","until","elementsHaveResized","start","requestAnimationFrame","stop","body","addEventListener","name","disconnect","removeEventListener","updateCount","n","ResizeObservation","CONTENT_BOX","size","tagName","type","isReplacedElement","display","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","ResizeObserverController","connect","detail","options","firstObservation","box","unobserve","index","lastObservation","indexOf","slice","ResizeObserver","arguments","TypeError","toString","useWidth","origWidth","useMeasure","debounce","polyfill","ref","useState","r","setR","useLayoutEffect","w","includes","parseInt","useScales","data","xScale","yScale","scales","setScales","useEffect","scaleSymlog","clamp","scaleTime","scaleLinear","buildScales","ys","xs","d","parsedY","parsedX","yDomain","extent","xDomain","domain","rangeRound","useMakeLine","props","current","setCurrent","previous","setPrevious","line","curveType","curveCatmullRom","next","String","curve","useMakeArea","x0","point","x1","y0","constant","y1","defined","context","output","area","j","k","buffer","defined0","x0z","Array","y0z","path","areaStart","lineStart","lineEnd","areaEnd","arealine","_","lineX0","lineY0","lineY1","lineX1","thisArea","Line","label","className","replace","spring","useSpring","from","t","to","reset","delay","getInterpolator","interpolate","interpolator","useRef","data-testid","fill","strokeDashoffset","strokeDashOffset","strokeDasharray","strokeDashArray","stroke","animate","Number","_ref","scroll","debounce$1","Error","_useState","_useState2","bounds","state","element","scrollContainers","lastBounds","scrollDebounce","resizeDebounce","resize","mounted","_useMemo","_state$current$elemen","getBoundingClientRect","areBoundsEqual","_useMemo2","forceRefresh","resizeChange","scrollChange","removeListeners","addListeners","scrollContainer","capture","passive","findScrollContainers","useOnWindowScroll","Boolean","useOnWindowResize","onWindowResize","onScroll","enabled","result","_window$getComputedSt","overflow","prop","concat","parentElement","keys","a","b","every","key","getOwnPropertyDescriptor","writable","AreaFill","LineChart","axisLabelFormat","clampToZero","description","grid","PointComponent","title","xAxisHeight","yAxisWidth","useLineDomain","values","reduce","prev","map","Base","Grid","svgProps","style","lines","vertical","ticks","horizontal","item","show","Points","z","radius","showTitle","YAxis","XAxis","labelFormat","floor","func","wait","immediate","args","timestamp","later","setTimeout","apply","debounced","callNow","clear","clearTimeout","flush","yValue","xValue","id","cx","cy"],"mappings":"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","file":"6708be29294271de822a51908a9c5fe26550f9b9-7a1f6bdd827bc8613820.js","sourcesContent":["module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { extent } from 'd3-array';\nimport { Axis } from 'd3-axis';\nimport { format } from 'd3-format';\nimport { ScaleLinear } from 'd3-scale';\nimport { timeFormat } from 'd3-time-format';\n\nimport { IAxis } from '../components/YAxis';\nimport {\n  EGroupedBarLayout,\n  IBarChartDataSet,\n  IGroupData,\n} from '../Histogram';\nimport { IGroupedProps } from './bars';\nimport { AnyScale } from './scales';\n\nexport interface IDomain {\n  max: number | null;\n  min: number | null;\n}\nexport const isStacked = ({ groupLayout, stacked }: IGroupedProps) => {\n  return stacked || groupLayout === EGroupedBarLayout.STACKED;\n};\n\ninterface IAppendDomainRangeProps {\n  domain: IDomain;\n  scale: ScaleLinear<number, number>,\n  data: IGroupData | number[],\n  range: number[],\n  stacked: boolean,\n}\n\n/**\n * Slightly better attempt from applyDomainAffordance, taking into\n * account axis types.\n */\nexport const rangeAffordance = (\n  range: [any, any],\n  axis: IAxis,\n  inc: boolean = true,\n): [any, any] => {\n  if (range[0] === undefined || range[1] === undefined) {\n    return [0, 0];\n  }\n  try {\n    const first = axis.scale === 'time' ? range[0].getTime() : range[0];\n    const last = axis.scale === 'time' ? range[1].getTime() : range[1];\n    const diff = last - first;\n    const percentIncrement = axis.scale === 'log' ? 100 : 5;\n\n    const incremental = applyDomainAffordance(diff, inc, percentIncrement);\n\n    const newLast = last + (incremental - diff);\n\n    if (axis.scale === 'time') {\n      return [range[0], new Date(newLast)];\n    }\n    // Only apply affordance at the end as line should start from origin.\n    return [range[0], newLast];\n  } catch (e) {\n    return [0, 0];\n  }\n\n}\n\nexport const applyDomainAffordance = (\n  v: number,\n  inc: boolean = true,\n  percentIncrement: number = 5,\n) =>\n  inc ? v + v * percentIncrement / 100\n    : v - v * percentIncrement / 100;\n\n/**\n * Update a linear scale with range and domain values taken either from the compiled\n * group data. If the chart is stacked then sum all bin values first.\n */\nexport const appendDomainRange = (props: IAppendDomainRangeProps): void => {\n  const aDomain: number[] = [];\n  const { domain, data, stacked, scale, range } = props;\n\n  const allCounts: number[] = (data as any).reduce((prev: number[], next): number[] => {\n    return stacked\n      ? [...prev, next.reduce((p: number, n): number => p + (n.value || n), 0)]\n      : [...prev, ...next.map((n) => n.value || n)];\n  }, [0]);\n  const thisExtent = extent<any>(allCounts, (d) => d);\n  aDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n    ? domain.max\n    : applyDomainAffordance(Number(thisExtent[1]));\n  aDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n    ? domain.min\n    : Number(thisExtent[0]);\n\n  scale.range(range)\n    .domain(aDomain)\n    .nice();\n}\n\nexport const shouldFormatTick = (axis: IAxis): boolean => {\n  return (axis.scale === 'time' && axis.hasOwnProperty('dateFormat'))\n    || axis.hasOwnProperty('numberFormat');\n}\n\nexport const formatTick = (axis: IAxis) => (v: string | number) => {\n  if (axis.scale === 'time') {\n    return timeFormat(axis.dateFormat ?? '%B %d, %Y')(new Date(v));\n  }\n  return isNaN(Number(v)) ? v : format(axis.numberFormat ?? \".2s\")(Number(v))\n};\n\ninterface ITickProps {\n  scaleBand: AnyScale;\n  axis: Axis<string> | Axis<number> | Axis<number | { valueOf(): number }> | Axis<number | string>;\n  axisConfig: IAxis;\n  axisLength: number;\n  limitByValues?: boolean;\n  valuesCount: number;\n}\n\nexport const ticks = (props: ITickProps) => {\n  const { axis, axisConfig } = props;\n  tickSize(props);\n  if (shouldFormatTick(axisConfig)) {\n    axis.tickFormat(formatTick(axisConfig) as any);\n  }\n}\n\nexport const tickSize = ({\n  axis,\n  axisConfig,\n  axisLength,\n  limitByValues,\n  scaleBand,\n  valuesCount,\n}: ITickProps) => {\n  const tickSize = axisConfig?.tickSize ?? undefined;\n  const ticks = undefined;\n  if (tickSize !== undefined) {\n    axis.tickSize(tickSize);\n  }\n  if (ticks !== undefined) {\n    axis.ticks(ticks);\n  } else {\n    if (limitByValues && axisLength / valuesCount < 10) {\n      // Show one in 10 axis labels\n      axis.tickValues((scaleBand.domain() as any[]).filter((d, i) => !(i % 10)));\n    }\n  }\n}\n\nexport const maxValueCount = (counts: IBarChartDataSet[]): number => {\n  return counts.reduce((a: number, b: IBarChartDataSet): number => {\n    return b.data.length > a ? b.data.length : a;\n  }, 0);\n};\n","var ResizeObserverBoxOptions;\n\n(function (ResizeObserverBoxOptions) {\n  ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n  ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n  ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\nexport { ResizeObserverBoxOptions };","var resizeObservers = [];\nexport { resizeObservers };","var msg = 'ResizeObserver loop completed with undelivered notifications.';\n\nvar deliverResizeLoopError = function deliverResizeLoopError() {\n  var event;\n\n  if (typeof ErrorEvent === 'function') {\n    event = new ErrorEvent('error', {\n      message: msg\n    });\n  } else {\n    event = document.createEvent('Event');\n    event.initEvent('error', false, false);\n    event.message = msg;\n  }\n\n  window.dispatchEvent(event);\n};\n\nexport { deliverResizeLoopError };","var DOMRectReadOnly = function () {\n  function DOMRectReadOnly(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.top = this.y;\n    this.left = this.x;\n    this.bottom = this.top + this.height;\n    this.right = this.left + this.width;\n    return Object.freeze(this);\n  }\n\n  DOMRectReadOnly.prototype.toJSON = function () {\n    var _a = this,\n        x = _a.x,\n        y = _a.y,\n        top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left,\n        width = _a.width,\n        height = _a.height;\n\n    return {\n      x: x,\n      y: y,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      width: width,\n      height: height\n    };\n  };\n\n  DOMRectReadOnly.fromRect = function (rectangle) {\n    return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  };\n\n  return DOMRectReadOnly;\n}();\n\nexport { DOMRectReadOnly };","var trigger;\nvar callbacks = [];\n\nvar notify = function notify() {\n  return callbacks.splice(0).forEach(function (cb) {\n    return cb();\n  });\n};\n\nvar queueMicroTask = function queueMicroTask(callback) {\n  if (!trigger) {\n    var toggle_1 = 0;\n    var el_1 = document.createTextNode('');\n    var config = {\n      characterData: true\n    };\n    new MutationObserver(function () {\n      return notify();\n    }).observe(el_1, config);\n\n    trigger = function trigger() {\n      el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++);\n    };\n  }\n\n  callbacks.push(callback);\n  trigger();\n};\n\nexport { queueMicroTask };","var isSVG = function isSVG(target) {\n  return target instanceof SVGElement && 'getBBox' in target;\n};\n\nvar isHidden = function isHidden(target) {\n  if (isSVG(target)) {\n    var _a = target.getBBox(),\n        width = _a.width,\n        height = _a.height;\n\n    return !width && !height;\n  }\n\n  var _b = target,\n      offsetWidth = _b.offsetWidth,\n      offsetHeight = _b.offsetHeight;\n  return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\n\nvar isElement = function isElement(obj) {\n  var _a, _b;\n\n  var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n  return !!(scope && obj instanceof scope.Element);\n};\n\nvar isReplacedElement = function isReplacedElement(target) {\n  switch (target.tagName) {\n    case 'INPUT':\n      if (target.type !== 'image') {\n        break;\n      }\n\n    case 'VIDEO':\n    case 'AUDIO':\n    case 'EMBED':\n    case 'OBJECT':\n    case 'CANVAS':\n    case 'IFRAME':\n    case 'IMG':\n      return true;\n  }\n\n  return false;\n};\n\nexport { isSVG, isHidden, isElement, isReplacedElement };","export var global = typeof window !== 'undefined' ? window : {};","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = /msie|trident/i.test(global.navigator && global.navigator.userAgent);\n\nvar parseDimension = function parseDimension(pixel) {\n  return parseFloat(pixel || '0');\n};\n\nvar size = function size(inlineSize, blockSize, switchSizes) {\n  if (inlineSize === void 0) {\n    inlineSize = 0;\n  }\n\n  if (blockSize === void 0) {\n    blockSize = 0;\n  }\n\n  if (switchSizes === void 0) {\n    switchSizes = false;\n  }\n\n  return Object.freeze({\n    inlineSize: (switchSizes ? blockSize : inlineSize) || 0,\n    blockSize: (switchSizes ? inlineSize : blockSize) || 0\n  });\n};\n\nvar zeroBoxes = Object.freeze({\n  devicePixelContentBoxSize: size(),\n  borderBoxSize: size(),\n  contentBoxSize: size(),\n  contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\n\nvar calculateBoxSizes = function calculateBoxSizes(target, forceRecalculation) {\n  if (forceRecalculation === void 0) {\n    forceRecalculation = false;\n  }\n\n  if (cache.has(target) && !forceRecalculation) {\n    return cache.get(target);\n  }\n\n  if (isHidden(target)) {\n    cache.set(target, zeroBoxes);\n    return zeroBoxes;\n  }\n\n  var cs = getComputedStyle(target);\n  var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n  var removePadding = !IE && cs.boxSizing === 'border-box';\n  var switchSizes = verticalRegexp.test(cs.writingMode || '');\n  var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n  var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n  var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n  var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n  var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n  var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n  var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n  var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n  var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n  var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n  var horizontalPadding = paddingLeft + paddingRight;\n  var verticalPadding = paddingTop + paddingBottom;\n  var horizontalBorderArea = borderLeft + borderRight;\n  var verticalBorderArea = borderTop + borderBottom;\n  var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n  var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n  var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n  var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n  var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n  var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n  var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n  var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n  var boxes = Object.freeze({\n    devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n    borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n    contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n    contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n  });\n  cache.set(target, boxes);\n  return boxes;\n};\n\nvar calculateBoxSize = function calculateBoxSize(target, observedBox, forceRecalculation) {\n  var _a = calculateBoxSizes(target, forceRecalculation),\n      borderBoxSize = _a.borderBoxSize,\n      contentBoxSize = _a.contentBoxSize,\n      devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n\n  switch (observedBox) {\n    case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n      return devicePixelContentBoxSize;\n\n    case ResizeObserverBoxOptions.BORDER_BOX:\n      return borderBoxSize;\n\n    default:\n      return contentBoxSize;\n  }\n};\n\nexport { calculateBoxSize, calculateBoxSizes };","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\n\nvar ResizeObserverEntry = function () {\n  function ResizeObserverEntry(target) {\n    var boxes = calculateBoxSizes(target);\n    this.target = target;\n    this.contentRect = boxes.contentRect;\n    this.borderBoxSize = [boxes.borderBoxSize];\n    this.contentBoxSize = [boxes.contentBoxSize];\n    this.devicePixelContentBoxSize = [boxes.devicePixelContentBoxSize];\n  }\n\n  return ResizeObserverEntry;\n}();\n\nexport { ResizeObserverEntry };","import { isHidden } from '../utils/element';\n\nvar calculateDepthForNode = function calculateDepthForNode(node) {\n  if (isHidden(node)) {\n    return Infinity;\n  }\n\n  var depth = 0;\n  var parent = node.parentNode;\n\n  while (parent) {\n    depth += 1;\n    parent = parent.parentNode;\n  }\n\n  return depth;\n};\n\nexport { calculateDepthForNode };","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\n\nvar broadcastActiveObservations = function broadcastActiveObservations() {\n  var shallowestDepth = Infinity;\n  var callbacks = [];\n  resizeObservers.forEach(function processObserver(ro) {\n    if (ro.activeTargets.length === 0) {\n      return;\n    }\n\n    var entries = [];\n    ro.activeTargets.forEach(function processTarget(ot) {\n      var entry = new ResizeObserverEntry(ot.target);\n      var targetDepth = calculateDepthForNode(ot.target);\n      entries.push(entry);\n      ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n\n      if (targetDepth < shallowestDepth) {\n        shallowestDepth = targetDepth;\n      }\n    });\n    callbacks.push(function resizeObserverCallback() {\n      ro.callback.call(ro.observer, entries, ro.observer);\n    });\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n  });\n\n  for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n    var callback = callbacks_1[_i];\n    callback();\n  }\n\n  return shallowestDepth;\n};\n\nexport { broadcastActiveObservations };","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\n\nvar gatherActiveObservationsAtDepth = function gatherActiveObservationsAtDepth(depth) {\n  resizeObservers.forEach(function processObserver(ro) {\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n    ro.skippedTargets.splice(0, ro.skippedTargets.length);\n    ro.observationTargets.forEach(function processTarget(ot) {\n      if (ot.isActive()) {\n        if (calculateDepthForNode(ot.target) > depth) {\n          ro.activeTargets.push(ot);\n        } else {\n          ro.skippedTargets.push(ot);\n        }\n      }\n    });\n  });\n};\n\nexport { gatherActiveObservationsAtDepth };","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\n\nvar process = function process() {\n  var depth = 0;\n  gatherActiveObservationsAtDepth(depth);\n\n  while (hasActiveObservations()) {\n    depth = broadcastActiveObservations();\n    gatherActiveObservationsAtDepth(depth);\n  }\n\n  if (hasSkippedObservations()) {\n    deliverResizeLoopError();\n  }\n\n  return depth > 0;\n};\n\nexport { process };","import { resizeObservers } from '../utils/resizeObservers';\n\nvar hasActiveObservations = function hasActiveObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.activeTargets.length > 0;\n  });\n};\n\nexport { hasActiveObservations };","import { resizeObservers } from '../utils/resizeObservers';\n\nvar hasSkippedObservations = function hasSkippedObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.skippedTargets.length > 0;\n  });\n};\n\nexport { hasSkippedObservations };","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\n\nvar isWatching = function isWatching() {\n  return !!watching;\n};\n\nvar CATCH_PERIOD = 250;\nvar observerConfig = {\n  attributes: true,\n  characterData: true,\n  childList: true,\n  subtree: true\n};\nvar events = ['resize', 'load', 'transitionend', 'animationend', 'animationstart', 'animationiteration', 'keyup', 'keydown', 'mouseup', 'mousedown', 'mouseover', 'mouseout', 'blur', 'focus'];\n\nvar time = function time(timeout) {\n  if (timeout === void 0) {\n    timeout = 0;\n  }\n\n  return Date.now() + timeout;\n};\n\nvar scheduled = false;\n\nvar Scheduler = function () {\n  function Scheduler() {\n    var _this = this;\n\n    this.stopped = true;\n\n    this.listener = function () {\n      return _this.schedule();\n    };\n  }\n\n  Scheduler.prototype.run = function (timeout) {\n    var _this = this;\n\n    if (timeout === void 0) {\n      timeout = CATCH_PERIOD;\n    }\n\n    if (scheduled) {\n      return;\n    }\n\n    scheduled = true;\n    var until = time(timeout);\n    queueResizeObserver(function () {\n      var elementsHaveResized = false;\n\n      try {\n        elementsHaveResized = process();\n      } finally {\n        scheduled = false;\n        timeout = until - time();\n\n        if (!isWatching()) {\n          return;\n        }\n\n        if (elementsHaveResized) {\n          _this.run(1000);\n        } else if (timeout > 0) {\n          _this.run(timeout);\n        } else {\n          _this.start();\n        }\n      }\n    });\n  };\n\n  Scheduler.prototype.schedule = function () {\n    this.stop();\n    this.run();\n  };\n\n  Scheduler.prototype.observe = function () {\n    var _this = this;\n\n    var cb = function cb() {\n      return _this.observer && _this.observer.observe(document.body, observerConfig);\n    };\n\n    document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n  };\n\n  Scheduler.prototype.start = function () {\n    var _this = this;\n\n    if (this.stopped) {\n      this.stopped = false;\n      this.observer = new MutationObserver(this.listener);\n      this.observe();\n      events.forEach(function (name) {\n        return global.addEventListener(name, _this.listener, true);\n      });\n    }\n  };\n\n  Scheduler.prototype.stop = function () {\n    var _this = this;\n\n    if (!this.stopped) {\n      this.observer && this.observer.disconnect();\n      events.forEach(function (name) {\n        return global.removeEventListener(name, _this.listener, true);\n      });\n      this.stopped = true;\n    }\n  };\n\n  return Scheduler;\n}();\n\nvar scheduler = new Scheduler();\n\nvar updateCount = function updateCount(n) {\n  !watching && n > 0 && scheduler.start();\n  watching += n;\n  !watching && scheduler.stop();\n};\n\nexport { scheduler, updateCount };","import { queueMicroTask } from './queueMicroTask';\n\nvar queueResizeObserver = function queueResizeObserver(cb) {\n  queueMicroTask(function ResizeObserver() {\n    requestAnimationFrame(cb);\n  });\n};\n\nexport { queueResizeObserver };","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\n\nvar skipNotifyOnElement = function skipNotifyOnElement(target) {\n  return !isSVG(target) && !isReplacedElement(target) && getComputedStyle(target).display === 'inline';\n};\n\nvar ResizeObservation = function () {\n  function ResizeObservation(target, observedBox) {\n    this.target = target;\n    this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n    this.lastReportedSize = {\n      inlineSize: 0,\n      blockSize: 0\n    };\n  }\n\n  ResizeObservation.prototype.isActive = function () {\n    var size = calculateBoxSize(this.target, this.observedBox, true);\n\n    if (skipNotifyOnElement(this.target)) {\n      this.lastReportedSize = size;\n    }\n\n    if (this.lastReportedSize.inlineSize !== size.inlineSize || this.lastReportedSize.blockSize !== size.blockSize) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return ResizeObservation;\n}();\n\nexport { ResizeObservation };","var ResizeObserverDetail = function () {\n  function ResizeObserverDetail(resizeObserver, callback) {\n    this.activeTargets = [];\n    this.skippedTargets = [];\n    this.observationTargets = [];\n    this.observer = resizeObserver;\n    this.callback = callback;\n  }\n\n  return ResizeObserverDetail;\n}();\n\nexport { ResizeObserverDetail };","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\n\nvar getObservationIndex = function getObservationIndex(observationTargets, target) {\n  for (var i = 0; i < observationTargets.length; i += 1) {\n    if (observationTargets[i].target === target) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar ResizeObserverController = function () {\n  function ResizeObserverController() {}\n\n  ResizeObserverController.connect = function (resizeObserver, callback) {\n    var detail = new ResizeObserverDetail(resizeObserver, callback);\n    observerMap.set(resizeObserver, detail);\n  };\n\n  ResizeObserverController.observe = function (resizeObserver, target, options) {\n    var detail = observerMap.get(resizeObserver);\n    var firstObservation = detail.observationTargets.length === 0;\n\n    if (getObservationIndex(detail.observationTargets, target) < 0) {\n      firstObservation && resizeObservers.push(detail);\n      detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n      updateCount(1);\n      scheduler.schedule();\n    }\n  };\n\n  ResizeObserverController.unobserve = function (resizeObserver, target) {\n    var detail = observerMap.get(resizeObserver);\n    var index = getObservationIndex(detail.observationTargets, target);\n    var lastObservation = detail.observationTargets.length === 1;\n\n    if (index >= 0) {\n      lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n      detail.observationTargets.splice(index, 1);\n      updateCount(-1);\n    }\n  };\n\n  ResizeObserverController.disconnect = function (resizeObserver) {\n    var _this = this;\n\n    var detail = observerMap.get(resizeObserver);\n    detail.observationTargets.slice().forEach(function (ot) {\n      return _this.unobserve(resizeObserver, ot.target);\n    });\n    detail.activeTargets.splice(0, detail.activeTargets.length);\n  };\n\n  return ResizeObserverController;\n}();\n\nexport { ResizeObserverController };","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\n\nvar ResizeObserver = function () {\n  function ResizeObserver(callback) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (typeof callback !== 'function') {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n    }\n\n    ResizeObserverController.connect(this, callback);\n  }\n\n  ResizeObserver.prototype.observe = function (target, options) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (!isElement(target)) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.observe(this, target, options);\n  };\n\n  ResizeObserver.prototype.unobserve = function (target) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (!isElement(target)) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.unobserve(this, target);\n  };\n\n  ResizeObserver.prototype.disconnect = function () {\n    ResizeObserverController.disconnect(this);\n  };\n\n  ResizeObserver.toString = function () {\n    return 'function ResizeObserver () { [polyfill code] }';\n  };\n\n  return ResizeObserver;\n}();\n\nexport { ResizeObserver };","import {\n  useLayoutEffect,\n  useState,\n} from 'react';\nimport useMeasure from 'react-use-measure';\n\nimport { ResizeObserver } from '@juggle/resize-observer';\n\n// Helper hook to monitor container ref width and calculate pixel value from percent or number.\nexport const useWidth = (origWidth: string | number) => {\n  const [ref, { width }] = useMeasure({\n    debounce: 20,\n    polyfill: ResizeObserver,\n  });\n  const [r, setR] = useState<any>(width);\n  useLayoutEffect(() => {\n    const w = typeof origWidth === 'number'\n      ? origWidth\n      : origWidth.includes('%')\n        ? width * (parseInt(origWidth, 10) / 100)\n        : parseInt(origWidth, 10);\n    setR(w);\n  }, [origWidth, width]);\n  return [ref, r];\n}\n","import { extent } from 'd3-array';\nimport {\n  area,\n  curveCatmullRom,\n  CurveFactory,\n  CurveFactoryLineOnly,\n  line,\n} from 'd3-shape';\nimport {\n  useEffect,\n  useState,\n} from 'react';\n\nimport { IAxes } from '../legacy/types';\nimport {\n  IChartPoint,\n  IChartPointValue,\n  ILineProps,\n} from '../LineChart';\nimport { rangeAffordance } from './domain';\nimport {\n  AnyScale,\n  buildScales,\n} from './scales';\n\nconst ZERO_SUBSTITUTE: number = 1e-6;\n\nexport interface IProps<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  data: T[];\n  axis: IAxes;\n  line: ILineProps;\n  curveType?: CurveFactory | CurveFactoryLineOnly;\n  width: number;\n  left?: number;\n  height: number;\n}\n\nexport const useScales: (props: Omit<IProps, 'line' | 'curveType'>) => { xScale: any, yScale: any } = ({\n  data,\n  width,\n  height,\n  axis,\n  left = 0,\n}) => {\n  const [scales, setScales] = useState<{ xScale: any, yScale: any }>({ xScale: null, yScale: null });\n  useEffect(() => {\n    const [xScale, yScale] = buildScales(axis);\n    const ys: any[] = [];\n    const xs: any[] = [];\n    data.forEach((d) => {\n      let parsedY = axis.y.scale === 'log' && d.y === 0 ? ZERO_SUBSTITUTE : d.y;\n      let parsedX = axis.x.scale === 'log' && d.x === 0 ? ZERO_SUBSTITUTE : d.x;\n      ys.push(parsedY);\n      xs.push(parsedX);\n    });\n\n    const yDomain = rangeAffordance(extent(ys), axis.y);\n    const xDomain = rangeAffordance(extent(xs), axis.x);\n\n    (xScale as any)\n      .domain(xDomain)\n      .rangeRound([left, width + left]);\n    (yScale as any).domain(yDomain)\n      .range([height, 0]);\n    setScales({ xScale, yScale })\n\n  }, [data, width, height, left])\n\n  return scales;\n}\n\n\nexport const useMakeLine: (props: IProps) => { previous: string, current: string } = (props) => {\n  const [current, setCurrent] = useState('');\n  const [previous, setPrevious] = useState('');\n  const { xScale, yScale } = useScales(props);\n  useEffect(() => {\n    const { data } = props;\n    const { curveType = curveCatmullRom } = props.line;\n    if (yScale !== null) {\n      const curve = (\n        x: AnyScale,\n        y: AnyScale,\n      ) => line()\n        .curve(curveType)\n        .x((d: any) => {\n          return x(d.x);\n        })\n        .y((d: any) => y(d.y));\n      const next = String(curve(xScale, yScale)(data as any));\n      if (next !== current) {\n        setPrevious(current);\n        setCurrent(next);\n      }\n    }\n\n  }, [xScale, yScale, props.data, props.width, props.line])\n\n  return { previous, current };\n}\n\nexport const useMakeArea: (props: IProps) => { previous: string, current: string } = (props) => {\n  const [current, setCurrent] = useState('');\n  const [previous, setPrevious] = useState('');\n  const { xScale, yScale } = useScales(props);\n  useEffect(() => {\n    const { data, height } = props;\n    const { curveType = curveCatmullRom } = props.line;\n    if (yScale !== null) {\n      const thisArea = () => area()\n        .curve(curveType as CurveFactory)\n        .x((d: any) => xScale(d.x))\n        .y0((d) => height)\n        .y1((d: any) => yScale(d.y));\n      const next = String(thisArea()(data as any));\n      if (next !== current) {\n        setPrevious(current);\n        setCurrent(next);\n      }\n    }\n  }, [xScale, yScale, props.data]);\n  return { previous, current };\n}\n","import {\n  ScaleBand,\n  scaleLinear,\n  ScaleLinear,\n  ScaleLogarithmic,\n  ScalePoint,\n  ScaleSymLog,\n  scaleSymlog,\n  scaleTime,\n  ScaleTime,\n} from 'd3-scale';\n\nimport { IAxes } from '../';\n\nexport type AnyScale = ScaleLinear<number, number>\n  | ScaleTime<any, any>\n  | ScaleLogarithmic<any, any>\n  | ScaleSymLog<any, any>\n  | ScaleBand<string>\n  | ScalePoint<string>;\n\nexport const buildScales = (axis: IAxes) => {\n  let x: AnyScale;\n  let y: AnyScale;\n\n  switch (axis.x.scale) {\n    case 'log':\n      x = scaleSymlog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'time':\n      x = scaleTime();\n      break;\n    default:\n      x = scaleLinear();\n      break;\n  }\n\n  switch (axis.y.scale) {\n    case 'log':\n      y = scaleSymlog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'time':\n      y = scaleTime();\n      break;\n    default:\n      y = scaleLinear();\n      break;\n  }\n  return [x, y];\n};\n","import { path } from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport { x as pointX, y as pointY } from \"./point.js\";\nexport default function () {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}","import { interpolate } from 'd3-interpolate';\nimport React, {\n  FC,\n  useLayoutEffect,\n  useRef,\n} from 'react';\nimport {\n  animated,\n  useSpring,\n} from 'react-spring';\n\nimport {\n  IProps,\n  useMakeLine,\n} from '../utils/useMakeLine';\n\ntype Props = {\n  animate?: boolean;\n  label: string;\n\n} & IProps;\n\n// @TODO look at using https://github.com/pbeshai/d3-interpolate-path instead \nconst Line: FC<Props> = (props) => {\n  const { label = '', line } = props;\n  const className = `line-${label.replace(/[^a-z]/gi, '')}`;\n  const { previous, current } = useMakeLine(props);\n\n  const spring = useSpring<any>({\n    from: { t: 0 },\n    to: { t: 1 },\n    reset: true,\n    delay: 0\n  });\n\n  const getInterpolator = () => interpolate(previous, current);\n\n  const interpolator = useRef(getInterpolator());\n  useLayoutEffect(() => {\n    interpolator.current = getInterpolator();\n  });\n\n  return (\n    <>\n      <animated.path\n        data-testid={className}\n        className={className}\n        fill=\"none\"\n        strokeDashoffset={line.strokeDashOffset}\n        strokeDasharray={line.strokeDashArray}\n        stroke={line.stroke}\n        d={props.animate\n          ? spring.t.interpolate((t) => interpolator.current(Number(t)))\n          : current}\n      />\n    </>\n  )\n}\n\nexport default Line;\n","import _toConsumableArray from \"/home/rob/cl-react-graph/docs-src/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/rob/cl-react-graph/docs-src/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/rob/cl-react-graph/docs-src/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport { debounce } from 'debounce';\n\nfunction useMeasure() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    debounce: 0,\n    scroll: false\n  },\n      debounce$1 = _ref.debounce,\n      scroll = _ref.scroll,\n      polyfill = _ref.polyfill;\n\n  var ResizeObserver = polyfill || (typeof window === 'undefined' ? function ResizeObserver() {\n    _classCallCheck(this, ResizeObserver);\n  } : window.ResizeObserver);\n\n  if (!ResizeObserver) {\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\n  }\n\n  var _useState = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    bottom: 0,\n    right: 0,\n    x: 0,\n    y: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      bounds = _useState2[0],\n      set = _useState2[1]; // keep all state in a ref\n\n\n  var state = useRef({\n    element: null,\n    scrollContainers: null,\n    resizeObserver: null,\n    lastBounds: bounds\n  }); // set actual debounce values early, so effects know if they should react accordingly\n\n  var scrollDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.scroll : null;\n  var resizeDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.resize : null; // make sure to update state only as long as the component is truly mounted\n\n  var mounted = useRef(false);\n  useEffect(function () {\n    mounted.current = true;\n    return function () {\n      return void (mounted.current = false);\n    };\n  }); // memoize handlers, so event-listeners know when they should update\n\n  var _useMemo = useMemo(function () {\n    var callback = function callback() {\n      if (!state.current.element) return;\n\n      var _state$current$elemen = state.current.element.getBoundingClientRect(),\n          left = _state$current$elemen.left,\n          top = _state$current$elemen.top,\n          width = _state$current$elemen.width,\n          height = _state$current$elemen.height,\n          bottom = _state$current$elemen.bottom,\n          right = _state$current$elemen.right,\n          x = _state$current$elemen.x,\n          y = _state$current$elemen.y;\n\n      var size = {\n        left: left,\n        top: top,\n        width: width,\n        height: height,\n        bottom: bottom,\n        right: right,\n        x: x,\n        y: y\n      };\n      Object.freeze(size);\n      if (mounted.current && !areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\n    };\n\n    return [callback, resizeDebounce ? debounce(callback, resizeDebounce) : callback, scrollDebounce ? debounce(callback, scrollDebounce) : callback];\n  }, [set, scrollDebounce, resizeDebounce]),\n      _useMemo2 = _slicedToArray(_useMemo, 3),\n      forceRefresh = _useMemo2[0],\n      resizeChange = _useMemo2[1],\n      scrollChange = _useMemo2[2]; // cleanup current scroll-listeners / observers\n\n\n  function removeListeners() {\n    if (state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(function (element) {\n        return element.removeEventListener('scroll', scrollChange, true);\n      });\n      state.current.scrollContainers = null;\n    }\n\n    if (state.current.resizeObserver) {\n      state.current.resizeObserver.disconnect();\n      state.current.resizeObserver = null;\n    }\n  } // add scroll-listeners / observers\n\n\n  function addListeners() {\n    if (!state.current.element) return;\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\n    state.current.resizeObserver.observe(state.current.element);\n\n    if (scroll && state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(function (scrollContainer) {\n        return scrollContainer.addEventListener('scroll', scrollChange, {\n          capture: true,\n          passive: true\n        });\n      });\n    }\n  } // the ref we expose to the user\n\n\n  var ref = function ref(node) {\n    if (!node || node === state.current.element) return;\n    removeListeners();\n    state.current.element = node;\n    state.current.scrollContainers = findScrollContainers(node);\n    addListeners();\n  }; // add general event listeners\n\n\n  useOnWindowScroll(scrollChange, Boolean(scroll));\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\n\n  useEffect(function () {\n    removeListeners();\n    addListeners();\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\n\n  useEffect(function () {\n    return removeListeners;\n  }, []);\n  return [ref, bounds, forceRefresh];\n} // Adds native resize listener to window\n\n\nfunction useOnWindowResize(onWindowResize) {\n  useEffect(function () {\n    var cb = onWindowResize;\n    window.addEventListener('resize', cb);\n    return function () {\n      return void window.removeEventListener('resize', cb);\n    };\n  }, [onWindowResize]);\n}\n\nfunction useOnWindowScroll(onScroll, enabled) {\n  useEffect(function () {\n    if (enabled) {\n      var cb = onScroll;\n      window.addEventListener('scroll', cb, {\n        capture: true,\n        passive: true\n      });\n      return function () {\n        return void window.removeEventListener('scroll', cb, true);\n      };\n    }\n  }, [onScroll, enabled]);\n} // Returns a list of scroll offsets\n\n\nfunction findScrollContainers(element) {\n  var result = [];\n  if (!element || element === document.body) return result;\n\n  var _window$getComputedSt = window.getComputedStyle(element),\n      overflow = _window$getComputedSt.overflow,\n      overflowX = _window$getComputedSt.overflowX,\n      overflowY = _window$getComputedSt.overflowY;\n\n  if ([overflow, overflowX, overflowY].some(function (prop) {\n    return prop === 'auto' || prop === 'scroll';\n  })) result.push(element);\n  return [].concat(result, _toConsumableArray(findScrollContainers(element.parentElement)));\n} // Checks if element boundaries are equal\n\n\nvar keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\n\nvar areBoundsEqual = function areBoundsEqual(a, b) {\n  return keys.every(function (key) {\n    return a[key] === b[key];\n  });\n};\n\nif (typeof module !== 'undefined' && Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(module, 'exports').writable) {\n  module.exports = useMeasure;\n}\n\nexport default useMeasure;","import { interpolate } from 'd3-interpolate';\nimport React, {\n  FC,\n  useLayoutEffect,\n  useRef,\n} from 'react';\nimport {\n  animated,\n  useSpring,\n} from 'react-spring';\n\nimport { IAxes } from '../legacy/types';\nimport {\n  IChartPoint,\n  IChartPointValue,\n  ILineProps,\n} from '../LineChart';\nimport { useMakeArea } from '../utils/useMakeLine';\n\ninterface IProps<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  label?: string;\n  line: ILineProps;\n  width: number;\n  left: number;\n  height: number;\n  axis: IAxes;\n  data: T[];\n}\n\nconst AreaFill: FC<IProps> = (props) => {\n  const { label = '', line } = props;\n  const className = `area-${label.replace(/[^a-z]/gi, '')}`;\n  const { previous, current } = useMakeArea(props);\n\n  const spring = useSpring<any>({\n    from: { t: 0 },\n    to: { t: 1 },\n    reset: true,\n    delay: 0\n  });\n\n  const getInterpolator = () => interpolate(previous, current);\n\n  const interpolator = useRef(getInterpolator());\n  useLayoutEffect(() => {\n    interpolator.current = getInterpolator();\n  });\n\n  return (\n    <animated.path\n      className={className}\n      fill={line.fill.fill}\n      d={spring.t.interpolate((t) => interpolator.current(t))}\n    />\n  )\n}\n\nexport default AreaFill;\n","import {\n  CurveFactory,\n  CurveFactoryLineOnly,\n} from 'd3-shape';\nimport React, {\n  FC,\n  Fragment,\n} from 'react';\n\nimport AreaFill from './components/AreaFill';\nimport Base from './components/Base';\nimport Grid from './components/Grid';\nimport Line from './components/Line';\nimport Points, { PointComponentProps } from './components/Points';\nimport XAxis from './components/XAxis';\nimport YAxis, { TAxisLabelFormat } from './components/YAxis';\nimport { IGrid } from './Histogram';\nimport { IAxes } from './legacy/types';\nimport { useLineDomain } from './utils/useDomain';\n\nexport type IChartPointValue = number | string | Date | object;\nexport interface IChartPoint<X extends IChartPointValue = Date | number | string, Y extends IChartPointValue = number> {\n  x: X;\n  y: Y;\n  z?: number;\n}\n\nexport interface ILineProps {\n  show: boolean;\n  fill: {\n    show: boolean;\n    fill: string;\n  };\n  curveType: CurveFactory | CurveFactoryLineOnly;\n  stroke: string;\n  strokeDashOffset: number;\n  strokeDashArray: string;\n}\n\nexport interface ILineChartDataSet<T> {\n  label: string;\n  point: {\n    radius: number;\n    stroke: string;\n    fill: string;\n    show: boolean;\n    showTitle?: boolean;\n  };\n  line: ILineProps;\n  data: T[];\n}\n\nexport interface IProps<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  axis: IAxes;\n  data: ILineChartDataSet<T>[];\n  grid?: IGrid;\n  height: number;\n  width: number;\n  xAxisHeight?: number;\n  yAxisWidth?: number;\n  title?: string;\n  description?: string;\n  /**\n   * @description if true then adds a 0 to the data domain. Useful if you don't want your lowest value to appear on top of the x axis\n   */\n  clampToZero?: boolean;\n  axisLabelFormat?: TAxisLabelFormat;\n  /** @description Custom component to override the default <circle /> used to plot points */\n  PointComponent?: FC<PointComponentProps>;\n}\n\nconst LineChart: FC<IProps> = ({\n  axis,\n  axisLabelFormat,\n  clampToZero = true,\n  data,\n  description,\n  grid,\n  height,\n  PointComponent,\n  title,\n  width,\n  xAxisHeight = 60,\n  yAxisWidth = 100,\n}) => {\n  const domain = useLineDomain({\n    values: data,\n    clampToZero,\n  });\n  const values = data.reduce((prev, next) => prev.concat(next.data.map((d) => d.x)), [] as any[])\n\n  return (\n    <Base\n      width={width}\n      height={height}\n      title={title}\n      description={description}>\n\n      {\n        grid && <Grid\n          left={yAxisWidth}\n          height={height - xAxisHeight}\n          svgProps={{ ...grid.x.style }}\n          lines={{\n            vertical: grid.y.ticks,\n            horizontal: grid.x.ticks,\n          }}\n          width={width - yAxisWidth} />\n      }\n      {\n        data.map((item) => <Fragment key={item.label.replace(/[^a-zA-Z0-9-]/, '')}> <Line\n          axis={axis}\n          key={item.label}\n          label={item.label}\n          line={item.line}\n          width={width - yAxisWidth}\n          left={yAxisWidth}\n          height={height - xAxisHeight}\n          data={item.data} />\n          {\n\n            item.point.show &&\n            <Points\n              axis={axis}\n              label={item.label}\n              key={`points-${item.label}`}\n              width={width - yAxisWidth}\n              left={yAxisWidth}\n              height={height - xAxisHeight}\n              z={item.point.radius}\n              fill={item.point.fill}\n              showTitle={item.point.showTitle}\n              stroke={item.point.stroke}\n              data={item.data}\n              PointComponent={PointComponent}\n            />\n          }\n\n          {\n            item.line.fill.show && <AreaFill\n              axis={axis}\n              label={item.label}\n              key={`area-fill-${item.label}`}\n              width={width - yAxisWidth}\n              left={yAxisWidth}\n              height={height - xAxisHeight}\n              line={item.line}\n              data={item.data} />\n          }\n        </Fragment>)\n      }\n\n      <YAxis\n        width={yAxisWidth}\n        height={height - xAxisHeight}\n        scale={axis.y.scale ?? 'linear'}\n        domain={domain}\n      />\n\n      <XAxis\n        width={width - yAxisWidth}\n        height={xAxisHeight}\n        labelFormat={axisLabelFormat}\n        scale={axis.x.scale ?? 'band'}\n        top={height - xAxisHeight}\n        left={yAxisWidth}\n        values={\n          values.length > 4\n            ? [values[0], values[Math.floor(values.length / 4)],\n            values[Math.floor(values.length / 2)],\n            values[Math.floor(values.length * (3 / 4))],\n            ] as number[]\n            : values}\n      />\n\n    </Base>\n  )\n}\n\nexport default LineChart;\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  ;\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n}\n\n; // Adds compatibility for ES modules\n\ndebounce.debounce = debounce;\nmodule.exports = debounce;","import React, { FC } from 'react';\n\nimport {\n  IProps,\n  useScales,\n} from '../utils/useMakeLine';\nimport Point, { IPointProps } from './Point';\n\nexport type PointComponentProps = IPointStyle & IPointProps;\n\nexport interface IPointStyle {\n  z?: number;\n  fill?: string;\n  label?: string;\n  stroke?: string;\n  showTitle?: boolean;\n  show?: boolean;\n  /** @description Custom component to override the default <circle /> used to plot points */\n  PointComponent?: FC<PointComponentProps>;\n}\n\nexport type TPoints = Omit<IProps, 'line' | 'curveType'> & IPointStyle;\n\nconst Points: FC<TPoints> = (props) => {\n  const {\n    data,\n    z = 5,\n    fill = '#000',\n    stroke = '#000',\n    showTitle = true,\n    PointComponent,\n  } = props;\n  const { xScale, yScale } = useScales(props);\n  const className = `point-${(props.label ?? '').replace(/[^a-z]/gi, '')}`;\n  if (yScale === null) {\n    return null;\n  }\n  return <>\n    {\n      data.map((d) => {\n        const { x, y, ...rest } = d;\n        const yValue = yScale(y);\n        const xValue = xScale(x);\n        const id = `${className}-${xValue}-${yValue}`;\n        return <Point\n          key={id}\n          id={id}\n          PointComponent={PointComponent}\n          cx={xValue}\n          cy={yValue}\n          x={x}\n          y={y}\n          z={d.z ?? z}\n        >\n          {\n            showTitle && <title>{`${x}, ${y}`}</title>\n          }\n        </Point>\n      })\n    }\n  </>\n}\n\nexport default Points;\n"],"sourceRoot":""}