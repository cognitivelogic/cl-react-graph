(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{269:function(t,e,n){"use strict";n.r(e);var r=n(334),i=n(335),a=function(t,e){var n,a,s,o,c=Object(i.a)("beforesend","progress","load","error"),l=Object(r.a)(),u=new XMLHttpRequest,d=null,h=null,p=0;function f(t){var e,r=u.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||r>=200&&r<300||304===r){if(s)try{e=s.call(n,u)}catch(i){return void c.call("error",n,i)}else e=u;c.call("load",n,e)}else c.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=f:u.onreadystatechange=function(t){u.readyState>3&&f(t)},u.onprogress=function(t){c.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),n)},mimeType:function(t){return arguments.length?(a=null==t?null:t+"",n):a},responseType:function(t){return arguments.length?(o=t,n):o},timeout:function(t){return arguments.length?(p=+t,n):p},user:function(t){return arguments.length<1?d:(d=null==t?null:t+"",n)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},response:function(t){return s=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,i){return u.open(e,t,!0,d,h),null==a||l.has("accept")||l.set("accept",a+",*/*"),u.setRequestHeader&&l.each(function(t,e){u.setRequestHeader(e,t)}),null!=a&&u.overrideMimeType&&u.overrideMimeType(a),null!=o&&(u.responseType=o),p>0&&(u.timeout=p),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(t){return function(e,n){t(null==e?n:null)}}(i)),null!=i&&n.on("error",i).on("load",function(t){i(null,t)}),c.call("beforesend",n,u),u.send(null==r?null:r),n},abort:function(){return u.abort(),n},on:function(){var t=c.on.apply(c,arguments);return t===c?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};var s=function(t,e){return function(n,r){var i=a(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},o=(s("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),s("application/json",function(t){return JSON.parse(t.responseText)})),c=(s("text/plain",function(t){return t.responseText}),s("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),{}),l={},u=34,d=10,h=13;function p(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var f=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,s=0,o=0,p=a<=0,f=!1;function g(){if(p)return l;if(f)return f=!1,c;var e,r,i=s;if(t.charCodeAt(i)===u){for(;s++<a&&t.charCodeAt(s)!==u||t.charCodeAt(++s)===u;);return(e=s)>=a?p=!0:(r=t.charCodeAt(s++))===d?f=!0:r===h&&(f=!0,t.charCodeAt(s)===d&&++s),t.slice(i+1,e-1).replace(/""/g,'"')}for(;s<a;){if((r=t.charCodeAt(e=s++))===d)f=!0;else if(r===h)f=!0,t.charCodeAt(s)===d&&++s;else if(r!==n)continue;return t.slice(i,e)}return p=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===d&&--a,t.charCodeAt(a-1)===h&&--a;(r=g())!==l;){for(var m=[];r!==c&&r!==l;)m.push(r),r=g();e&&null==(m=e(m,o++))||i.push(m)}return i}function i(e){return e.map(a).join(t)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=p(t);return function(r,i){return e(n(r),i,t)}}(t,e):p(t)});return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},g=f(","),m=g.parse,b=(g.parseRows,g.format,g.formatRows,f("\t")),v=b.parse,y=(b.parseRows,b.format,b.formatRows,function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var s=a(n).mimeType(t);return s.row=function(t){return arguments.length?s.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},s.row(r),i?s.get(i):s}});y("text/csv",m),y("text/tab-separated-values",v);var x=n(272),w=n(0),k=n.n(w),O=n(313),j=n(289),C=n(285),S=n(301);e.default=function(){var t=Object(w.useState)(!0),e=t[0],n=t[1],r=Object(w.useState)(null),i=r[0],a=r[1];return Object(w.useEffect)(function(){o("https://opendata.arcgis.com/datasets/8d3a9e6e7bd445e2bdcc26cdf007eac7_3.geojson",function(t,e){if(t)throw t;a(e),n(!1)})},[]),e?k.a.createElement("div",null,"loading"):k.a.createElement(j.a,null,k.a.createElement(C.a,{title:"Histogram",description:""}),k.a.createElement("h1",null,"Map"),k.a.createElement(x.a,{to:"/"},"Go back to the homepage"),k.a.createElement("div",null,k.a.createElement(O.b,{data:S.a,geojson:i,height:400,width:400})))}},271:function(t,e,n){"use strict";n(291),n(54);var r=n(82),i=n.n(r),a=n(10),s=n.n(a),o=n(277),c=n(0),l=n(55),u=(n(127),n(292),n(282)),d=n(280),h=n(275),p=n(270),f=n(296),g=n(273),m=n(288),b=n(274),v=n(278),y=n(300),x=n(279),w=function(){var t,e,n,r=Object(h.b)(),i=Object(h.a)(),a=Object(h.a)(),s={axis:{x:{height:20,label:"",margin:10,style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}}},y:{label:"",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10,width:25}},bar:{groupMargin:.1,margin:0,width:50},className:"histogram-d3",colorScheme:b.a,data:{bins:[],counts:[]},delay:0,domain:{max:null,min:null},duration:400,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:x.a,tipContainer:"body",tipContentFn:function(t,e,n){return t[e]+"<br />"+n},visible:{},width:200};return{create:function(e,n){void 0===n&&(n={}),this.mergeProps(n),this._makeSvg(e),this.makeGrid(),this.makeScales(),this.container=t.append("g").attr("class","histogram-container"),this.update(e,n)},mergeProps:function(t){this.props=g(s,t),this.props.data=t.data,t.colorScheme&&(this.props.colorScheme=t.colorScheme)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=r.getElementsByTagName("svg");i.length>0&&r.removeChild(i[0])}var a=this.props,s=a.margin,o=a.width,c=a.height,l=a.className,u=1-s.left/o,d=1-s.top/c;t=Object(p.d)(r).append("svg").attr("class",l).attr("width",o).attr("height",c).attr("viewBox","0 0 "+o+" "+c).append("g").attr("transform","translate("+s.left+","+s.top+") scale("+u+","+d+")");var h=Object(x.b)(this.props.tipContainer,e);n=h.tipContent,e=h.tipContainer},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},appendDomainRange:function(t,e){var n=[],r=this.props,i=r.domain,a=r.margin,s=r.height,o=e.reduce(function(t,e){return[].concat(t,e.map(function(t){return t.value}))},[0]),c=Object(u.a)(o,function(t){return t});n[1]=i&&i.hasOwnProperty("max")&&null!==i.max?i.max:c[1],n[0]=i&&i.hasOwnProperty("min")&&null!==i.min?i.min:c[0];var l=[s-2*a.top-Object(y.d)(this.props.axis),0];t.range(l).domain(n)},makeScales:function(){this.xAxis=t.append("g").attr("class","x-axis"),this.yAxis=t.append("g").attr("class","y-axis"),this.xAxisLabel=t.append("g"),this.yAxisLabel=t.append("g")},_drawScales:function(e){var n=this.props,s=n.axis,o=n.margin,c=n.height,l=this.valuesCount(e.counts),u=Object(y.c)(this.props),h=e.counts.map(function(t){return t.label});i.domain(e.bins).rangeRound([0,u]).paddingInner(this.groupedMargin()),a.domain(h).rangeRound([0,i.bandwidth()]).paddingInner(this.barMargin());var p=Object(d.a)(i),g=m(s,"x.tickSize",void 0);void 0!==g?p.tickSize(g):u/l<10&&p.tickValues(i.domain().filter(function(t,e){return!(e%10)})),"TIME"===s.x.scale&&s.x.dateFormat&&p.tickFormat(Object(f.a)(s.x.dateFormat)),this.xAxis.attr("transform","translate("+(Object(y.e)(s)+s.y.style["stroke-width"])+","+(c-Object(y.d)(this.props.axis)-2*o.left)+")").call(p),this.appendDomainRange(r,this.dataSets);var b=Object(d.b)(r).ticks(s.y.ticks),x=m(s,"y.tickSize",void 0);void 0!==x&&b.tickSize(x),"TIME"===s.y.scale&&s.y.dateFormat&&b.tickFormat(Object(f.a)(s.y.dateFormat)),this.yAxis.attr("transform","translate("+Object(y.e)(s)+", 0)").transition().call(b),Object(v.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),s.y.style),Object(v.a)(t.selectAll(".y-axis .tick text"),s.y.text.style),Object(v.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),s.x.style),Object(v.a)(t.selectAll(".x-axis .tick text"),s.x.text.style)},groupedMargin:function(){var t=m(this.props.bar,"groupMargin",.1);return t>=0&&t<=1?t:.1},barMargin:function(){var t=m(this.props.bar,"margin",0);return t>=0&&t<=1?t:.1},barWidth:function(){return a.bandwidth()},updateChart:function(t,s){var o=this,c=this.props,l=c.axis,u=c.height,d=c.width,p=c.margin,f=c.delay,g=c.duration,m=c.tip,b=this.barWidth(),v=Object(h.d)(this.props.colorScheme),x=Object(y.b)(this.props),w=this.container.selectAll("g").data(s),k=w.enter().append("g").merge(w).attr("transform",function(t){return"translate("+(Object(y.e)(l)+l.y.style["stroke-width"]+i(t[0].label))+", 0)"}).selectAll("rect").data(function(t){return t});k.enter().append("rect").attr("height",0).attr("y",function(e,n){var r=t.findIndex(function(t){return t===e.label});s[r];return x-0}).attr("class","bar").on("mouseover",function(r,i){var a=t.findIndex(function(t){return t===r.label});n.html(function(){return o.props.tipContentFn(t,a,r.value)}),m.fx.in(e)}).on("mousemove",function(){return m.fx.move(e)}).on("mouseout",function(){return m.fx.out(e)}).merge(k).attr("x",function(t){return a(t.groupLabel)}).attr("width",function(t){return b}).attr("fill",function(t,e){return v(e)}).transition().duration(g).delay(f).attr("y",function(t,e){return r(t.value+0)}).attr("stroke-dasharray",function(t){var e=x-r(t.value);return b+" 0 "+e+" "+b}).attr("height",function(t){return x-r(t.value)}),k.exit().remove(),w.exit().remove();var O=this.xAxisLabel.selectAll("text").data([l.x.label]);O.enter().append("text").attr("class","x-axis-label").merge(O).attr("transform","translate("+d/2+" ,"+(u-Object(y.d)(this.props.axis)-2*p.left+l.x.margin)+")").style("text-anchor","middle").text(function(t){return t});var j=this.yAxisLabel.selectAll("text").data([l.y.label]);j.enter().append("text").attr("class","y-axis-label").merge(j).attr("transform","rotate(-90)").attr("y",0).attr("x",0-(x/2-2*p.top)).attr("dy","1em").style("text-anchor","middle").text(function(t){return t})},makeGrid:function(){this.gridX=t.append("g").attr("class","grid gridX"),this.gridY=t.append("g").attr("class","grid gridY")},update:function(t,e){var n=this;if(e.data&&(this.mergeProps(e),this.props.data.bins)){var a=this.props,s=a.data,o=a.visible;this.dataSets=[],s.counts.forEach(function(t){t.data.forEach(function(e,r){n.dataSets[r]||(n.dataSets[r]=[]),n.dataSets[r].push({groupLabel:t.label,label:s.bins[r],value:!1!==o[s.bins[r]]&&!1!==o[t.label]?e:0})})}),this._drawScales(this.props.data),Object(y.a)(i,r,this.gridX,this.gridY,this.props,this.valuesCount(s.counts)),this.updateChart(s.bins,this.dataSets)}},destroy:function(e){t.selectAll("svg > *").remove()}}},k=function(t){function e(e){var n;return(n=t.call(this,e)||this).chart=w(),n.state={parentWidth:300},n}s()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode(),n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})},n.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())},n.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,i()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},n.getDOMNode=function(){return l.findDOMNode(this.ref)},n.render=function(){var t=this;return c.createElement("div",{ref:function(e){return t.ref=e},className:"histogram-chart-container"})},e}(c.Component);k.defaultProps={axis:{},bar:{margin:0,width:10},grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:function(t,e,n){return Object(o.f)(n(e)).darker(1).toString()},width:1},tipContentFn:function(t,e,n){return t[e]+"<br />"+n.toFixed(2)},width:"100%"};e.a=k},272:function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(0),i=n.n(r),a=n(1),s=n.n(a),o=n(53),c=n.n(o);n.d(e,"a",function(){return c.a});n(276);var l=i.a.createContext({}),u=function(t){return i.a.createElement(l.Consumer,null,function(e){return t.data||e[t.query]&&e[t.query].data?(t.render||t.children)(t.data?t.data.data:e[t.query].data):i.a.createElement("div",null,"Loading (StaticQuery)")})};u.propTypes={data:s.a.object,query:s.a.string.isRequired,render:s.a.func,children:s.a.func}},274:function(t,e,n){"use strict";e.a=["#4bbcad","#d54539","#5ab94d","#8a5cd3","#a4b243","#ba5ccd","#54995c","#cf47a1","#d29f3e","#5c6fda","#c36528","#5fa6dc","#d74770","#7d7430","#8a529e","#df9273","#5f74b8","#ac5450","#d192d7","#b26088"]},276:function(t,e,n){var r;t.exports=(r=n(284))&&r.default||r},278:function(t,e,n){"use strict";n(84),n(309),n(127);e.a=function(t,e){return Object.keys(e).forEach(function(n){t.attr(n,e[n])}),t}},279:function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=n(270);e.a={fx:{in:function(t){t.style("left",r.a.pageX+"px").style("top",r.a.pageY-55+"px"),t.transition().duration(200).style("opacity",.9)},move:function(t){t.style("left",r.a.pageX+"px").style("top",r.a.pageY-55+"px")},out:function(t){t.transition().duration(100).style("opacity",0)}}};var i=function(t,e){return e&&e.remove(),(e=Object(r.d)(t).append("div").attr("class","tooltip top").style("opacity",0)).append("div").attr("class","tooltip-arrow"),{tipContainer:e,tipContent:e.append("div").attr("class","tooltip-inner")}}},283:function(t){t.exports={data:{site:{siteMetadata:{title:"Infosum Charts"}}}}},284:function(t,e,n){"use strict";n.r(e);n(54);var r=n(0),i=n.n(r),a=n(1),s=n.n(a),o=n(85),c=n(4),l=function(t){var e=t.location,n=c.default.getResourcesForPathnameSync(e.pathname);return i.a.createElement(o.a,Object.assign({location:e,pageResources:n},n.json))};l.propTypes={location:s.a.shape({pathname:s.a.string.isRequired}).isRequired},e.default=l},285:function(t,e,n){"use strict";var r=n(286),i=n(1),a=n.n(i),s=n(0),o=n.n(s),c=n(298),l=n.n(c);function u(t){var e=t.description,n=t.lang,i=t.meta,a=t.keywords,s=t.title,c=r.data.site,u=e||c.siteMetadata.description;return o.a.createElement(l.a,{htmlAttributes:{lang:n},title:s,titleTemplate:"%s | "+c.siteMetadata.title,meta:[{content:u,name:"description"},{content:s,property:"og:title"},{content:u,property:"og:description"},{content:"website",property:"og:type"},{content:"summary",name:"twitter:card"},{content:c.siteMetadata.author,name:"twitter:creator"},{content:s,name:"twitter:title"},{content:u,name:"twitter:description"}].concat(a.length>0?{content:a.join(", "),name:"keywords"}:[]).concat(i)})}u.defaultProps={keywords:[],lang:"en",meta:[]},u.propTypes={description:a.a.string,keywords:a.a.arrayOf(a.a.string),lang:a.a.string,meta:a.a.array,title:a.a.string.isRequired},e.a=u},286:function(t){t.exports={data:{site:{siteMetadata:{title:"Infosum Charts",description:"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.",author:"@gatsbyjs"}}}}},287:function(t,e,n){"use strict";n(299);var r=n(308);e.a=function(t){return t.filter(function(t){try{var e=r(t),n=e.hsl().array();if(n.length>3)return!1;var i=e.luminosity();return i<.8&&i>.1&&n[2]<200&&n[2]>20}catch(a){return!1}}).filter(function(t,e,n){return n.indexOf(t)===e}).sort(function(){return Math.random()-.5})}},289:function(t,e,n){"use strict";var r=n(283),i=(n(297),n(272)),a=n(1),s=n.n(a),o=n(0),c=n.n(o),l=n(290),u=function(t){var e=t.siteTitle;return c.a.createElement(l.a,{position:"static"},c.a.createElement(l.f,null,c.a.createElement(l.g,{variant:"h6",color:"inherit"},c.a.createElement(i.a,{to:"/"},e)),c.a.createElement(l.b,null,c.a.createElement(i.a,{to:"/histogram"},"Histogram")),c.a.createElement(l.b,null,c.a.createElement(i.a,{to:"/line"},"Line Chart")),c.a.createElement(l.b,null,c.a.createElement(i.a,{to:"/pie"},"Pie Chart")),c.a.createElement(l.b,null,c.a.createElement(i.a,{to:"/joyplot"},"Joy Plot"))))};u.propTypes={siteTitle:s.a.string},u.defaultProps={siteTitle:""};var d=u,h=function(t){var e=t.children;return c.a.createElement(i.b,{query:"755544856",render:function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{siteTitle:t.site.siteMetadata.title}),c.a.createElement("div",{style:{flexGrow:2,margin:"0 auto",padding:"0px 1.0875rem 1.45rem",paddingTop:0,width:"100%"}},c.a.createElement("main",null,e)),c.a.createElement("footer",null,"© ",(new Date).getFullYear(),", Built by"," ",c.a.createElement("a",{href:"https://www.infosum.com"},"InfoSum")))},data:r})};h.propTypes={children:s.a.node.isRequired};e.a=h},294:function(t,e,n){"use strict";n(291),n(54);var r=n(82),i=n.n(r),a=n(10),s=n.n(a),o=n(277),c=n(0),l=n(55),u=(n(292),n(127),n(84),n(310),n(130),n(311),n(293),n(282)),d=n(280),h=n(275),p=n(270),f=n(273),g=n(288),m=n(274),b=n(278),v=n(279),y=function(){var t,e,n,r,i,a=Object(h.a)(),s=Object(h.b)(),o=Object(h.a)(),c=Object(h.a)();var l={axis:{x:{height:20,label:"",margin:10,style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}}},y:{label:"",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10,width:25}},bar:{groupMargin:0,margin:0,width:50},className:"histogram-d3",colorScheme:m.a,data:[{bins:[],counts:[]}],delay:0,domain:{max:null,min:null},duration:400,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:v.a,tipContainer:"body",tipContentFn:function(t,e,n,r){return r+": "+t[e]+"<br />"+n},visible:{},width:200};return{create:function(e,n){void 0===n&&(n={}),this.mergeProps(n),this._makeSvg(e),this.makeGrid(r),this.makeScales(),this.containers=r.data.map(function(e,n){return t.append("g").attr("class","histogram-container-"+n)}),this.update(e,r)},mergeProps:function(t){(r=f(l,t)).data=t.data,t.colorScheme&&(r.colorScheme=t.colorScheme)},_makeSvg:function(i){if(t){t.selectAll("svg > *").remove(),t.remove();var a=i.getElementsByTagName("svg");a.length>0&&i.removeChild(a[0])}var s=r,o=s.margin,c=s.width,l=s.height,u=s.className;t=Object(p.d)(i).append("svg").attr("class",u).attr("width",c).attr("height",l).attr("viewBox","0 0 "+c+" "+l).append("g").attr("transform","translate("+o.left+","+o.top+")");var d=Object(v.b)(r.tipContainer,e);n=d.tipContent,e=d.tipContainer},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},appendDomainRange:function(t,e){var n=[],i=r.domain,s=e.reduce(function(t,e){var n=e.reduce(function(t,e){return[].concat(t,e.map(function(t){return t.value}))},[]);return[].concat(t,n)},[0]),o=Object(u.a)(s,function(t){return t});n[1]=i&&i.hasOwnProperty("max")&&null!==i.max?i.max:o[1],n[0]=i&&i.hasOwnProperty("min")&&null!==i.min?i.min:o[0];var c=[a.bandwidth(),0];t.range(c).domain(n)},yAxisWidth:function(){var t=r.axis;return""===t.y.label?t.y.width:t.y.width+30},xAxisHeight:function(){var t=r.axis;return""===t.x.label?t.x.height:t.x.height+30},makeScales:function(){var e=r,n=e.axis,i=e.margin,a=e.height,s=e.width;this.xAxis=t.append("g").attr("class","x-axis"),this.yAxis=t.append("g").attr("class","y-axis"),""!==n.x.label&&t.append("text").attr("class","x-axis-label").attr("transform","translate("+Number(s)/2+" ,"+(a-this.xAxisHeight()-2*i.left+10+n.x.margin)+")").style("text-anchor","middle").text(n.x.label),""!==n.y.label&&t.append("text").attr("class","y-axis-label").attr("transform","translate(0, -"+this.gridHeight()+")rotate(-90)").attr("y",0-i.left).attr("x",0-(a/2-2*i.top)).attr("dy","1em").style("text-anchor","middle").text(n.y.label)},getBins:function(){return r.data.reduce(function(t,e){return Array.from(new Set(t.concat(e.bins)))},[])},_drawScales:function(e){var n,l=this,u=r,h=(u.bar,u.domain,u.margin),p=(u.width,u.height),f=u.axis,m=e.reduce(function(t,e){var n=l.valuesCount(e.counts);return n>t?n:t},0),v=this.gridWidth(),y=e[0].counts.map(function(t){return t.label}),x=this.getBins();o.domain(x).rangeRound([0,v]).paddingInner(this.groupedMargin()),c.domain(y).rangeRound([0,o.bandwidth()]).paddingInner(this.barMargin()),n=Object(d.a)(o);var w=g(f,"x.tickSize",void 0);void 0!==w?n.tickSize(w):v/m<10&&n.tickValues(o.domain().filter(function(t,e){return!(e%10)})),this.xAxis.attr("transform","translate("+(this.yAxisWidth()+f.y.style["stroke-width"])+","+(p-this.xAxisHeight()-2*h.left)+")").call(n);var k=e.map(function(t){return t.title}),O=[p-2*h.top-this.xAxisHeight(),0];a.domain(k).rangeRound(O),this.appendDomainRange(s,i);var j=Object(d.b)(a).ticks(f.y.ticks),C=g(f,"y.tickSize",void 0);void 0!==C&&j.tickSize(C),this.yAxis.attr("transform","translate("+this.yAxisWidth()+", 0)").transition().call(j);Object.assign({},f.x.text.style),Object.assign({},f.y.text.style);Object(b.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),f.y.style),Object(b.a)(t.selectAll(".y-axis .tick text"),f.y.text.style),Object(b.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),f.x.style),Object(b.a)(t.selectAll(".x-axis .tick text"),f.x.text.style)},gridWidth:function(){var t=r,e=(t.axis,t.width),n=t.margin;return Number(e)-2*n.left-this.yAxisWidth()},gridHeight:function(){var t=r,e=t.height,n=t.margin;t.axis;return e-2*n.top-this.xAxisHeight()},groupedMargin:function(){var t=g(r.bar,"groupMargin",.1);return t>=0&&t<=1?t:0},barMargin:function(){var t=g(r.bar,"margin",0);return t>=0&&t<=1?t:.1},barWidth:function(){return c.bandwidth()},updateChart:function(t){var i=this,l=this.getBins(),u=r,d=(u.height,u.width,u.margin,u.bar,u.delay),p=u.duration,f=u.axis,g=u.stroke,m=u.tip,b=u.tipContentFn,v=this.barWidth(),y=Object(h.d)(r.colorScheme),x=Object(h.d)(["#FFF"]),w=this.yAxisWidth();this.groupedMargin(),t.reduce(function(t,e){var n=e.reduce(function(t,e){return e.length>t?e.length:t},0);return n>t?n:t},0);t.forEach(function(t,u){var h=r.data[u].title,k=i.containers[u].selectAll("g").data(t),O=k.enter().append("g").merge(k).attr("transform",function(t){return"translate("+(w+f.y.style["stroke-width"]+o(t[0].label))+", "+a(t[0].joyLabel)+")"}).selectAll("rect").data(function(t){return t});O.enter().append("rect").attr("height",0).attr("y",function(t){return a.bandwidth()}).attr("class","bar").attr("x",function(t){return c(t.groupLabel)}).attr("width",function(t){return v}).attr("fill",function(t,e){return y(e)}).on("mouseover",function(t){var r=l.findIndex(function(e){return e===t.label});n.html(function(){return b(l,r,t.value,h)}),m.fx.in(e)}).on("mousemove",function(){return m.fx.move(e)}).on("mouseout",function(){return m.fx.out(e)}).merge(O).transition().duration(p).delay(d).attr("y",function(t){return s(t.value)}).attr("stroke",function(t,e){if(x)return x(e)}).attr("shape-rendering","crispEdges").attr("stroke-width",g.width).attr("stroke-linecap",g.linecap).attr("stroke-dasharray",function(t){var e=a.bandwidth()-s(t.value);return v+" 0 "+e+" "+v}).attr("height",function(t){return a.bandwidth()-s(t.value)}),k.exit().remove()})},makeGrid:function(e){e.grid;this.gridX=t.append("g").attr("class","grid gridX"),this.gridY=t.append("g").attr("class","grid gridY")},_drawGrid:function(){var t=this,e=r,n=e.data,i=e.height,s=e.width,c=e.axis,l=e.grid,u=e.margin,h=(e.bar,n.reduce(function(e,n){var r=t.valuesCount(n.counts);return r>e?e:r},0)),p=c.y.style["stroke-width"],f=this.yAxisWidth()+p,m=this.gridHeight();l.x.visible&&(this.gridX.attr("transform","translate("+f+", "+m+")"),this.gridX.call(function(t){return void 0===t&&(t=5),Object(d.a)(o).ticks(t)}(g(l,"x.ticks",h)).tickSize(-i+this.xAxisHeight()+2*u.top).tickFormat(function(){return""})),Object(b.a)(this.gridX.selectAll(".tick line"),l.x.style),Object(b.a)(this.gridX.selectAll(".domain"),{stroke:"transparent"})),l.y.visible&&(this.gridY.attr("transform","translate("+(this.yAxisWidth()+p)+", 0)").transition().call(function(t){return void 0===t&&(t=5),Object(d.b)(a).ticks(t)}(g(l,"y.ticks",h)).tickSize(-s+2*u.left+this.yAxisWidth()).tickFormat(function(){return""})),Object(b.a)(this.gridY.selectAll(".tick line"),l.y.style),this.gridY.selectAll(".gridY .tick line").filter(function(t,e){return 0===e}).attr("display","none"),Object(b.a)(this.gridY.selectAll(".domain"),{stroke:"transparent"}))},update:function(t,e){if(r.data){this.mergeProps(e);var n=r,a=n.data,s=n.visible;i=a.map(function(t){var e=[];return t.counts.forEach(function(n){n.data.forEach(function(r,i){e[i]||(e[i]=[]),e[i].push({groupLabel:n.label,joyLabel:t.title,label:t.bins[i],value:!1!==s[t.bins[i]]&&!1!==s[n.label]?r:0})})}),e}),this._drawScales(r.data),this._drawGrid(),this.updateChart(i)}},destroy:function(e){t.selectAll("svg > *").remove()}}},x=function(t){function e(e){var n;return(n=t.call(this,e)||this).chart=y(),n.state={parentWidth:300},n}s()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode(),n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})},n.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())},n.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,i()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},n.getDOMNode=function(){return l.findDOMNode(this.ref)},n.render=function(){var t=this;return c.createElement("div",{ref:function(e){return t.ref=e},className:"histogram-chart-container"})},e}(c.Component);x.defaultProps={axis:{},bar:{margin:0,width:10},grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:function(t,e,n){return Object(o.f)(n(e)).darker(1).toString()},width:1},width:"100%"};e.a=x},300:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return u});var r=n(280),i=n(288),a=n(278),s=function(t,e,n,s,u,d){var h=u.height,p=u.width,f=u.axis,g=u.grid,m=u.margin,b=f.y.style["stroke-width"],v=c(f)+b,y=o(u);g.x.visible&&(n.attr("transform","translate("+v+", "+y+")"),n.call(function(t,e){return void 0===e&&(e=5),Object(r.a)(t).ticks(e)}(t,i(g,"x.ticks",d)).tickSize(-h+l(u.axis)+2*m.top).tickFormat(function(){return""})),Object(a.a)(n.selectAll(".tick line"),g.x.style),Object(a.a)(n.selectAll(".domain"),{stroke:"transparent"})),g.y.visible&&(s.attr("transform","translate("+(c(f)+b)+", 0)").transition().call(function(t,e){return void 0===e&&(e=5),Object(r.b)(t).ticks(e)}(e,i(g,"y.ticks",d)).tickSize(-p+2*m.left+c(f)).tickFormat(function(){return""})),Object(a.a)(s.selectAll(".tick line"),g.y.style),s.selectAll(".gridY .tick line").filter(function(t,e){return 0===e}).attr("display","none"),Object(a.a)(s.selectAll(".domain"),{stroke:"transparent"}))},o=function(t){var e=t.height,n=t.margin,r=t.axis;return e-2*n.top-l(r)},c=function(t){return""===t.y.label?t.y.width:t.y.width+30},l=function(t){return""===t.x.label?t.x.height:t.x.height+30+i(t,"x.margin",0)},u=function(t){var e=t.axis;return t.width-2*t.margin.left-c(e)}},301:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var r=n(287),i={bins:["Data 1","Data 6","Data 3","Dat 4"],counts:[{data:[1,2,3,4],label:"DataSet 1"},{data:[13,14,15,16],label:"DataSet 2"}],grid:{x:{style:{stroke:"#eeAA00","stroke-opacity":.4},ticks:5},y:{height:20,style:{"stroke-opacity":.4},ticks:5}}},a={bins:["bin 1","bin 2","bin 3 with a long name","bin 4","bin 5","bin 6","bin 7"],counts:[{borderColors:["red"],data:[1,2,3,4,5,6,7],label:"Data 1"}],title:"Plot 1"};Object(r.a)(["rgba(255, 113, 1, 0.5)","#fff6ef","rgba(0, 169, 123, 0.5)","#f6fffd","#D7263D","rgba(215, 38, 61, 0.05)","#0f2629","#ededed","rgba(86, 180, 191, 0.5)","#f5fbfb","#000000","#0f2629","#D7263D","#FBD7D9","#ffebec","#963540","#22545a","#56b4bf","#56b4bf","#56b4bf","#FF7101","#449098","#77c3cb","#d4eef8","#ff7101","#FF7101","#cc5a00","#ff8d33","#fef9e5","#7d5d2e","#00a97b","#008762","#33ba95","#dbf1d6","#227839","#0f5e7b","#d4eef8","#0f5e7b","#F9C80E","#007656","#c5e5e9","#f9c80e","#a9a9a9","#dbdbdb","#cccccc","#e6e6e6","#56b4bf","#449098","#77c3cb","#22545a","#ff7101","#cdcdcd","#ffffff","#d7263d","#00a97b","#888888","#e6e6e6","#f2f2f2","#f4f4f4"])},313:function(t,e,n){"use strict";n(287),n(271),n(54);var r=n(82),i=n.n(r),a=n(10),s=n.n(a),o=n(277),c=n(0),l=n(55),u=(n(127),n(282)),d=n(280),h=n(275),p=n(270),f=n(273),g=n(274),m=n(278),b=n(279),v=function(){var t,e,n,r=Object(h.b)(),i=Object(h.a)();var a={axis:{x:{height:25,style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10},y:{style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},width:20}},bar:{height:50,margin:10},className:"histogram-d3",colorScheme:g.a,data:[],delay:0,duration:400,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:b.a,tipContainer:"body",tipContentFn:function(t,e,n){return t[e]+"<br />"+n},width:200};return{create:function(t,e){void 0===e&&(e={}),this.props=f(a,e),this.update(t,this.props)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=r.getElementsByTagName("svg");i.length>0&&r.removeChild(i[0])}var a=this.props,s=a.margin,o=a.width,c=a.height,l=a.className;t=Object(p.d)(r).append("svg").attr("class",l).attr("width",o).attr("height",c).attr("viewBox","0 0 "+o+" "+c).append("g").attr("transform","translate("+s.left+","+s.top+")");var u=Object(b.b)(this.props.tipContainer,e);n=u.tipContent,e=u.tipContainer},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},_drawScales:function(e){var n=this.props,a=n.margin,s=n.width,o=n.height,c=n.axis,l=this.valuesCount(e.counts);t.selectAll(".y-axis").remove(),t.selectAll(".x-axis").remove();var h,p,f,g,b=this.gridHeight(),v=e.counts.reduce(function(t,e){return[].concat(t,e.data)},[]);i.domain(e.bins).rangeRound([0,b]),p=Object(d.a)(r).ticks(c.x.ticks),f=Object(d.b)(i).ticks(c.y.ticks),b/l<10&&p.tickValues(r.domain().filter(function(t,e){return!(e%10)})),(h=Object(u.a)(v,function(t){return t}))[0]=0,g=[0,s-2*a.top-c.y.width],r.range(g).domain(h),t.append("g").attr("class","y-axis").attr("transform","translate("+c.y.width+", 0)").call(f),t.append("g").attr("class","x-axis").attr("transform","translate("+c.y.width+","+(o-c.x.height-2*a.left)+")").call(p),Object(m.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),c.y.style),Object(m.a)(t.selectAll(".y-axis .tick text"),c.y.text.style),Object(m.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),c.x.style),Object(m.a)(t.selectAll(".x-axis .tick text"),c.x.text.style)},_drawBars:function(t){var e=this;this.valuesCount(t.counts);t.counts.forEach(function(n,r){e.drawDataSet(t.bins,n,r,t.counts.length)})},gridWidth:function(){var t=this.props,e=t.axis;return t.width-2*t.margin.left-e.y.width},gridHeight:function(){var t=this.props,e=t.height,n=t.margin,r=t.axis;return e-2*n.top-r.x.height},groupedMargin:function(){return 3*(this.props.data.counts.length-1)},barHeight:function(){var t=this.props,e=(t.axis,t.width,t.margin,t.data),n=t.bar,r=(t.stroke,this.gridHeight()),i=this.valuesCount(e.counts),a=e.counts.length,s=r/i-2*n.margin-this.groupedMargin();return s<5&&(n.margin=1,s=Math.max(1,(r-(i+1)*n.margin)/i)),s/a},drawDataSet:function(i,a,s,o){var c,l=this,u=this.props,d=(u.height,u.width,u.margin,u.bar),p=u.delay,f=u.duration,g=u.axis,m=u.stroke,b=u.tip,v=u.tipContentFn,y=this.barHeight(),x=Object(h.d)(a.colors||this.props.colorScheme),w=a.borderColors?Object(h.d)(a.borderColors):null,k=".bar-"+s;t.selectAll(k).remove(),(c=t.selectAll(k).data(a.data).enter().append("rect").attr("class","bar "+k).attr("y",function(t,e,n){return d.margin+(y+2*d.margin)*e+function(t){return 1===o?0:(t+s)*(y+l.groupedMargin())}(e)}).attr("height",function(t){return y}).attr("fill",function(t,e){return x(e)}).on("mouseover",function(t,r){n.html(function(){return v(i,r,t)}),b.fx.in(e)}).on("mousemove",function(){return b.fx.move(e)}).on("mouseout",function(){return b.fx.out(e)}).attr("x",function(t){return g.y.width+g.y.style["stroke-width"]}).attr("width",0)).attr("stroke",function(t,e){return w?w(e):"function"==typeof m.color?m.color(t,e,x):m.color}).attr("shape-rendering","crispEdges").attr("stroke-width",m.width).attr("stroke-linecap",m.linecap),""!==m.dasharray&&c.attr("stroke-dasharray",m.dasharray),c.transition().duration(f).delay(p).attr("stroke-dasharray",function(t){var e=r(t);return e+y+e+" "+y}).attr("width",function(t){return r(t)}),c.exit().remove()},_drawGrid:function(e){var n,a,s=e.data,o=e.height,c=e.width,l=e.axis,u=e.grid,h=e.margin,p=this.valuesCount(s.counts),f=l.y.style["stroke-width"],g=l.y.width+this.groupedMargin()/2,b=0;u.x.visible&&((n=t.append("g").attr("class","grid gridX").attr("transform","translate("+g+", "+b+")")).call(function(t){return void 0===t&&(t=5),Object(d.b)(i).ticks(t)}(u.x.ticks||p).tickSize(-c+2*h.left+l.y.width).tickFormat(function(){return""})),Object(m.a)(n.selectAll(".tick line"),u.x.style),Object(m.a)(n.selectAll(".domain"),{stroke:"transparent"})),u.y.visible&&(a=t.append("g").attr("class","grid gridY").attr("transform","translate("+(l.y.width+f)+", "+(o-l.x.height-2*h.top)+")").call(function(t){return void 0===t&&(t=5),Object(d.a)(r).ticks(t)}(u.y.ticks||p).tickSize(-o+2*h.left+l.x.height).tickFormat(function(){return""})),Object(m.a)(a.selectAll(".tick line"),u.y.style),Object(m.a)(a.selectAll(".domain"),{stroke:"transparent"}))},update:function(t,e){e.data&&(this.props=f(a,e),this._makeSvg(t),this.props.data.bins&&(this._drawScales(this.props.data),this._drawGrid(this.props),this._drawBars(this.props.data)))},destroy:function(e){t.selectAll("svg > *").remove()}}},y=function(t){function e(e){var n;return(n=t.call(this,e)||this).histogram=v(),n.state={parentWidth:300},n}s()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode(),n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.histogram.create(e,t.getChartState())})},n.componentDidMount=function(){var t=this;this.histogram.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())},n.componentDidUpdate=function(){this.histogram.update(this.getDOMNode(),this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,i()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillReceiveProps=function(t){this.histogram.update(this.getDOMNode(),this.getChartState())},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.histogram.destroy(this.getDOMNode())},n.getDOMNode=function(){return l.findDOMNode(this.ref)},n.render=function(){var t=this;return c.createElement("div",{ref:function(e){return t.ref=e},className:"histogram-chart-container"})},e}(c.Component);y.defaultProps={axis:{},bar:{margin:2,width:10},grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:function(t,e,n){return Object(o.f)(n(e)).darker(1)},width:1},tipContentFn:function(t,e,n){return t[e]+"<br />"+n.toFixed(2)},width:"100%"};var x=y,w=(n(294),n(291),n(331),n(293),n(314)),k=n(304),O=n(303),j=n(296),C=n(300),S=function(t){var e,n;switch(t.x.scale){case"LOG":e=Object(h.c)().clamp(!0);break;case"TIME":e=Object(h.e)();break;default:e=Object(h.b)()}switch(t.y.scale){case"LOG":n=Object(h.c)().clamp(!0);break;case"TIME":e=Object(h.e)();break;default:n=Object(h.b)()}return[e,n]},A=function(){var t,e,n,r,i,a={curveType:O.c,fill:!1,show:!0,stroke:"#005870",strokeDashArray:"5 5",strokeDashOffset:0},s={fill:"rgba(255, 255, 255, 0)",radius:4,show:!0,stroke:"#005870"},o={axis:{x:{height:20,scale:"LINEAR",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}}},y:{scale:"LINEAR",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10,width:25}},className:"line-chart-d3",fx:w.a,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:250,line:a,margin:{left:5,top:5},point:s,tip:b.a,tipContainer:"body",tipContentFn:function(t,e,n){switch(typeof t[e].x){case"object":return r(t[e].x)+", "+t[e].y;default:return Number(t[e].x).toFixed(3)+", "+t[e].y}},width:200},c={line:a,point:s};return{create:function(e,n){void 0===n&&(n={}),this.props=f(o,n),this._makeSvg(e),this.makeScales();var r=S(this.props.axis);this.x=r[0],this.y=r[1],this.makeGrid(),this.container=t.append("g").attr("class","linechart-container"),this.lineContainer=this.container.append("g").attr("class","line-container"),this._createLines(this.props.data),this.update(e,this.props)},_makeSvg:function(n){if(t){t.selectAll("svg > *").remove(),t.remove();var r=n.getElementsByTagName("svg");r.length>0&&n.removeChild(r[0])}var a=this.props,s=a.margin,o=a.width,c=a.height,l=a.className,u=1-s.left/o,d=1-s.top/c;t=Object(p.d)(n).append("svg").attr("class",l).attr("width",o).attr("height",c).append("g").attr("transform","translate("+s.left+","+s.top+") scale("+u+","+d+")");var h=Object(b.b)(this.props.tipContainer,e);i=h.tipContent,e=h.tipContainer},_drawDataPointSet:function(t){var n=this,r=this.props,a=r.axis,s=r.tip,o=Object(C.e)(a),c=this.container.selectAll("g").data(t),l=c.enter().append("g").attr("class",function(t,e){return"point-container"+e}).merge(c).selectAll("circle").data(function(t){return t.data.map(function(e){return Object.assign({},e,{point:t.point})})});l.attr("class","update"),l.enter().append("circle").attr("class","enter").on("mouseover",function(t,r){i.html(function(){return n.props.tipContentFn([t],0)}),s.fx.in(e)}).on("mousemove",function(){return s.fx.move(e)}).on("mouseout",function(){return s.fx.out(e)}).merge(l).attr("class","point").attr("cy",function(t){return n.y(t.y)}).attr("r",function(t,e){return 0}).attr("fill",function(t){return t.point.fill}).attr("stroke",function(t){return t.point.stroke}).attr("cx",function(t){return n.x(t.x)+o}).transition().duration(400).attr("r",function(t){return t.point.show?t.point.radius:0}).delay(650),c.exit().remove(),l.exit().remove()},makeScales:function(){this.xAxis=t.append("g").attr("class","x-axis"),this.yAxis=t.append("g").attr("class","y-axis"),this.xAxisLabel=t.append("g"),this.yAxisLabel=t.append("g")},_drawScales:function(e){var n,r,i=this.props,a=i.axis,s=i.height,o=Object(C.c)(this.props),c=[],l=[],h=Object(d.b)(this.y);a.y.tickValues?h.tickValues(a.y.tickValues):h.ticks(a.y.ticks),a.y.numberFormat&&h.tickFormat(Object(k.a)(a.y.numberFormat));var p=Object(d.a)(this.x);a.x.tickValues&&p.tickValues(a.x.tickValues),"TIME"===a.x.scale&&a.x.dateFormat&&p.tickFormat(Object(j.a)(a.x.dateFormat));var f=Object(C.d)(a),g=Object(C.e)(a);e.forEach(function(t){t.data.forEach(function(t){var e=t.y,n=t.x;"LOG"===a.y.scale&&0===t.y&&(e=1e-6),"LOG"===a.x.scale&&0===t.x&&(n=1e-6),c.push(e),l.push(n)})}),n=Object(u.a)(c),r=Object(u.a)(l),"LOG"===a.y.scale&&1e-6===n[0]&&(n[0]=1),"LOG"===a.x.scale&&1e-6===r[0]&&(r[0]=1),this.x.domain(r).rangeRound([0,o]),this.y.domain(n).range([s-f,0]),this.yAxis.attr("transform","translate("+g+", 0)").transition().call(h),this.xAxis.attr("transform","translate("+g+","+(s-f)+")").call(p),Object(m.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),a.y.style),Object(m.a)(t.selectAll(".y-axis .tick text"),a.y.text.style),Object(m.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),a.x.style),Object(m.a)(t.selectAll(".x-axis .tick text"),a.x.text.style)},_createLines:function(t){var e=this;t.forEach(function(t,n){e.lineContainer.append("path").attr("class","line-"+n)}),t.forEach(function(t,n){e.lineContainer.append("path").attr("class","fill-"+n)})},_drawLines:function(t){var e=this,n=this.props.axis,r=Object(C.e)(n);t.forEach(function(t,n){e.lineContainer.select(".line-"+n).attr("fill","none").attr("stroke-dashoffset",t.line.strokeDashOffset).attr("stroke-dasharray",t.line.strokeDashOffset).attr("stroke",t.line.stroke).transition().duration(500).attr("d",function(t,e,n,r){return Object(O.d)().curve(t).x(function(t){return n(t.x)+e}).y(function(t){return r(t.y)})}(t.line.curveType,r,e.x,e.y)(t.data)).delay(50)})},drawAreas:function(t){var e=this,n=this.props,r=n.axis,i=n.height,a=Object(C.e)(r),s=Object(C.d)(r);t.forEach(function(t,n){var r;e.lineContainer.select(".fill-"+n).attr("fill",t.line.fill.fill).style("opacity",t.line.show&&t.line.fill.show?1:0).transition().duration(500).delay(50).attr("d",(r=t.line.curveType,Object(O.b)().curve(r).x(function(t){return e.x(t.x)+a}).y0(function(t){return i-s}).y1(function(t){return e.y(t.y)}))(t.data))})},valuesCount:function(t){return t.reduce(function(t,e){return e.data.length>t?e.data.length:t},0)},makeGrid:function(){this.gridX=t.append("g").attr("class","grid gridX"),this.gridY=t.append("g").attr("class","grid gridY")},update:function(t,e){if(e.data){console.log("receive update",e),this.props=f(o,e),console.log("update",this.props.point);var i=S(this.props.axis);this.x=i[0],this.y=i[1];var a=e.data;n=Object(j.b)(e.axis.x.dateFormat),r=Object(j.a)(e.axis.x.dateFormat),a=a.map(function(t){return"TIME"===e.axis.x.scale&&(t.data=t.data.map(function(t){return Object.assign({},t,{x:"object"==typeof t.x?t.x:n(t.x.toString())})})),Object.assign({},c,t)}),this._drawScales(a),this._drawLines(a),this.drawAreas(a),Object(C.a)(this.x,this.y,this.gridX,this.gridY,this.props,this.valuesCount(a)),this._drawDataPointSet(a)}},destroy:function(e){t.selectAll("svg > *").remove()}}},E=(c.Component,n(332)),M=function(){var t,e={className:"map-d3",data:[],geojson:{features:[],type:"FeatureCollection"},height:200,width:200};return{create:function(e,n){void 0===n&&(n={}),this.mergeProps(n),this._makeSvg(e),this.container=t.append("g").attr("class","histogram-container"),this.update(e,n)},mergeProps:function(t){this.props=f(e,t),this.props.data=t.data},_makeSvg:function(e){if(t){t.selectAll("svg > *").remove(),t.remove();var n=e.getElementsByTagName("svg");n.length>0&&e.removeChild(n[0])}var r=this.props,i=r.width,a=r.height,s=r.className;t=Object(p.d)(e).append("svg").attr("class",s).attr("width",i).attr("height",a).attr("viewBox","0 0 "+i+" "+a).append("g")},updateChart:function(t,e){var n=this.props,r=n.width,i=n.height,a=Object(E.a)().scale(r/2/Math.PI*3).translate([r/2,i/2]),s=Object(E.b)().projection(a);this.container.selectAll("path").data(e.features).enter().append("path").attr("d",s)},update:function(t,e){if(e.data){this.mergeProps(e);var n=this.props,r=n.data,i=n.geojson;this.updateChart(r,i)}},destroy:function(e){t.selectAll("svg > *").remove()}}},D=function(t){function e(e){var n;return(n=t.call(this,e)||this).chart=M(),n.state={parentWidth:300},n}s()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.getDOMNode(),n=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:n},function(){return t.chart.create(e,t.getChartState())})},n.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())},n.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,i()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},n.getDOMNode=function(){return l.findDOMNode(this.ref)},n.render=function(){var t=this;return c.createElement("div",{ref:function(e){return t.ref=e},className:"map-chart-container"})},e}(c.Component);D.defaultProps={geojson:{features:[],type:"FeatureCollection"},height:200,width:"100%"};var N=D,R=(n(299),n(333),n(295)),W=n(288),F=function(){var t,e,n,r={backgroundColor:"#ddd",className:"piechart-d3",colorScheme:g.a,data:{bins:[],counts:[]},donutWidth:0,height:200,labels:{display:!0,displayFn:function(t,e){return t.value}},margin:{left:10,top:10},tip:b.a,tipContainer:"body",tipContentFn:function(t,e,n,r){return r+": "+t[e]+"<br />"+n},visible:{},width:200};return{create:function(t,e){var n=this;void 0===e&&(e={}),this.props=f(r,Object.assign({},e)),this.previousData=e.data.counts.map(function(t,n){return t.data.map(function(n,r){return{count:n,groupLabel:t.label,label:e.data.bins[r]}})}),this._makeSvg(t),this.containers=[],this.previousData.forEach(function(t,e){n.drawChartBg(n.props.data,e)}),this.update(t,e)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=r.getElementsByTagName("svg");i.length>0&&r.removeChild(i[0])}var a=this.props,s=a.margin,o=a.width,c=a.height,l=a.className;t=Object(p.d)(r).append("svg").attr("class",l).attr("width",o).attr("height",c).attr("viewBox","0 0 "+o+" "+c).append("g").attr("transform","translate("+s.left+","+s.top+")");var u=Object(b.b)(this.props.tipContainer,e);n=u.tipContent,e=u.tipContainer},update:function(t,e){e.data&&(this.props=f(r,e),e.colorScheme&&(this.props.colorScheme=e.colorScheme),this.props.data.bins&&this.drawCharts())},outerRadius:function(t){void 0===t&&(t=0);var e=this.props,n=e.donutWidth,r=void 0===n?0:n,i=e.width,a=e.height,s=Math.min(i,a)/2;return 0===r?s-10:s-10-t*(r+10)},innerRadius:function(t){void 0===t&&(t=0);var e=this.props,n=e.donutWidth,r=void 0===n?0:n,i=e.width,a=e.height,s=Math.min(i,a)/2;return 0===r?0:s-10-r-t*(r+10)},drawCharts:function(){var t=this,e=this.props,n=e.data,r=e.visible;this.dataSets=n.counts.map(function(t){return t.data.map(function(e,i){return{count:!1!==r[n.bins[i]]?e:0,groupLabel:t.label,label:n.bins[i]}})}),this.dataSets.forEach(function(e,r){var i=W(n.counts[r],"colors",t.props.colorScheme);t.drawChart(e,r,n.bins,i)}),this.previousData=this.dataSets},drawChartBg:function(e,n){var r=this.props,i=r.backgroundColor,a=r.width,s=r.height,o=2*Math.PI,c=this.outerRadius(n),l=this.innerRadius(n),u=Object(O.a)().innerRadius(l).outerRadius(c).startAngle(0).endAngle(o),d=t.append("g").attr("class","pie-bg").append("path").attr("class","pie-background").style("fill",i);d.enter().attr("transform","translate("+a/2+","+s/2+")").attr("d",u),d.merge(d),this.containers[n]||(this.containers[n]=t.append("g").attr("class","pie-container"))},drawChart:function(t,r,i,a){var s=this.props,o=s.labels,c=s.width,l=s.height,u=s.tip,d=s.tipContentFn,p=this.outerRadius(r),f=this.innerRadius(r),g=Object(O.e)().sort(null).value(function(t){return t.count}),m=g(this.previousData[r]),b=Object(h.d)(a),v=Object(O.a)().outerRadius(p).innerRadius(f),y=this.containers[r].selectAll("path").data(g(t));y.enter().append("g").attr("class","arc").append("path").attr("transform","translate("+c/2+","+l/2+")").attr("stroke","#FFF").attr("fill",function(t,e){return b(e)}).each(function(t,e){this._current=m[e]}).attr("d",v).on("mouseover",function(t,r){n.html(function(){return d(i,r,t.data.count,t.data.groupLabel)}),u.fx.in(e)}).on("mousemove",function(){return u.fx.move(e)}).on("mouseout",function(){return u.fx.out(e)}).style("opacity",0).transition().duration(500).style("opacity",1),y.merge(y).on("mouseover",function(t,r){n.html(function(){return d(i,r,t.data.count,t.data.groupLabel)}),u.fx.in(e)}).on("mousemove",function(){return u.fx.move(e)}).on("mouseout",function(){return u.fx.out(e)}).transition().delay(400).duration(500).attr("fill",function(t,e){return b(e)}).attrTween("d",function(t){return function(e){var n=Object(R.a)(this._current,e);return this._current=n(0),function(e){return t(n(e))}}}(v));var x=this.containers[r].selectAll("text.label").data(g(t));x.enter().append("text").attr("class","label").each(function(){this._height=l,this._width=c}).attr("transform",function(t){var e=v.centroid(t);return"translate("+(e[0]+this._width/2)+","+(e[1]+this._height/2)+")"}).each(function(t,e){this._current=t}).text(function(t,e){return 0===t.value?"":o.displayFn(t,e)});x.merge(x).transition().duration(500).style("opacity",0).transition().attr("transform",function(t){var e=v.centroid(t);return"translate("+(e[0]+this._width/2)+","+(e[1]+this._height/2)+")"}).transition().duration(500).style("opacity",function(t,e,n){return!1===o.display||0===t.data.count||0===n[e]._current.value?0:1}),x.exit().remove(),y.exit().transition().duration(500).style("opacity",0).remove()},destroy:function(e){t.selectAll("svg > *").remove()}}};var z=function(t){function e(e){var n;return(n=t.call(this,e)||this).chart=F(),n.state={parentWidth:300},n}s()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=(this.getDOMNode(),this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0);this.setState({parentWidth:e},function(){return t.chart.create(t.getDOMNode(),t.getChartState())})},n.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())},n.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=(e.children,i()(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},n,{width:t})},n.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},n.getDOMNode=function(){return l.findDOMNode(this.ref)},n.render=function(){var t=this;return c.createElement("div",{ref:function(e){return t.ref=e},className:"piechart-chart-container"})},e}(c.Component);z.defaultProps={backgroundColor:"#ddd",donutWidth:0,height:200,margin:{left:5,top:5}};n(129),n(292),n(84);var _=function(){var t,e,n,r,i=Object(h.b)(),a=Object(h.b)(),s={},o={choices:[],className:"scatter-plot-d3",colorScheme:g.a,data:[],delay:0,duration:400,height:300,legendWidth:100,padding:20,radius:4,width:"100%"};return{create:function(t,e){void 0===e&&(e=o),this.props=f(o,e),this.update(t,e)},_makeSvg:function(e,r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=e.getElementsByTagName("svg");i.length>0&&e.removeChild(i[0])}var a=this.props,s=a.width,o=a.className,c=a.height,l=a.legendWidth,u=a.padding;t=Object(p.d)(e).append("svg").attr("class",o).attr("width",s+u+l).attr("height",c+u).append("g").attr("transform","translate("+u+","+u/2+")"),n=Object(h.d)(this.props.colorScheme)},_drawScales:function(n){var o=this.props,c=o.height,l=o.padding,u=o.width/n.length,d=c/n.length;a.range([l/2,u-l/2]),i.range([c-l/2,l/2]),t.selectAll(".x.axis").data(n).enter().append("g").attr("class","x axis").attr("transform",function(t,e){return"translate("+(n.length-e-1)*u+",0)"}).each(function(t){a.domain(s[t]),Object(p.d)(this).call(e)}),t.selectAll(".y.axis").data(n).enter().append("g").attr("class","y axis").attr("transform",function(t,e){return"translate(0,"+e*d+")"}).each(function(t){i.domain(s[t]),Object(p.d)(this).call(r)})},_drawLegend:function(){var e=this.props,r=e.choices,i=e.padding,a=e.width,s=e.split;if(void 0!==r){var o=t.append("g").attr("transform","translate("+(a+i/2)+", "+(i+50)+")");o.append("g").append("text").attr("x",0).attr("y",0).attr("dy",".71em").text(function(t){return s}),o.selectAll(".legendItem").data(r).enter().append("g").each(function(t,e){var r=Object(p.d)(this);r.append("rect").attr("class","legendItem").attr("x",0).attr("y",20+15*e).attr("fill",n(e)).attr("height",10).attr("width",10),r.append("text").attr("x",15).attr("y",20+15*e).attr("dy",".71em").text(function(e){return t})}),o.exit().remove()}},_drawPoints:function(e,r,o){var c=this.props,l=c.data,u=c.delay,d=c.duration,h=c.choices,f=c.split,g=c.padding,m=c.radius,b=e.length;t.selectAll(".cell").data(function(t,e){var n,r,i=[],a=t.length,s=e.length;for(n=-1;++n<a;)for(r=-1;++r<s;)i.push({x:t[n],i:n,y:e[r],j:r});return i}(e,e)).enter().append("g").attr("class","cell").attr("transform",function(t){return"translate("+(b-t.i-1)*r+","+t.j*r+")"}).each(function(t){var e=Object(p.d)(this);a.domain(s[Number(t.x)]),i.domain(s[Number(t.y)]),e.append("rect").attr("class","frame").attr("x",g/2).attr("y",g/2).attr("width",r-g).attr("height",o-g),e.selectAll("circle").data(l.values).enter().append("circle").attr("r",function(t){return m}).attr("cx",function(e){return a(e[Number(t.x)])}).attr("cy",function(e){return i(e[Number(t.y)])}).style("fill",function(t){if(t[f]){var e=h.findIndex(function(e){return e===t[f]});return n(e)}return"#eeaabb"}).transition().duration(d).delay(u).attr("r",function(t){return m})}).filter(function(t){return t.i===t.j}).append("text").attr("x",g).attr("y",g).attr("dy",".71em").text(function(t){return t.x})},update:function(t,n){if(this.props=Object.assign({},this.props,n),n.data){var o=this.props,c=o.data,l=o.distModels,h=o.height,p=o.width;this._makeSvg(t,n.data),this._drawLegend();var f=c.keys.filter(function(t){return-1!==l.indexOf(t)}),g=p/f.length,m=h/f.length,b=f.length;f.forEach(function(t){s[t]=Object(u.a)(c.values,function(e){return e[t]})}),e=Object(d.a)(a).ticks(6).tickSize(g*b),r=Object(d.b)(i).ticks(6).tickSize(-m*b),this._drawScales(f),this._drawPoints(f,g,m)}},destroy:function(e){t.selectAll("svg > *").remove()}}},L=function(t){function e(e){var n;return(n=t.call(this,e)||this).chart=_(),n.state={choices:[],data:[],distModels:[],height:n.props.height,parentWidth:400,split:"",width:n.props.width},n}s()(e,t);var n=e.prototype;return n.handleResize=function(){var t=this,e=this.props,n=e.legendWidth,r=e.padding,i=Math.max(200,this.ref.offsetWidth-r-n),a=Math.max(200,window.innerHeight-r-this.ref.getBoundingClientRect().top),s=Math.min(a,i);this.setState({parentWidth:s},function(){return t.chart.create(t.getDOMNode(),t.getChartState())})},n.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState());var e=this.props.width;"string"==typeof e&&"100%"===e&&(window.addEventListener("resize",function(e){return t.handleResize()}),this.handleResize())},n.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},n.getChartState=function(){var t=this.props.width,e=this.props,n=e.data,r=e.choices,i=e.split,a=e.distModels,s=e.height;return"string"==typeof t&&"100%"===t&&(t=this.state.parentWidth||300),{choices:r,data:n,distModels:a,height:s,parentWidth:this.state.parentWidth,split:i,width:t}},n.componentWillReceiveProps=function(t){this.chart.update(this.getDOMNode(),this.getChartState())},n.componentWillUnmount=function(){var t=this.props.width;"string"==typeof t&&"100%"===t&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},n.getDOMNode=function(){return l.findDOMNode(this.ref)},n.render=function(){var t=this;return c.createElement("div",{ref:function(e){return t.ref=e},className:"scatterplot-chart-container"})},e}(c.Component);L.defaultProps={height:400,width:"100%"};n.d(e,"a",function(){return x}),n.d(e,"b",function(){return N})}}]);
//# sourceMappingURL=component---src-pages-map-tsx-7b381d5febe7dd7583ef.js.map