(window.webpackJsonp=window.webpackJsonp||[]).push([[10,14],{268:function(t,n,e){"use strict";e.r(n);var r=e(483),i=e(484),a=function(t,n){var e,a,o,s,c=Object(i.a)("beforesend","progress","load","error"),u=Object(r.a)(),l=new XMLHttpRequest,h=null,f=null,d=0;function p(t){var n,r=l.status;if(!r&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(l)||r>=200&&r<300||304===r){if(o)try{n=o.call(e,l)}catch(i){return void c.call("error",e,i)}else n=l;c.call("load",e,n)}else c.call("error",e,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=p:l.onreadystatechange=function(t){l.readyState>3&&p(t)},l.onprogress=function(t){c.call("progress",e,t)},e={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==n?u.remove(t):u.set(t,n+""),e)},mimeType:function(t){return arguments.length?(a=null==t?null:t+"",e):a},responseType:function(t){return arguments.length?(s=t,e):s},timeout:function(t){return arguments.length?(d=+t,e):d},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",e)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",e)},response:function(t){return o=t,e},get:function(t,n){return e.send("GET",t,n)},post:function(t,n){return e.send("POST",t,n)},send:function(n,r,i){return l.open(n,t,!0,h,f),null==a||u.has("accept")||u.set("accept",a+",*/*"),l.setRequestHeader&&u.each(function(t,n){l.setRequestHeader(n,t)}),null!=a&&l.overrideMimeType&&l.overrideMimeType(a),null!=s&&(l.responseType=s),d>0&&(l.timeout=d),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(t){return function(n,e){t(null==n?e:null)}}(i)),null!=i&&e.on("error",i).on("load",function(t){i(null,t)}),c.call("beforesend",e,l),l.send(null==r?null:r),e},abort:function(){return l.abort(),e},on:function(){var t=c.on.apply(c,arguments);return t===c?e:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return e.get(n)}return e};var o=function(t,n){return function(e,r){var i=a(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},s=(o("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),o("application/json",function(t){return JSON.parse(t.responseText)})),c=(o("text/plain",function(t){return t.responseText}),o("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),{}),u={},l=34,h=10,f=13;function d(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var p=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,o=0,s=0,d=a<=0,p=!1;function g(){if(d)return u;if(p)return p=!1,c;var n,r,i=o;if(t.charCodeAt(i)===l){for(;o++<a&&t.charCodeAt(o)!==l||t.charCodeAt(++o)===l;);return(n=o)>=a?d=!0:(r=t.charCodeAt(o++))===h?p=!0:r===f&&(p=!0,t.charCodeAt(o)===h&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(n=o++))===h)p=!0;else if(r===f)p=!0,t.charCodeAt(o)===h&&++o;else if(r!==e)continue;return t.slice(i,n)}return d=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===h&&--a,t.charCodeAt(a-1)===f&&--a;(r=g())!==u;){for(var v=[];r!==c&&r!==u;)v.push(r),r=g();n&&null==(v=n(v,s++))||i.push(v)}return i}function i(n){return n.map(a).join(t)}function a(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=d(t);return function(r,i){return n(e(r),i,t)}}(t,n):d(t)});return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(a).join(t)].concat(n.map(function(n){return e.map(function(t){return a(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},g=p(","),v=g.parse,m=(g.parseRows,g.format,g.formatRows,p("\t")),y=m.parse,b=(m.parseRows,m.format,m.formatRows,function(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=a(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},o.row(r),i?o.get(i):o}});b("text/csv",v),b("text/tab-separated-values",y);var x=e(274),w=e(0),k=e.n(w),S=e(420),O=e(297),E=e(291),j=e(309);n.default=function(){var t=Object(w.useState)(!0),n=t[0],e=t[1],r=Object(w.useState)(null),i=r[0],a=r[1];return Object(w.useEffect)(function(){s("https://opendata.arcgis.com/datasets/8d3a9e6e7bd445e2bdcc26cdf007eac7_3.geojson",function(t,n){if(t)throw t;a(n),e(!1)})},[]),n?k.a.createElement("div",null,"loading"):k.a.createElement(O.a,null,k.a.createElement(E.a,{title:"Histogram",description:""}),k.a.createElement("h1",null,"Map"),k.a.createElement(x.a,{to:"/"},"Go back to the homepage"),k.a.createElement("div",null,k.a.createElement(S.b,{data:j.b,geojson:i,height:400,width:400})))}},274:function(t,n,e){"use strict";e.d(n,"b",function(){return l});var r=e(0),i=e.n(r),a=e(1),o=e.n(a),s=e(53),c=e.n(s);e.d(n,"a",function(){return c.a});e(276);var u=i.a.createContext({}),l=function(t){return i.a.createElement(u.Consumer,null,function(n){return t.data||n[t.query]&&n[t.query].data?(t.render||t.children)(t.data?t.data.data:n[t.query].data):i.a.createElement("div",null,"Loading (StaticQuery)")})};l.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}},275:function(t,n,e){"use strict";n.a=["#4bbcad","#d54539","#5ab94d","#8a5cd3","#a4b243","#ba5ccd","#54995c","#cf47a1","#d29f3e","#5c6fda","#c36528","#5fa6dc","#d74770","#7d7430","#8a529e","#df9273","#5f74b8","#ac5450","#d192d7","#b26088"]},276:function(t,n,e){var r;t.exports=(r=e(290))&&r.default||r},279:function(t,n,e){"use strict";e.d(n,"b",function(){return i});var r=e(272);n.a={fx:{in:function(t){t.style("left",r.a.pageX+"px").style("top",r.a.pageY-55+"px"),t.transition().duration(200).style("opacity",.9)},move:function(t){t.style("left",r.a.pageX+"px").style("top",r.a.pageY-55+"px")},out:function(t){t.transition().duration(100).style("opacity",0)}}};var i=function(t,n){return n&&n.remove(),(n=Object(r.d)(t).append("div").attr("class","tooltip top").style("opacity",0)).append("div").attr("class","tooltip-arrow"),{tipContainer:n,tipContent:n.append("div").attr("class","tooltip-inner")}}},280:function(t,n,e){"use strict";var r=Array.prototype.slice,i=function(t){return t},a=1,o=2,s=3,c=4,u=1e-6;function l(t){return"translate("+(t+.5)+",0)"}function h(t){return"translate(0,"+(t+.5)+")"}function f(){return!this.__axis}function d(t,n){var e=[],d=null,p=null,g=6,v=6,m=3,y=t===a||t===c?-1:1,b=t===c||t===o?"x":"y",x=t===a||t===s?l:h;function w(r){var l=null==d?n.ticks?n.ticks.apply(n,e):n.domain():d,h=null==p?n.tickFormat?n.tickFormat.apply(n,e):i:p,w=Math.max(g,0)+m,k=n.range(),S=+k[0]+.5,O=+k[k.length-1]+.5,E=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),j=r.selection?r.selection():r,M=j.selectAll(".domain").data([null]),C=j.selectAll(".tick").data(l,n).order(),A=C.exit(),_=C.enter().append("g").attr("class","tick"),N=C.select("line"),D=C.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(_),N=N.merge(_.append("line").attr("stroke","currentColor").attr(b+"2",y*g)),D=D.merge(_.append("text").attr("fill","currentColor").attr(b,y*w).attr("dy",t===a?"0em":t===s?"0.71em":"0.32em")),r!==j&&(M=M.transition(r),C=C.transition(r),N=N.transition(r),D=D.transition(r),A=A.transition(r).attr("opacity",u).attr("transform",function(t){return isFinite(t=E(t))?x(t):this.getAttribute("transform")}),_.attr("opacity",u).attr("transform",function(t){var n=this.parentNode.__axis;return x(n&&isFinite(n=n(t))?n:E(t))})),A.remove(),M.attr("d",t===c||t==o?v?"M"+y*v+","+S+"H0.5V"+O+"H"+y*v:"M0.5,"+S+"V"+O:v?"M"+S+","+y*v+"V0.5H"+O+"V"+y*v:"M"+S+",0.5H"+O),C.attr("opacity",1).attr("transform",function(t){return x(E(t))}),N.attr(b+"2",y*g),D.attr(b,y*w).text(h),j.filter(f).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===o?"start":t===c?"end":"middle"),j.each(function(){this.__axis=E})}return w.scale=function(t){return arguments.length?(n=t,w):n},w.ticks=function(){return e=r.call(arguments),w},w.tickArguments=function(t){return arguments.length?(e=null==t?[]:r.call(t),w):e.slice()},w.tickValues=function(t){return arguments.length?(d=null==t?null:r.call(t),w):d&&d.slice()},w.tickFormat=function(t){return arguments.length?(p=t,w):p},w.tickSize=function(t){return arguments.length?(g=v=+t,w):g},w.tickSizeInner=function(t){return arguments.length?(g=+t,w):g},w.tickSizeOuter=function(t){return arguments.length?(v=+t,w):v},w.tickPadding=function(t){return arguments.length?(m=+t,w):m},w}function p(t){return d(s,t)}function g(t){return d(c,t)}e.d(n,"a",function(){return p}),e.d(n,"b",function(){return g})},283:function(t,n,e){"use strict";e(84),e(325),e(128);n.a=function(t,n){return Object.keys(n).forEach(function(e){t.attr(e,n[e])}),t}},286:function(t,n,e){"use strict";var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN};var i,a;1===(i=r).length&&(a=i,i=function(t,n){return r(a(t),n)});var o=function(t,n){let e,r;if(void 0===n)for(let i of t)null!=i&&i>=i&&(void 0===e?e=r=i:(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&a>=a&&(void 0===e?e=r=a:(e>a&&(e=a),r<a&&(r=a)))}return[e,r]};var s=Array.prototype;s.slice,s.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);e.d(n,"a",function(){return o})},289:function(t){t.exports={data:{site:{siteMetadata:{title:"Infosum Charts"}}}}},290:function(t,n,e){"use strict";e.r(n);e(54);var r=e(0),i=e.n(r),a=e(1),o=e.n(a),s=e(85),c=e(4),u=function(t){var n=t.location,e=c.default.getResourcesForPathnameSync(n.pathname);return i.a.createElement(s.a,Object.assign({location:n,pageResources:e},e.json))};u.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},n.default=u},291:function(t,n,e){"use strict";var r=e(292),i=e(1),a=e.n(i),o=e(0),s=e.n(o),c=e(324),u=e.n(c);function l(t){var n=t.description,e=t.lang,i=t.meta,a=t.keywords,o=t.title,c=r.data.site,l=n||c.siteMetadata.description;return s.a.createElement(u.a,{htmlAttributes:{lang:e},title:o,titleTemplate:"%s | "+c.siteMetadata.title,meta:[{content:l,name:"description"},{content:o,property:"og:title"},{content:l,property:"og:description"},{content:"website",property:"og:type"},{content:"summary",name:"twitter:card"},{content:c.siteMetadata.author,name:"twitter:creator"},{content:o,name:"twitter:title"},{content:l,name:"twitter:description"}].concat(a.length>0?{content:a.join(", "),name:"keywords"}:[]).concat(i)})}l.defaultProps={keywords:[],lang:"en",meta:[]},l.propTypes={description:a.a.string,keywords:a.a.arrayOf(a.a.string),lang:a.a.string,meta:a.a.array,title:a.a.string.isRequired},n.a=l},292:function(t){t.exports={data:{site:{siteMetadata:{title:"Infosum Charts",description:"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.",author:"@gatsbyjs"}}}}},293:function(t,n,e){"use strict";e(310);var r=e(352);n.a=function(t){return t.filter(function(t){try{var n=r(t),e=n.hsl().array();if(e.length>3)return!1;var i=n.luminosity();return i<.8&&i>.1&&e[2]<200&&e[2]>20}catch(a){return!1}}).filter(function(t,n,e){return e.indexOf(t)===n}).sort(function(){return Math.random()-.5})}},297:function(t,n,e){"use strict";var r=e(289),i=(e(321),e(274)),a=e(1),o=e.n(a),s=e(0),c=e.n(s),u=e(287),l=function(t){var n=t.siteTitle;return c.a.createElement(u.a,{position:"static"},c.a.createElement(u.m,null,c.a.createElement(u.n,{variant:"h6",color:"inherit"},c.a.createElement(i.a,{to:"/"},n)),c.a.createElement(u.b,null,c.a.createElement(i.a,{to:"/histogram"},"Histogram")),c.a.createElement(u.b,null,c.a.createElement(i.a,{to:"/line"},"Line Chart")),c.a.createElement(u.b,null,c.a.createElement(i.a,{to:"/pie"},"Pie Chart")),c.a.createElement(u.b,null,c.a.createElement(i.a,{to:"/joyplot"},"Joy Plot"))))};l.propTypes={siteTitle:o.a.string},l.defaultProps={siteTitle:""};var h=l,f=function(t){var n=t.children;return c.a.createElement(i.b,{query:"755544856",render:function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{siteTitle:t.site.siteMetadata.title}),c.a.createElement("div",{style:{flexGrow:2,margin:"0 auto",padding:"0px 1.0875rem 1.45rem",paddingTop:0,width:"100%"}},c.a.createElement("main",null,n)),c.a.createElement("footer",null,"© ",(new Date).getFullYear(),", Built by"," ",c.a.createElement("a",{href:"https://www.infosum.com"},"InfoSum")))},data:r})};f.propTypes={children:o.a.node.isRequired};n.a=f},298:function(t,n,e){"use strict";e(332);var r=e(7),i=e(129),a=e(25),o=/./.toString,s=function(t){e(26)(RegExp.prototype,"toString",t,!0)};e(24)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},302:function(t,n,e){"use strict";var r=e(16),i=e(141)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e(56)(a)},306:function(t,n,e){var r=e(57)("meta"),i=e(17),a=e(40),o=e(38).f,s=0,c=Object.isExtensible||function(){return!0},u=!e(24)(function(){return c(Object.preventExtensions({}))}),l=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!c(t))return"F";if(!n)return"E";l(t)}return t[r].i},getWeak:function(t,n){if(!a(t,r)){if(!c(t))return!0;if(!n)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!a(t,r)&&l(t),t}}},307:function(t,n,e){var r=e(17);t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},309:function(t,n,e){"use strict";e.d(n,"d",function(){return i}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return s}),e.d(n,"e",function(){return c});var r=e(293),i={x:{style:{stroke:"#eeAA00","stroke-opacity":.4},ticks:5},y:{height:20,style:{"stroke-opacity":.4},ticks:5}},a={bins:["Data 1","Data 6","Data 3","Dat 4"],counts:[{data:[1,2,3,4],label:"DataSet 1"},{data:[13,14,15,16],label:"DataSet 2"}],grid:i},o={bins:["bin 1","bin 2","bin 3 with a long name","bin 4","bin 5","bin 6","bin 7"],counts:[{borderColors:["red"],data:[1,2,3,4,5,6,7],label:"Data 1"}],title:"Plot 1"},s={x:{height:20,label:"X Axis",margin:20,text:{style:{dy:".35em","text-anchor":"start",transform:"rotate(90)",x:0,y:0}},tickSize:0},y:{label:"Y Axis!",style:{fill:"none",stroke:"#eeAA00"},text:{style:{fill:"#eeAA00"}},tickSize:20,ticks:3,width:50}},c=Object(r.a)(["rgba(255, 113, 1, 0.5)","#fff6ef","rgba(0, 169, 123, 0.5)","#f6fffd","#D7263D","rgba(215, 38, 61, 0.05)","#0f2629","#ededed","rgba(86, 180, 191, 0.5)","#f5fbfb","#000000","#0f2629","#D7263D","#FBD7D9","#ffebec","#963540","#22545a","#56b4bf","#56b4bf","#56b4bf","#FF7101","#449098","#77c3cb","#d4eef8","#ff7101","#FF7101","#cc5a00","#ff8d33","#fef9e5","#7d5d2e","#00a97b","#008762","#33ba95","#dbf1d6","#227839","#0f5e7b","#d4eef8","#0f5e7b","#F9C80E","#007656","#c5e5e9","#f9c80e","#a9a9a9","#dbdbdb","#cccccc","#e6e6e6","#56b4bf","#449098","#77c3cb","#22545a","#ff7101","#cdcdcd","#ffffff","#d7263d","#00a97b","#888888","#e6e6e6","#f2f2f2","#f4f4f4"])},316:function(t,n,e){"use strict";e(54);var r=e(277),i=e(0),a=e(275),o={cursor:"pointer",display:"inline-block",height:"1rem",margin:"0.25rem 0.5rem",width:"1rem"},s={listStyle:"none"};n.a=function(t){var n=t.className,e=t.theme,c=void 0===e?a.a:e,u=t.data,l=t.onSelect,h=t.visible,f=Object(r.d)(c),d=u.bins;return i.createElement("div",{className:n},i.createElement("ul",{style:s},d.map(function(t){var n=h.hasOwnProperty(t)&&h[t]||!h.hasOwnProperty(t);return i.createElement("li",{key:t},i.createElement("div",{style:Object.assign({},o,{backgroundColor:n?f(t):"#FFF",border:"2px solid "+f(t)}),onClick:function(){return l(t)}})," ",t)})))}},319:function(t,n,e){"use strict";e(54);var r=e(82),i=e.n(r),a=e(10),o=e.n(a),s=e(0),c=e(55),u=(e(310),e(128),e(421),e(318)),l=e(277),h=e(272),f=e(317),d=e(278),p=e(299),g=e(275),v=e(279),m=function(){var t,n,e,r={backgroundColor:"#ddd",className:"piechart-d3",colorScheme:g.a,data:{bins:[],counts:[]},donutWidth:0,height:200,labels:{display:!0,displayFn:function(t,n){return t.value}},margin:{left:10,top:10},tip:v.a,tipContainer:"body",tipContentFn:function(t,n,e,r){return r+": "+t[n]+"<br />"+e},visible:{},width:200};return{create:function(t,n){var e=this;void 0===n&&(n={}),this.props=d(r,Object.assign({},n)),this.previousData=n.data.counts.map(function(t,e){return t.data.map(function(e,r){return{count:e,groupLabel:t.label,label:n.data.bins[r]}})}),this._makeSvg(t),this.containers=[],this.previousData.forEach(function(t,n){e.drawChartBg(e.props.data,n)}),this.update(t,n)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=r.getElementsByTagName("svg");i.length>0&&r.removeChild(i[0])}var a=this.props,o=a.margin,s=a.width,c=a.height,u=a.className;t=Object(h.d)(r).append("svg").attr("class",u).attr("width",s).attr("height",c).attr("viewBox","0 0 "+s+" "+c).append("g").attr("transform","translate("+o.left+","+o.top+")");var l=Object(v.b)(this.props.tipContainer,n);e=l.tipContent,n=l.tipContainer},update:function(t,n){n.data&&(this.props=d(r,n),n.colorScheme&&(this.props.colorScheme=n.colorScheme),this.props.data.bins&&this.drawCharts())},outerRadius:function(t){void 0===t&&(t=0);var n=this.props,e=n.donutWidth,r=void 0===e?0:e,i=n.width,a=n.height,o=Math.min(i,a)/2;return 0===r?o-10:o-10-t*(r+10)},innerRadius:function(t){void 0===t&&(t=0);var n=this.props,e=n.donutWidth,r=void 0===e?0:e,i=n.width,a=n.height,o=Math.min(i,a)/2;return 0===r?0:o-10-r-t*(r+10)},drawCharts:function(){var t=this,n=this.props,e=n.data,r=n.visible;this.dataSets=e.counts.map(function(t){return t.data.map(function(n,i){return{count:!1!==r[e.bins[i]]?n:0,groupLabel:t.label,label:e.bins[i]}})}),this.dataSets.forEach(function(n,r){var i=p(e.counts[r],"colors",t.props.colorScheme);t.drawChart(n,r,e.bins,i)}),this.previousData=this.dataSets},drawChartBg:function(n,e){var r=this.props,i=r.backgroundColor,a=r.width,o=r.height,s=2*Math.PI,c=this.outerRadius(e),u=this.innerRadius(e),l=Object(f.a)().innerRadius(u).outerRadius(c).startAngle(0).endAngle(s),h=t.append("g").attr("class","pie-bg").append("path").attr("class","pie-background").style("fill",i);h.enter().attr("transform","translate("+a/2+","+o/2+")").attr("d",l),h.merge(h),this.containers[e]||(this.containers[e]=t.append("g").attr("class","pie-container"))},drawChart:function(t,r,i,a){var o=this.props,s=o.labels,c=o.width,h=o.height,d=o.tip,p=o.tipContentFn,g=this.outerRadius(r),v=this.innerRadius(r),m=Object(f.l)().sort(null).value(function(t){return t.count}),y=m(this.previousData[r]),b=Object(l.d)(a),x=Object(f.a)().outerRadius(g).innerRadius(v),w=this.containers[r].selectAll("path").data(m(t));w.enter().append("g").attr("class","arc").append("path").attr("transform","translate("+c/2+","+h/2+")").attr("stroke","#FFF").attr("fill",function(t,n){return b(n)}).each(function(t,n){this._current=y[n]}).attr("d",x).on("mouseover",function(t,r){e.html(function(){return p(i,r,t.data.count,t.data.groupLabel)}),d.fx.in(n)}).on("mousemove",function(){return d.fx.move(n)}).on("mouseout",function(){return d.fx.out(n)}).style("opacity",0).transition().duration(500).style("opacity",1),w.merge(w).on("mouseover",function(t,r){e.html(function(){return p(i,r,t.data.count,t.data.groupLabel)}),d.fx.in(n)}).on("mousemove",function(){return d.fx.move(n)}).on("mouseout",function(){return d.fx.out(n)}).transition().delay(400).duration(500).attr("fill",function(t,n){return b(n)}).attrTween("d",function(t){return function(n){var e=Object(u.a)(this._current,n);return this._current=e(0),function(n){return t(e(n))}}}(x));var k=this.containers[r].selectAll("text.label").data(m(t));k.enter().append("text").attr("class","label").each(function(){this._height=h,this._width=c}).attr("transform",function(t){var n=x.centroid(t);return"translate("+(n[0]+this._width/2)+","+(n[1]+this._height/2)+")"}).each(function(t,n){this._current=t}).text(function(t,n){return 0===t.value?"":s.displayFn(t,n)});k.merge(k).transition().duration(500).style("opacity",0).transition().attr("transform",function(t){var n=x.centroid(t);return"translate("+(n[0]+this._width/2)+","+(n[1]+this._height/2)+")"}).transition().duration(500).style("opacity",function(t,n,e){return!1===s.display||0===t.data.count||0===e[n]._current.value?0:1}),k.exit().remove(),w.exit().transition().duration(500).style("opacity",0).remove()},destroy:function(n){t.selectAll("svg > *").remove()}}};var y=function(t){function n(n){var e;return(e=t.call(this,n)||this).chart=m(),e.state={parentWidth:300},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=(this.getDOMNode(),this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0);this.setState({parentWidth:n},function(){return t.chart.create(t.getDOMNode(),t.getChartState())})},e.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=(n.children,i()(n,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},e,{width:t})},e.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},e.getDOMNode=function(){return c.findDOMNode(this.ref)},e.render=function(){var t=this;return s.createElement("div",{ref:function(n){return t.ref=n},className:"piechart-chart-container"})},n}(s.Component);y.defaultProps={backgroundColor:"#ddd",donutWidth:0,height:200,margin:{left:5,top:5}};n.a=y},320:function(t,n,e){"use strict";e(298),e(54);var r=e(82),i=e.n(r),a=e(10),o=e.n(a),s=e(281),c=e(0),u=e(55),l=(e(302),e(128),e(84),e(333),e(143),e(336),e(303),e(286)),h=e(280),f=e(277),d=e(272),p=e(278),g=e(299),v=e(275),m=e(283),y=e(279),b=function(){var t,n,e,r,i,a=Object(f.a)(),o=Object(f.b)(),s=Object(f.a)(),c=Object(f.a)();var u={axis:{x:{height:20,label:"",margin:10,style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}}},y:{label:"",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10,width:25}},bar:{groupMargin:0,margin:0,width:50},className:"histogram-d3",colorScheme:v.a,data:[{bins:[],counts:[]}],delay:0,domain:{max:null,min:null},duration:400,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:y.a,tipContainer:"body",tipContentFn:function(t,n,e,r){return r+": "+t[n]+"<br />"+e},visible:{},width:200};return{create:function(n,e){void 0===e&&(e={}),this.mergeProps(e),this._makeSvg(n),this.makeGrid(r),this.makeScales(),this.containers=r.data.map(function(n,e){return t.append("g").attr("class","histogram-container-"+e)}),this.update(n,r)},mergeProps:function(t){(r=p(u,t)).data=t.data,t.colorScheme&&(r.colorScheme=t.colorScheme)},_makeSvg:function(i){if(t){t.selectAll("svg > *").remove(),t.remove();var a=i.getElementsByTagName("svg");a.length>0&&i.removeChild(a[0])}var o=r,s=o.margin,c=o.width,u=o.height,l=o.className;t=Object(d.d)(i).append("svg").attr("class",l).attr("width",c).attr("height",u).attr("viewBox","0 0 "+c+" "+u).append("g").attr("transform","translate("+s.left+","+s.top+")");var h=Object(y.b)(r.tipContainer,n);e=h.tipContent,n=h.tipContainer},valuesCount:function(t){return t.reduce(function(t,n){return n.data.length>t?n.data.length:t},0)},appendDomainRange:function(t,n){var e=[],i=r.domain,o=n.reduce(function(t,n){var e=n.reduce(function(t,n){return[].concat(t,n.map(function(t){return t.value}))},[]);return[].concat(t,e)},[0]),s=Object(l.a)(o,function(t){return t});e[1]=i&&i.hasOwnProperty("max")&&null!==i.max?i.max:s[1],e[0]=i&&i.hasOwnProperty("min")&&null!==i.min?i.min:s[0];var c=[a.bandwidth(),0];t.range(c).domain(e)},yAxisWidth:function(){var t=r.axis;return""===t.y.label?t.y.width:t.y.width+30},xAxisHeight:function(){var t=r.axis;return""===t.x.label?t.x.height:t.x.height+30},makeScales:function(){var n=r,e=n.axis,i=n.margin,a=n.height,o=n.width;this.xAxis=t.append("g").attr("class","x-axis"),this.yAxis=t.append("g").attr("class","y-axis"),""!==e.x.label&&t.append("text").attr("class","x-axis-label").attr("transform","translate("+Number(o)/2+" ,"+(a-this.xAxisHeight()-2*i.left+10+e.x.margin)+")").style("text-anchor","middle").text(e.x.label),""!==e.y.label&&t.append("text").attr("class","y-axis-label").attr("transform","translate(0, -"+this.gridHeight()+")rotate(-90)").attr("y",0-i.left).attr("x",0-(a/2-2*i.top)).attr("dy","1em").style("text-anchor","middle").text(e.y.label)},getBins:function(){return r.data.reduce(function(t,n){return Array.from(new Set(t.concat(n.bins)))},[])},_drawScales:function(n){var e,u=this,l=r,f=(l.bar,l.domain,l.margin),d=(l.width,l.height),p=l.axis,v=n.reduce(function(t,n){var e=u.valuesCount(n.counts);return e>t?e:t},0),y=this.gridWidth(),b=n[0].counts.map(function(t){return t.label}),x=this.getBins();s.domain(x).rangeRound([0,y]).paddingInner(this.groupedMargin()),c.domain(b).rangeRound([0,s.bandwidth()]).paddingInner(this.barMargin()),e=Object(h.a)(s);var w=g(p,"x.tickSize",void 0);void 0!==w?e.tickSize(w):y/v<10&&e.tickValues(s.domain().filter(function(t,n){return!(n%10)})),this.xAxis.attr("transform","translate("+(this.yAxisWidth()+p.y.style["stroke-width"])+","+(d-this.xAxisHeight()-2*f.left)+")").call(e);var k=n.map(function(t){return t.title}),S=[d-2*f.top-this.xAxisHeight(),0];a.domain(k).rangeRound(S),this.appendDomainRange(o,i);var O=Object(h.b)(a).ticks(p.y.ticks),E=g(p,"y.tickSize",void 0);void 0!==E&&O.tickSize(E),this.yAxis.attr("transform","translate("+this.yAxisWidth()+", 0)").transition().call(O);Object.assign({},p.x.text.style),Object.assign({},p.y.text.style);Object(m.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),p.y.style),Object(m.a)(t.selectAll(".y-axis .tick text"),p.y.text.style),Object(m.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),p.x.style),Object(m.a)(t.selectAll(".x-axis .tick text"),p.x.text.style)},gridWidth:function(){var t=r,n=(t.axis,t.width),e=t.margin;return Number(n)-2*e.left-this.yAxisWidth()},gridHeight:function(){var t=r,n=t.height,e=t.margin;t.axis;return n-2*e.top-this.xAxisHeight()},groupedMargin:function(){var t=g(r.bar,"groupMargin",.1);return t>=0&&t<=1?t:0},barMargin:function(){var t=g(r.bar,"margin",0);return t>=0&&t<=1?t:.1},barWidth:function(){return c.bandwidth()},updateChart:function(t){var i=this,u=this.getBins(),l=r,h=(l.height,l.width,l.margin,l.bar,l.delay),d=l.duration,p=l.axis,g=l.stroke,v=l.tip,m=l.tipContentFn,y=this.barWidth(),b=Object(f.d)(r.colorScheme),x=Object(f.d)(["#FFF"]),w=this.yAxisWidth();this.groupedMargin(),t.reduce(function(t,n){var e=n.reduce(function(t,n){return n.length>t?n.length:t},0);return e>t?e:t},0);t.forEach(function(t,l){var f=r.data[l].title,k=i.containers[l].selectAll("g").data(t),S=k.enter().append("g").merge(k).attr("transform",function(t){return"translate("+(w+p.y.style["stroke-width"]+s(t[0].label))+", "+a(t[0].joyLabel)+")"}).selectAll("rect").data(function(t){return t});S.enter().append("rect").attr("height",0).attr("y",function(t){return a.bandwidth()}).attr("class","bar").attr("x",function(t){return c(t.groupLabel)}).attr("width",function(t){return y}).attr("fill",function(t,n){return b(n)}).on("mouseover",function(t){var r=u.findIndex(function(n){return n===t.label});e.html(function(){return m(u,r,t.value,f)}),v.fx.in(n)}).on("mousemove",function(){return v.fx.move(n)}).on("mouseout",function(){return v.fx.out(n)}).merge(S).transition().duration(d).delay(h).attr("y",function(t){return o(t.value)}).attr("stroke",function(t,n){if(x)return x(n)}).attr("shape-rendering","crispEdges").attr("stroke-width",g.width).attr("stroke-linecap",g.linecap).attr("stroke-dasharray",function(t){var n=a.bandwidth()-o(t.value);return y+" 0 "+n+" "+y}).attr("height",function(t){return a.bandwidth()-o(t.value)}),k.exit().remove()})},makeGrid:function(n){n.grid;this.gridX=t.append("g").attr("class","grid gridX"),this.gridY=t.append("g").attr("class","grid gridY")},_drawGrid:function(){var t=this,n=r,e=n.data,i=n.height,o=n.width,c=n.axis,u=n.grid,l=n.margin,f=(n.bar,e.reduce(function(n,e){var r=t.valuesCount(e.counts);return r>n?n:r},0)),d=c.y.style["stroke-width"],p=this.yAxisWidth()+d,v=this.gridHeight();u.x.visible&&(this.gridX.attr("transform","translate("+p+", "+v+")"),this.gridX.call(function(t){return void 0===t&&(t=5),Object(h.a)(s).ticks(t)}(g(u,"x.ticks",f)).tickSize(-i+this.xAxisHeight()+2*l.top).tickFormat(function(){return""})),Object(m.a)(this.gridX.selectAll(".tick line"),u.x.style),Object(m.a)(this.gridX.selectAll(".domain"),{stroke:"transparent"})),u.y.visible&&(this.gridY.attr("transform","translate("+(this.yAxisWidth()+d)+", 0)").transition().call(function(t){return void 0===t&&(t=5),Object(h.b)(a).ticks(t)}(g(u,"y.ticks",f)).tickSize(-o+2*l.left+this.yAxisWidth()).tickFormat(function(){return""})),Object(m.a)(this.gridY.selectAll(".tick line"),u.y.style),this.gridY.selectAll(".gridY .tick line").filter(function(t,n){return 0===n}).attr("display","none"),Object(m.a)(this.gridY.selectAll(".domain"),{stroke:"transparent"}))},update:function(t,n){if(r.data){this.mergeProps(n);var e=r,a=e.data,o=e.visible;i=a.map(function(t){var n=[];return t.counts.forEach(function(e){e.data.forEach(function(r,i){n[i]||(n[i]=[]),n[i].push({groupLabel:e.label,joyLabel:t.title,label:t.bins[i],value:!1!==o[t.bins[i]]&&!1!==o[e.label]?r:0})})}),n}),this._drawScales(r.data),this._drawGrid(),this.updateChart(i)}},destroy:function(n){t.selectAll("svg > *").remove()}}},x=function(t){function n(n){var e;return(e=t.call(this,n)||this).chart=b(),e.state={parentWidth:300},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=this.getDOMNode(),e=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:e},function(){return t.chart.create(n,t.getChartState())})},e.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=(n.children,i()(n,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},e,{width:t})},e.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},e.getDOMNode=function(){return u.findDOMNode(this.ref)},e.render=function(){var t=this;return c.createElement("div",{ref:function(n){return t.ref=n},className:"histogram-chart-container"})},n}(c.Component);x.defaultProps={axis:{},bar:{margin:0,width:10},grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:function(t,n,e){return Object(s.f)(e(n)).darker(1).toString()},width:1},width:"100%"};n.a=x},325:function(t,n,e){var r=e(39),i=e(58);e(338)("keys",function(){return function(t){return i(r(t))}})},332:function(t,n,e){e(25)&&"g"!=/./g.flags&&e(38).f(RegExp.prototype,"flags",{configurable:!0,get:e(129)})},333:function(t,n,e){"use strict";var r=e(334),i=e(307);t.exports=e(335)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},334:function(t,n,e){"use strict";var r=e(38).f,i=e(135),a=e(132),o=e(27),s=e(130),c=e(131),u=e(87),l=e(142),h=e(140),f=e(25),d=e(306).fastKey,p=e(307),g=f?"_s":"size",v=function(t,n){var e,r=d(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,u){var l=t(function(t,r){s(t,l,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&c(r,e,t[u],t)});return a(l.prototype,{clear:function(){for(var t=p(this,n),e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete e[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=p(this,n),r=v(e,t);if(r){var i=r.n,a=r.p;delete e._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),e._f==r&&(e._f=i),e._l==r&&(e._l=a),e[g]--}return!!r},forEach:function(t){p(this,n);for(var e,r=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(p(this,n),t)}}),f&&r(l.prototype,"size",{get:function(){return p(this,n)[g]}}),l},def:function(t,n,e){var r,i,a=v(t,n);return a?a.v=e:(t._l=a={i:i=d(n,!0),k:n,v:e,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[g]++,"F"!==i&&(t._i[i]=a)),t},getEntry:v,setStrong:function(t,n,e){u(t,n,function(t,e){this._t=p(t,n),this._k=e,this._l=void 0},function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,l(1))},e?"entries":"values",!e,!0),h(n)}}},335:function(t,n,e){"use strict";var r=e(8),i=e(16),a=e(26),o=e(132),s=e(306),c=e(131),u=e(130),l=e(17),h=e(24),f=e(133),d=e(59),p=e(351);t.exports=function(t,n,e,g,v,m){var y=r[t],b=y,x=v?"set":"add",w=b&&b.prototype,k={},S=function(t){var n=w[t];a(w,t,"delete"==t?function(t){return!(m&&!l(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof b&&(m||w.forEach&&!h(function(){(new b).entries().next()}))){var O=new b,E=O[x](m?{}:-0,1)!=O,j=h(function(){O.has(1)}),M=f(function(t){new b(t)}),C=!m&&h(function(){for(var t=new b,n=5;n--;)t[x](n,n);return!t.has(-0)});M||((b=n(function(n,e){u(n,b,t);var r=p(new y,n,b);return null!=e&&c(e,v,r[x],r),r})).prototype=w,w.constructor=b),(j||C)&&(S("delete"),S("has"),v&&S("get")),(C||E)&&S(x),m&&w.clear&&delete w.clear}else b=g.getConstructor(n,t,v,x),o(b.prototype,e),s.NEED=!0;return d(b,t),k[t]=b,i(i.G+i.W+i.F*(b!=y),k),m||g.setStrong(b,t,v),b}},336:function(t,n,e){"use strict";var r=e(27),i=e(16),a=e(39),o=e(137),s=e(138),c=e(20),u=e(337),l=e(139);i(i.S+i.F*!e(133)(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,i,h,f=a(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=l(f);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(e=new d(n=c(f.length));n>m;m++)u(e,m,v?g(f[m],m):f[m]);else for(h=y.call(f),e=new d;!(i=h.next()).done;m++)u(e,m,v?o(h,g,[i.value,m],!0):i.value);return e.length=m,e}})},337:function(t,n,e){"use strict";var r=e(38),i=e(86);t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},338:function(t,n,e){var r=e(16),i=e(28),a=e(24);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],o={};o[t]=n(e),r(r.S+r.F*a(function(){e(1)}),"Object",o)}},353:function(t,n,e){var r=e(16);r(r.P,"Array",{fill:e(392)}),e(56)("fill")},392:function(t,n,e){"use strict";var r=e(39),i=e(145),a=e(20);t.exports=function(t){for(var n=r(this),e=a(n.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,e),c=o>2?arguments[2]:void 0,u=void 0===c?e:i(c,e);u>s;)n[s++]=t;return n}},420:function(t,n,e){"use strict";e(293),e(298),e(54);var r=e(82),i=e.n(r),a=e(10),o=e.n(a),s=e(281),c=e(0),u=e(55),l=(e(128),e(302),e(286)),h=e(280),f=e(277),d=e(272),p=e(327),g=e(278),v=e(299),m=e(275),y=e(283),b=function(t,n,e,r,i,a){var o=i.height,s=i.width,c=i.axis,u=i.grid,l=i.margin,f=c.y.style["stroke-width"],d=w(c)+f,p=x(i);u.x.visible&&(e.attr("transform","translate("+d+", "+p+")"),e.call(function(t,n){return void 0===n&&(n=5),Object(h.a)(t).ticks(n)}(t,v(u,"x.ticks",a)).tickSize(-o+k(i.axis)+2*l.top).tickFormat(function(){return""})),Object(y.a)(e.selectAll(".tick line"),u.x.style),Object(y.a)(e.selectAll(".domain"),{stroke:"transparent"})),u.y.visible&&(r.attr("transform","translate("+(w(c)+f)+", 0)").transition().call(function(t,n){return void 0===n&&(n=5),Object(h.b)(t).ticks(n)}(n,v(u,"y.ticks",a)).tickSize(-s+2*l.left+w(c)).tickFormat(function(){return""})),Object(y.a)(r.selectAll(".tick line"),u.y.style),r.selectAll(".gridY .tick line").filter(function(t,n){return 0===n}).attr("display","none"),Object(y.a)(r.selectAll(".domain"),{stroke:"transparent"}))},x=function(t){var n=t.height,e=t.margin,r=t.axis;return n-2*e.top-k(r)},w=function(t){return""===t.y.label?t.y.width:t.y.width+30},k=function(t){return""===t.x.label?t.x.height:t.x.height+30+v(t,"x.margin",0)},S=function(t){var n=t.axis;return t.width-2*t.margin.left-w(n)},O=e(279),E=function(){var t,n,e,r=Object(f.b)(),i=Object(f.a)(),a=Object(f.a)(),o={axis:{x:{height:20,label:"",margin:10,style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}}},y:{label:"",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10,width:25}},bar:{groupMargin:.1,margin:0,width:50},className:"histogram-d3",colorScheme:m.a,data:{bins:[],counts:[]},delay:0,domain:{max:null,min:null},duration:400,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:O.a,tipContainer:"body",tipContentFn:function(t,n,e){return t[n]+"<br />"+e},visible:{},width:200};return{create:function(n,e){void 0===e&&(e={}),this.mergeProps(e),this._makeSvg(n),this.makeGrid(),this.makeScales(),this.container=t.append("g").attr("class","histogram-container"),this.update(n,e)},mergeProps:function(t){this.props=g(o,t),this.props.data=t.data,t.colorScheme&&(this.props.colorScheme=t.colorScheme)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=r.getElementsByTagName("svg");i.length>0&&r.removeChild(i[0])}var a=this.props,o=a.margin,s=a.width,c=a.height,u=a.className,l=1-o.left/s,h=1-o.top/c;t=Object(d.d)(r).append("svg").attr("class",u).attr("width",s).attr("height",c).attr("viewBox","0 0 "+s+" "+c).append("g").attr("transform","translate("+o.left+","+o.top+") scale("+l+","+h+")");var f=Object(O.b)(this.props.tipContainer,n);e=f.tipContent,n=f.tipContainer},valuesCount:function(t){return t.reduce(function(t,n){return n.data.length>t?n.data.length:t},0)},appendDomainRange:function(t,n){var e=[],r=this.props,i=r.domain,a=r.margin,o=r.height,s=n.reduce(function(t,n){return[].concat(t,n.map(function(t){return t.value}))},[0]),c=Object(l.a)(s,function(t){return t});e[1]=i&&i.hasOwnProperty("max")&&null!==i.max?i.max:c[1],e[0]=i&&i.hasOwnProperty("min")&&null!==i.min?i.min:c[0];var u=[o-2*a.top-k(this.props.axis),0];t.range(u).domain(e)},makeScales:function(){this.xAxis=t.append("g").attr("class","x-axis"),this.yAxis=t.append("g").attr("class","y-axis"),this.xAxisLabel=t.append("g"),this.yAxisLabel=t.append("g")},_drawScales:function(n){var e=this.props,o=e.axis,s=e.margin,c=e.height,u=this.valuesCount(n.counts),l=S(this.props),f=n.counts.map(function(t){return t.label});i.domain(n.bins).rangeRound([0,l]).paddingInner(this.groupedMargin()),a.domain(f).rangeRound([0,i.bandwidth()]).paddingInner(this.barMargin());var d=Object(h.a)(i),g=v(o,"x.tickSize",void 0);void 0!==g?d.tickSize(g):l/u<10&&d.tickValues(i.domain().filter(function(t,n){return!(n%10)})),"TIME"===o.x.scale&&o.x.dateFormat&&d.tickFormat(Object(p.a)(o.x.dateFormat)),this.xAxis.attr("transform","translate("+(w(o)+o.y.style["stroke-width"])+","+(c-k(this.props.axis)-2*s.left)+")").call(d),this.appendDomainRange(r,this.dataSets);var m=Object(h.b)(r).ticks(o.y.ticks),b=v(o,"y.tickSize",void 0);void 0!==b&&m.tickSize(b),"TIME"===o.y.scale&&o.y.dateFormat&&m.tickFormat(Object(p.a)(o.y.dateFormat)),this.yAxis.attr("transform","translate("+w(o)+", 0)").transition().call(m),Object(y.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),o.y.style),Object(y.a)(t.selectAll(".y-axis .tick text"),o.y.text.style),Object(y.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),o.x.style),Object(y.a)(t.selectAll(".x-axis .tick text"),o.x.text.style)},groupedMargin:function(){var t=v(this.props.bar,"groupMargin",.1);return t>=0&&t<=1?t:.1},barMargin:function(){var t=v(this.props.bar,"margin",0);return t>=0&&t<=1?t:.1},barWidth:function(){return a.bandwidth()},updateChart:function(t,o){var s=this,c=this.props,u=c.axis,l=c.height,h=c.width,d=c.margin,p=c.delay,g=c.duration,v=c.tip,m=this.barWidth(),y=Object(f.d)(this.props.colorScheme),b=x(this.props),S=this.container.selectAll("g").data(o),O=S.enter().append("g").merge(S).attr("transform",function(t){return"translate("+(w(u)+u.y.style["stroke-width"]+i(t[0].label))+", 0)"}).selectAll("rect").data(function(t){return t});O.enter().append("rect").attr("height",0).attr("y",function(n,e){var r=t.findIndex(function(t){return t===n.label});o[r];return b-0}).attr("class","bar").on("mouseover",function(r,i){var a=t.findIndex(function(t){return t===r.label});e.html(function(){return s.props.tipContentFn(t,a,r.value)}),v.fx.in(n)}).on("mousemove",function(){return v.fx.move(n)}).on("mouseout",function(){return v.fx.out(n)}).merge(O).attr("x",function(t){return a(t.groupLabel)}).attr("width",function(t){return m}).attr("fill",function(t,n){return y(n)}).transition().duration(g).delay(p).attr("y",function(t,n){return r(t.value+0)}).attr("stroke-dasharray",function(t){var n=b-r(t.value);return m+" 0 "+n+" "+m}).attr("height",function(t){return b-r(t.value)}),O.exit().remove(),S.exit().remove();var E=this.xAxisLabel.selectAll("text").data([u.x.label]);E.enter().append("text").attr("class","x-axis-label").merge(E).attr("transform","translate("+h/2+" ,"+(l-k(this.props.axis)-2*d.left+u.x.margin)+")").style("text-anchor","middle").text(function(t){return t});var j=this.yAxisLabel.selectAll("text").data([u.y.label]);j.enter().append("text").attr("class","y-axis-label").merge(j).attr("transform","rotate(-90)").attr("y",0).attr("x",0-(b/2-2*d.top)).attr("dy","1em").style("text-anchor","middle").text(function(t){return t})},makeGrid:function(){this.gridX=t.append("g").attr("class","grid gridX"),this.gridY=t.append("g").attr("class","grid gridY")},update:function(t,n){var e=this;if(n.data&&(this.mergeProps(n),this.props.data.bins)){var a=this.props,o=a.data,s=a.visible;this.dataSets=[],o.counts.forEach(function(t){t.data.forEach(function(n,r){e.dataSets[r]||(e.dataSets[r]=[]),e.dataSets[r].push({groupLabel:t.label,label:o.bins[r],value:!1!==s[o.bins[r]]&&!1!==s[t.label]?n:0})})}),this._drawScales(this.props.data),b(i,r,this.gridX,this.gridY,this.props,this.valuesCount(o.counts)),this.updateChart(o.bins,this.dataSets)}},destroy:function(n){t.selectAll("svg > *").remove()}}},j=function(t){function n(n){var e;return(e=t.call(this,n)||this).chart=E(),e.state={parentWidth:300},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=this.getDOMNode(),e=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:e},function(){return t.chart.create(n,t.getChartState())})},e.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=(n.children,i()(n,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},e,{width:t})},e.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},e.getDOMNode=function(){return u.findDOMNode(this.ref)},e.render=function(){var t=this;return c.createElement("div",{ref:function(n){return t.ref=n},className:"histogram-chart-container"})},n}(c.Component);j.defaultProps={axis:{},bar:{margin:0,width:10},grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:function(t,n,e){return Object(s.f)(e(n)).darker(1).toString()},width:1},tipContentFn:function(t,n,e){return t[n]+"<br />"+e.toFixed(2)},width:"100%"};var M=function(){var t,n,e,r=Object(f.b)(),i=Object(f.a)();var a={axis:{x:{height:25,style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10},y:{style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},width:20}},bar:{height:50,margin:10},className:"histogram-d3",colorScheme:m.a,data:[],delay:0,duration:400,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:O.a,tipContainer:"body",tipContentFn:function(t,n,e){return t[n]+"<br />"+e},width:200};return{create:function(t,n){void 0===n&&(n={}),this.props=g(a,n),this.update(t,this.props)},_makeSvg:function(r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=r.getElementsByTagName("svg");i.length>0&&r.removeChild(i[0])}var a=this.props,o=a.margin,s=a.width,c=a.height,u=a.className;t=Object(d.d)(r).append("svg").attr("class",u).attr("width",s).attr("height",c).attr("viewBox","0 0 "+s+" "+c).append("g").attr("transform","translate("+o.left+","+o.top+")");var l=Object(O.b)(this.props.tipContainer,n);e=l.tipContent,n=l.tipContainer},valuesCount:function(t){return t.reduce(function(t,n){return n.data.length>t?n.data.length:t},0)},_drawScales:function(n){var e=this.props,a=e.margin,o=e.width,s=e.height,c=e.axis,u=this.valuesCount(n.counts);t.selectAll(".y-axis").remove(),t.selectAll(".x-axis").remove();var f,d,p,g,v=this.gridHeight(),m=n.counts.reduce(function(t,n){return[].concat(t,n.data)},[]);i.domain(n.bins).rangeRound([0,v]),d=Object(h.a)(r).ticks(c.x.ticks),p=Object(h.b)(i).ticks(c.y.ticks),v/u<10&&d.tickValues(r.domain().filter(function(t,n){return!(n%10)})),(f=Object(l.a)(m,function(t){return t}))[0]=0,g=[0,o-2*a.top-c.y.width],r.range(g).domain(f),t.append("g").attr("class","y-axis").attr("transform","translate("+c.y.width+", 0)").call(p),t.append("g").attr("class","x-axis").attr("transform","translate("+c.y.width+","+(s-c.x.height-2*a.left)+")").call(d),Object(y.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),c.y.style),Object(y.a)(t.selectAll(".y-axis .tick text"),c.y.text.style),Object(y.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),c.x.style),Object(y.a)(t.selectAll(".x-axis .tick text"),c.x.text.style)},_drawBars:function(t){var n=this;this.valuesCount(t.counts);t.counts.forEach(function(e,r){n.drawDataSet(t.bins,e,r,t.counts.length)})},gridWidth:function(){var t=this.props,n=t.axis;return t.width-2*t.margin.left-n.y.width},gridHeight:function(){var t=this.props,n=t.height,e=t.margin,r=t.axis;return n-2*e.top-r.x.height},groupedMargin:function(){return 3*(this.props.data.counts.length-1)},barHeight:function(){var t=this.props,n=(t.axis,t.width,t.margin,t.data),e=t.bar,r=(t.stroke,this.gridHeight()),i=this.valuesCount(n.counts),a=n.counts.length,o=r/i-2*e.margin-this.groupedMargin();return o<5&&(e.margin=1,o=Math.max(1,(r-(i+1)*e.margin)/i)),o/a},drawDataSet:function(i,a,o,s){var c,u=this,l=this.props,h=(l.height,l.width,l.margin,l.bar),d=l.delay,p=l.duration,g=l.axis,v=l.stroke,m=l.tip,y=l.tipContentFn,b=this.barHeight(),x=Object(f.d)(a.colors||this.props.colorScheme),w=a.borderColors?Object(f.d)(a.borderColors):null,k=".bar-"+o;t.selectAll(k).remove(),(c=t.selectAll(k).data(a.data).enter().append("rect").attr("class","bar "+k).attr("y",function(t,n,e){return h.margin+(b+2*h.margin)*n+function(t){return 1===s?0:(t+o)*(b+u.groupedMargin())}(n)}).attr("height",function(t){return b}).attr("fill",function(t,n){return x(n)}).on("mouseover",function(t,r){e.html(function(){return y(i,r,t)}),m.fx.in(n)}).on("mousemove",function(){return m.fx.move(n)}).on("mouseout",function(){return m.fx.out(n)}).attr("x",function(t){return g.y.width+g.y.style["stroke-width"]}).attr("width",0)).attr("stroke",function(t,n){return w?w(n):"function"==typeof v.color?v.color(t,n,x):v.color}).attr("shape-rendering","crispEdges").attr("stroke-width",v.width).attr("stroke-linecap",v.linecap),""!==v.dasharray&&c.attr("stroke-dasharray",v.dasharray),c.transition().duration(p).delay(d).attr("stroke-dasharray",function(t){var n=r(t);return n+b+n+" "+b}).attr("width",function(t){return r(t)}),c.exit().remove()},_drawGrid:function(n){var e,a,o=n.data,s=n.height,c=n.width,u=n.axis,l=n.grid,f=n.margin,d=this.valuesCount(o.counts),p=u.y.style["stroke-width"],g=u.y.width+this.groupedMargin()/2,v=0;l.x.visible&&((e=t.append("g").attr("class","grid gridX").attr("transform","translate("+g+", "+v+")")).call(function(t){return void 0===t&&(t=5),Object(h.b)(i).ticks(t)}(l.x.ticks||d).tickSize(-c+2*f.left+u.y.width).tickFormat(function(){return""})),Object(y.a)(e.selectAll(".tick line"),l.x.style),Object(y.a)(e.selectAll(".domain"),{stroke:"transparent"})),l.y.visible&&(a=t.append("g").attr("class","grid gridY").attr("transform","translate("+(u.y.width+p)+", "+(s-u.x.height-2*f.top)+")").call(function(t){return void 0===t&&(t=5),Object(h.a)(r).ticks(t)}(l.y.ticks||d).tickSize(-s+2*f.left+u.x.height).tickFormat(function(){return""})),Object(y.a)(a.selectAll(".tick line"),l.y.style),Object(y.a)(a.selectAll(".domain"),{stroke:"transparent"}))},update:function(t,n){n.data&&(this.props=g(a,n),this._makeSvg(t),this.props.data.bins&&(this._drawScales(this.props.data),this._drawGrid(this.props),this._drawBars(this.props.data)))},destroy:function(n){t.selectAll("svg > *").remove()}}},C=function(t){function n(n){var e;return(e=t.call(this,n)||this).histogram=M(),e.state={parentWidth:300},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=this.getDOMNode(),e=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:e},function(){return t.histogram.create(n,t.getChartState())})},e.componentDidMount=function(){var t=this;this.histogram.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.histogram.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=(n.children,i()(n,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},e,{width:t})},e.componentWillReceiveProps=function(t){this.histogram.update(this.getDOMNode(),this.getChartState())},e.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.histogram.destroy(this.getDOMNode())},e.getDOMNode=function(){return u.findDOMNode(this.ref)},e.render=function(){var t=this;return c.createElement("div",{ref:function(n){return t.ref=n},className:"histogram-chart-container"})},n}(c.Component);C.defaultProps={axis:{},bar:{margin:2,width:10},grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:200,margin:{left:5,top:5},stroke:{color:function(t,n,e){return Object(s.f)(e(n)).darker(1)},width:1},tipContentFn:function(t,n,e){return t[n]+"<br />"+e.toFixed(2)},width:"100%"};e(320),e(316),e(353),e(303);var A=e(423),_=e(365),N=e(317),D=function(t){var n,e;switch(t.x.scale){case"LOG":n=Object(f.c)().clamp(!0);break;case"TIME":n=Object(f.e)();break;default:n=Object(f.b)()}switch(t.y.scale){case"LOG":e=Object(f.c)().clamp(!0);break;case"TIME":n=Object(f.e)();break;default:e=Object(f.b)()}return[n,e]},R=function(){var t,n,e,r,i,a={curveType:N.e,fill:!1,show:!0,stroke:"#005870",strokeDashArray:"5 5",strokeDashOffset:0},o={fill:"rgba(255, 255, 255, 0)",radius:4,show:!0,stroke:"#005870"},s={axis:{x:{height:20,scale:"LINEAR",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}}},y:{scale:"LINEAR",style:{fill:"none","shape-rendering":"crispEdges",stroke:"#666","stroke-opacity":1,"stroke-width":1},text:{style:{fill:"#666"}},ticks:10,width:25}},className:"line-chart-d3",fx:A.a,grid:{x:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0},y:{style:{fill:"none",stroke:"#bbb","stroke-opacity":.7,"stroke-width":1},ticks:5,visible:!0}},height:250,line:a,margin:{left:5,top:5},point:o,tip:O.a,tipContainer:"body",tipContentFn:function(t,n,e){switch(typeof t[n].x){case"object":return r(t[n].x)+", "+t[n].y;default:return Number(t[n].x).toFixed(3)+", "+t[n].y}},width:200},c={line:a,point:o};return{create:function(n,e){void 0===e&&(e={}),this.props=g(s,e),this._makeSvg(n),this.makeScales();var r=D(this.props.axis);this.x=r[0],this.y=r[1],this.makeGrid(),this.container=t.append("g").attr("class","linechart-container"),this.lineContainer=this.container.append("g").attr("class","line-container"),this._createLines(this.props.data),this.update(n,this.props)},_makeSvg:function(e){if(t){t.selectAll("svg > *").remove(),t.remove();var r=e.getElementsByTagName("svg");r.length>0&&e.removeChild(r[0])}var a=this.props,o=a.margin,s=a.width,c=a.height,u=a.className,l=1-o.left/s,h=1-o.top/c;t=Object(d.d)(e).append("svg").attr("class",u).attr("width",s).attr("height",c).append("g").attr("transform","translate("+o.left+","+o.top+") scale("+l+","+h+")");var f=Object(O.b)(this.props.tipContainer,n);i=f.tipContent,n=f.tipContainer},_drawDataPointSet:function(t){var e=this,r=this.props,a=r.axis,o=r.tip,s=w(a),c=this.container.selectAll("g").data(t),u=c.enter().append("g").attr("class",function(t,n){return"point-container"+n}).merge(c).selectAll("circle").data(function(t){return t.data.map(function(n){return Object.assign({},n,{point:t.point})})});u.attr("class","update"),u.enter().append("circle").attr("class","enter").on("mouseover",function(t,r){i.html(function(){return e.props.tipContentFn([t],0)}),o.fx.in(n)}).on("mousemove",function(){return o.fx.move(n)}).on("mouseout",function(){return o.fx.out(n)}).merge(u).attr("class","point").attr("cy",function(t){return e.y(t.y)}).attr("r",function(t,n){return 0}).attr("fill",function(t){return t.point.fill}).attr("stroke",function(t){return t.point.stroke}).attr("cx",function(t){return e.x(t.x)+s}).transition().duration(400).attr("r",function(t){return t.point.show?t.point.radius:0}).delay(650),c.exit().remove(),u.exit().remove()},makeScales:function(){this.xAxis=t.append("g").attr("class","x-axis"),this.yAxis=t.append("g").attr("class","y-axis"),this.xAxisLabel=t.append("g"),this.yAxisLabel=t.append("g")},_drawScales:function(n){var e,r,i=this.props,a=i.axis,o=i.height,s=S(this.props),c=[],u=[],f=Object(h.b)(this.y);a.y.tickValues?f.tickValues(a.y.tickValues):f.ticks(a.y.ticks),a.y.numberFormat&&f.tickFormat(Object(_.a)(a.y.numberFormat));var d=Object(h.a)(this.x);a.x.tickValues&&d.tickValues(a.x.tickValues),"TIME"===a.x.scale&&a.x.dateFormat&&d.tickFormat(Object(p.a)(a.x.dateFormat));var g=k(a),v=w(a);n.forEach(function(t){t.data.forEach(function(t){var n=t.y,e=t.x;"LOG"===a.y.scale&&0===t.y&&(n=1e-6),"LOG"===a.x.scale&&0===t.x&&(e=1e-6),c.push(n),u.push(e)})}),e=Object(l.a)(c),r=Object(l.a)(u),"LOG"===a.y.scale&&1e-6===e[0]&&(e[0]=1),"LOG"===a.x.scale&&1e-6===r[0]&&(r[0]=1),this.x.domain(r).rangeRound([0,s]),this.y.domain(e).range([o-g,0]),this.yAxis.attr("transform","translate("+v+", 0)").transition().call(f),this.xAxis.attr("transform","translate("+v+","+(o-g)+")").call(d),Object(y.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),a.y.style),Object(y.a)(t.selectAll(".y-axis .tick text"),a.y.text.style),Object(y.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),a.x.style),Object(y.a)(t.selectAll(".x-axis .tick text"),a.x.text.style)},_createLines:function(t){var n=this;t.forEach(function(t,e){n.lineContainer.append("path").attr("class","line-"+e)}),t.forEach(function(t,e){n.lineContainer.append("path").attr("class","fill-"+e)})},_drawLines:function(t){var n=this,e=this.props.axis,r=w(e);t.forEach(function(t,e){n.lineContainer.select(".line-"+e).attr("fill","none").attr("stroke-dashoffset",t.line.strokeDashOffset).attr("stroke-dasharray",t.line.strokeDashOffset).attr("stroke",t.line.stroke).transition().duration(500).attr("d",function(t,n,e,r){return Object(N.k)().curve(t).x(function(t){return e(t.x)+n}).y(function(t){return r(t.y)})}(t.line.curveType,r,n.x,n.y)(t.data)).delay(50)})},drawAreas:function(t){var n=this,e=this.props,r=e.axis,i=e.height,a=w(r),o=k(r);t.forEach(function(t,e){var r;n.lineContainer.select(".fill-"+e).attr("fill",t.line.fill.fill).style("opacity",t.line.show&&t.line.fill.show?1:0).transition().duration(500).delay(50).attr("d",(r=t.line.curveType,Object(N.b)().curve(r).x(function(t){return n.x(t.x)+a}).y0(function(t){return i-o}).y1(function(t){return n.y(t.y)}))(t.data))})},valuesCount:function(t){return t.reduce(function(t,n){return n.data.length>t?n.data.length:t},0)},makeGrid:function(){this.gridX=t.append("g").attr("class","grid gridX"),this.gridY=t.append("g").attr("class","grid gridY")},update:function(t,n){if(n.data){console.log("receive update",n),this.props=g(s,n),console.log("update",this.props.point);var i=D(this.props.axis);this.x=i[0],this.y=i[1];var a=n.data;e=Object(p.b)(n.axis.x.dateFormat),r=Object(p.a)(n.axis.x.dateFormat),a=a.map(function(t){return"TIME"===n.axis.x.scale&&(t.data=t.data.map(function(t){return Object.assign({},t,{x:"object"==typeof t.x?t.x:e(t.x.toString())})})),Object.assign({},c,t)}),this._drawScales(a),this._drawLines(a),this.drawAreas(a),b(this.x,this.y,this.gridX,this.gridY,this.props,this.valuesCount(a)),this._drawDataPointSet(a)}},destroy:function(n){t.selectAll("svg > *").remove()}}},F=function(t){function n(n){var e;return(e=t.call(this,n)||this).chart=R(),e.state={parentWidth:300},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=this.getDOMNode(),e=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:e},function(){return t.chart.create(n,t.getChartState())})},e.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=(n.children,i()(n,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},e,{width:t})},e.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},e.getDOMNode=function(){return u.findDOMNode(this.ref)},e.render=function(){var t=this;return c.createElement("div",{ref:function(n){return t.ref=n},className:"chart-container"})},n}(c.Component),z=function(){return new W};function W(){this.reset()}W.prototype={constructor:W,reset:function(){this.s=this.t=0},add:function(t){P(L,t,this.t),P(this,L.s,this.s),this.s?this.t+=L.t:this.s=L.t},valueOf:function(){return this.s}};var L=new W;function P(t,n,e){var r=t.s=n+e,i=r-n,a=r-i;t.t=n-a+(e-i)}var T=1e-6,I=Math.PI,H=I/2,q=I/4,G=2*I,B=180/I,X=I/180,Y=Math.abs,U=Math.atan,V=Math.atan2,J=Math.cos,K=(Math.ceil,Math.exp),Q=(Math.floor,Math.log),Z=(Math.pow,Math.sin),$=(Math.sign,Math.sqrt),tt=Math.tan;function nt(t){return t>1?0:t<-1?I:Math.acos(t)}function et(t){return t>1?H:t<-1?-H:Math.asin(t)}function rt(){}function it(t,n){t&&ot.hasOwnProperty(t.type)&&ot[t.type](t,n)}var at={Feature:function(t,n){it(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)it(e[r].geometry,n)}},ot={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){st(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)st(e[r],n,0)},Polygon:function(t,n){ct(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ct(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)it(e[r],n)}};function st(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ct(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)st(t[e],n,1);n.polygonEnd()}var ut=function(t,n){t&&at.hasOwnProperty(t.type)?at[t.type](t,n):it(t,n)};z(),z();function lt(t){return[V(t[1],t[0]),et(t[2])]}function ht(t){var n=t[0],e=t[1],r=J(e);return[r*J(n),r*Z(n),Z(e)]}function ft(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function dt(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function pt(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function gt(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function vt(t){var n=$(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}z();var mt=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function yt(t,n){return[Y(t)>I?t+Math.round(-t/G)*G:t,n]}function bt(t,n,e){return(t%=G)?n||e?mt(wt(t),kt(n,e)):wt(t):n||e?kt(n,e):yt}function xt(t){return function(n,e){return[(n+=t)>I?n-G:n<-I?n+G:n,e]}}function wt(t){var n=xt(t);return n.invert=xt(-t),n}function kt(t,n){var e=J(t),r=Z(t),i=J(n),a=Z(n);function o(t,n){var o=J(n),s=J(t)*o,c=Z(t)*o,u=Z(n),l=u*e+s*r;return[V(c*i-l*a,s*e-u*r),et(l*i+c*a)]}return o.invert=function(t,n){var o=J(n),s=J(t)*o,c=Z(t)*o,u=Z(n),l=u*i-c*a;return[V(c*i+u*a,s*e+l*r),et(l*e-s*r)]},o}yt.invert=yt;var St=function(t){function n(n){return(n=t(n[0]*X,n[1]*X))[0]*=B,n[1]*=B,n}return t=bt(t[0]*X,t[1]*X,t.length>2?t[2]*X:0),n.invert=function(n){return(n=t.invert(n[0]*X,n[1]*X))[0]*=B,n[1]*=B,n},n};function Ot(t,n,e,r,i,a){if(e){var o=J(n),s=Z(n),c=r*e;null==i?(i=n+r*G,a=n-c/2):(i=Et(o,i),a=Et(o,a),(r>0?i<a:i>a)&&(i+=r*G));for(var u,l=i;r>0?l>a:l<a;l-=c)u=lt([o,-s*J(l),-s*Z(l)]),t.point(u[0],u[1])}}function Et(t,n){(n=ht(n))[0]-=t,vt(n);var e=nt(-n[1]);return((-n[2]<0?-e:e)+G-T)%G}var jt=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:rt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},Mt=function(t,n){return Y(t[0]-n[0])<T&&Y(t[1]-n[1])<T};function Ct(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var At=function(t,n,e,r,i){var a,o,s=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(Mt(r,o)){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(e=new Ct(r,t,null,!0)),c.push(e.o=new Ct(r,null,e,!1)),s.push(e=new Ct(o,t,null,!1)),c.push(e.o=new Ct(o,null,e,!0))}}),s.length){for(c.sort(n),_t(s),_t(c),a=0,o=c.length;a<o;++a)c[a].e=e=!e;for(var u,l,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(a=0,o=u.length;a<o;++a)i.point((l=u[a])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(u=f.p.z,a=u.length-1;a>=0;--a)i.point((l=u[a])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function _t(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var Nt=z(),Dt=function(t,n){var e=n[0],r=n[1],i=Z(r),a=[Z(e),-J(e),0],o=0,s=0;Nt.reset(),1===i?r=H+T:-1===i&&(r=-H-T);for(var c=0,u=t.length;c<u;++c)if(h=(l=t[c]).length)for(var l,h,f=l[h-1],d=f[0],p=f[1]/2+q,g=Z(p),v=J(p),m=0;m<h;++m,d=b,g=w,v=k,f=y){var y=l[m],b=y[0],x=y[1]/2+q,w=Z(x),k=J(x),S=b-d,O=S>=0?1:-1,E=O*S,j=E>I,M=g*w;if(Nt.add(V(M*O*Z(E),v*k+M*J(E))),o+=j?S+O*G:S,j^d>=e^b>=e){var C=dt(ht(f),ht(y));vt(C);var A=dt(a,C);vt(A);var _=(j^S>=0?-1:1)*et(A[2]);(r>_||r===_&&(C[0]||C[1]))&&(s+=j^S>=0?1:-1)}}return(o<-T||o<T&&Nt<-T)^1&s},Rt=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN};var Ft,zt;1===(Ft=Rt).length&&(zt=Ft,Ft=function(t,n){return Rt(zt(t),n)});var Wt=Array.prototype;Wt.slice,Wt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Lt=function(t){for(var n,e,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(e=new Array(o);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--o]=r[n];return e};var Pt=function(t,n,e,r){return function(i){var a,o,s,c=n(i),u=jt(),l=n(u),h=!1,f={point:d,lineStart:g,lineEnd:v,polygonStart:function(){f.point=m,f.lineStart=y,f.lineEnd=b,o=[],a=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=v,o=Lt(o);var t=Dt(a,r);o.length?(h||(i.polygonStart(),h=!0),At(o,It,t,e,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){f.point=p,c.lineStart()}function v(){f.point=d,c.lineEnd()}function m(t,n){s.push([t,n]),l.point(t,n)}function y(){l.lineStart(),s=[]}function b(){m(s[0][0],s[0][1]),l.lineEnd();var t,n,e,r,c=l.clean(),f=u.result(),d=f.length;if(s.pop(),a.push(s),s=null,d)if(1&c){if((n=(e=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&f.push(f.pop().concat(f.shift())),o.push(f.filter(Tt))}return f}};function Tt(t){return t.length>1}function It(t,n){return((t=t.x)[0]<0?t[1]-H-T:H-t[1])-((n=n.x)[0]<0?n[1]-H-T:H-n[1])}var Ht=Pt(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var s=a>0?I:-I,c=Y(a-e);Y(c-I)<T?(t.point(e,r=(r+o)/2>0?H:-H),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),n=0):i!==s&&c>=I&&(Y(e-i)<T&&(e-=i*T),Y(a-s)<T&&(a-=s*T),r=function(t,n,e,r){var i,a,o=Z(t-e);return Y(o)>T?U((Z(n)*(a=J(r))*Z(e)-Z(r)*(i=J(n))*Z(t))/(i*a*o)):(n+r)/2}(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),n=0),t.point(e=a,r=o),i=s},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*H,r.point(-I,i),r.point(0,i),r.point(I,i),r.point(I,0),r.point(I,-i),r.point(0,-i),r.point(-I,-i),r.point(-I,0),r.point(-I,i);else if(Y(t[0]-n[0])>T){var a=t[0]<n[0]?I:-I;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])},[-I,-H]);var qt=function(t){var n=J(t),e=6*X,r=n>0,i=Y(n)>T;function a(t,e){return J(t)*J(e)>n}function o(t,e,r){var i=[1,0,0],a=dt(ht(t),ht(e)),o=ft(a,a),s=a[0],c=o-s*s;if(!c)return!r&&t;var u=n*o/c,l=-n*s/c,h=dt(i,a),f=gt(i,u);pt(f,gt(a,l));var d=h,p=ft(f,d),g=ft(d,d),v=p*p-g*(ft(f,f)-1);if(!(v<0)){var m=$(v),y=gt(d,(-p-m)/g);if(pt(y,f),y=lt(y),!r)return y;var b,x=t[0],w=e[0],k=t[1],S=e[1];w<x&&(b=x,x=w,w=b);var O=w-x,E=Y(O-I)<T;if(!E&&S<k&&(b=k,k=S,S=b),E||O<T?E?k+S>0^y[1]<(Y(y[0]-x)<T?k:S):k<=y[1]&&y[1]<=S:O>I^(x<=y[0]&&y[0]<=w)){var j=gt(d,(-p+m)/g);return pt(j,f),[y,lt(j)]}}}function s(n,e){var i=r?t:I-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return Pt(a,function(t){var n,e,c,u,l;return{lineStart:function(){u=c=!1,l=1},point:function(h,f){var d,p=[h,f],g=a(h,f),v=r?g?0:s(h,f):g?s(h+(h<0?I:-I),f):0;if(!n&&(u=c=g)&&t.lineStart(),g!==c&&(!(d=o(n,p))||Mt(n,d)||Mt(p,d))&&(p[0]+=T,p[1]+=T,g=a(p[0],p[1])),g!==c)l=0,g?(t.lineStart(),d=o(p,n),t.point(d[0],d[1])):(d=o(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^g){var m;v&e||!(m=o(p,n,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&Mt(n,p)||t.point(p[0],p[1]),n=p,c=g,e=v},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return l|(u&&c)<<1}}},function(n,r,i,a){Ot(a,t,e,i,n,r)},r?[0,-t]:[-I,t-I])},Gt=function(t,n,e,r,i,a){var o,s=t[0],c=t[1],u=0,l=1,h=n[0]-s,f=n[1]-c;if(o=e-s,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>u&&(u=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<l&&(l=o)}if(o=r-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>u&&(u=o)}if(o=a-c,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<l&&(l=o)}return u>0&&(t[0]=s+u*h,t[1]=c+u*f),l<1&&(n[0]=s+l*h,n[1]=c+l*f),!0}}}}},Bt=1e9,Xt=-Bt;function Yt(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,s,u){var l=0,h=0;if(null==i||(l=o(i,s))!==(h=o(a,s))||c(i,a)<0^s>0)do{u.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+s+4)%4)!==h);else u.point(a[0],a[1])}function o(r,i){return Y(r[0]-t)<T?i>0?0:3:Y(r[0]-e)<T?i>0?2:1:Y(r[1]-n)<T?i>0?1:0:i>0?3:2}function s(t,n){return c(t.x,n.x)}function c(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var c,u,l,h,f,d,p,g,v,m,y,b=o,x=jt(),w={point:k,lineStart:function(){w.point=S,u&&u.push(l=[]);m=!0,v=!1,p=g=NaN},lineEnd:function(){c&&(S(h,f),d&&v&&x.rejoin(),c.push(x.result()));w.point=k,v&&b.lineEnd()},polygonStart:function(){b=x,c=[],u=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=u.length;e<i;++e)for(var a,o,s=u[e],c=1,l=s.length,h=s[0],f=h[0],d=h[1];c<l;++c)a=f,o=d,h=s[c],f=h[0],d=h[1],o<=r?d>r&&(f-a)*(r-o)>(d-o)*(t-a)&&++n:d<=r&&(f-a)*(r-o)<(d-o)*(t-a)&&--n;return n}(),e=y&&n,i=(c=Lt(c)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&At(c,s,n,a,o),o.polygonEnd());b=o,c=u=l=null}};function k(t,n){i(t,n)&&b.point(t,n)}function S(a,o){var s=i(a,o);if(u&&l.push([a,o]),m)h=a,f=o,d=s,m=!1,s&&(b.lineStart(),b.point(a,o));else if(s&&v)b.point(a,o);else{var c=[p=Math.max(Xt,Math.min(Bt,p)),g=Math.max(Xt,Math.min(Bt,g))],x=[a=Math.max(Xt,Math.min(Bt,a)),o=Math.max(Xt,Math.min(Bt,o))];Gt(c,x,t,n,e,r)?(v||(b.lineStart(),b.point(c[0],c[1])),b.point(x[0],x[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(a,o),y=!1)}p=a,g=o,v=s}return w}}z();var Ut,Vt,Jt,Kt,Qt=function(t){return t},Zt=z(),$t=z(),tn={point:rt,lineStart:rt,lineEnd:rt,polygonStart:function(){tn.lineStart=nn,tn.lineEnd=an},polygonEnd:function(){tn.lineStart=tn.lineEnd=tn.point=rt,Zt.add(Y($t)),$t.reset()},result:function(){var t=Zt/2;return Zt.reset(),t}};function nn(){tn.point=en}function en(t,n){tn.point=rn,Ut=Jt=t,Vt=Kt=n}function rn(t,n){$t.add(Kt*t-Jt*n),Jt=t,Kt=n}function an(){rn(Ut,Vt)}var on=tn,sn=1/0,cn=sn,un=-sn,ln=un;var hn,fn,dn,pn,gn={point:function(t,n){t<sn&&(sn=t);t>un&&(un=t);n<cn&&(cn=n);n>ln&&(ln=n)},lineStart:rt,lineEnd:rt,polygonStart:rt,polygonEnd:rt,result:function(){var t=[[sn,cn],[un,ln]];return un=ln=-(cn=sn=1/0),t}},vn=0,mn=0,yn=0,bn=0,xn=0,wn=0,kn=0,Sn=0,On=0,En={point:jn,lineStart:Mn,lineEnd:_n,polygonStart:function(){En.lineStart=Nn,En.lineEnd=Dn},polygonEnd:function(){En.point=jn,En.lineStart=Mn,En.lineEnd=_n},result:function(){var t=On?[kn/On,Sn/On]:wn?[bn/wn,xn/wn]:yn?[vn/yn,mn/yn]:[NaN,NaN];return vn=mn=yn=bn=xn=wn=kn=Sn=On=0,t}};function jn(t,n){vn+=t,mn+=n,++yn}function Mn(){En.point=Cn}function Cn(t,n){En.point=An,jn(dn=t,pn=n)}function An(t,n){var e=t-dn,r=n-pn,i=$(e*e+r*r);bn+=i*(dn+t)/2,xn+=i*(pn+n)/2,wn+=i,jn(dn=t,pn=n)}function _n(){En.point=jn}function Nn(){En.point=Rn}function Dn(){Fn(hn,fn)}function Rn(t,n){En.point=Fn,jn(hn=dn=t,fn=pn=n)}function Fn(t,n){var e=t-dn,r=n-pn,i=$(e*e+r*r);bn+=i*(dn+t)/2,xn+=i*(pn+n)/2,wn+=i,kn+=(i=pn*t-dn*n)*(dn+t),Sn+=i*(pn+n),On+=3*i,jn(dn=t,pn=n)}var zn=En;function Wn(t){this._context=t}Wn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,G)}},result:rt};var Ln,Pn,Tn,In,Hn,qn=z(),Gn={point:rt,lineStart:function(){Gn.point=Bn},lineEnd:function(){Ln&&Xn(Pn,Tn),Gn.point=rt},polygonStart:function(){Ln=!0},polygonEnd:function(){Ln=null},result:function(){var t=+qn;return qn.reset(),t}};function Bn(t,n){Gn.point=Xn,Pn=In=t,Tn=Hn=n}function Xn(t,n){In-=t,Hn-=n,qn.add($(In*In+Hn*Hn)),In=t,Hn=n}var Yn=Gn;function Un(){this._string=[]}function Vn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Un.prototype={_radius:4.5,_circle:Vn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Vn(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Jn(t){return function(n){var e=new Kn;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Kn(){}function Qn(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ut(e,t.stream(gn)),n(gn.result()),null!=r&&t.clipExtent(r),t}function Zn(t,n,e){return Qn(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,s])},e)}function $n(t,n,e){return Zn(t,[[0,0],n],e)}function te(t,n,e){return Qn(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])},e)}function ne(t,n,e){return Qn(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])},e)}Kn.prototype={constructor:Kn,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ee=16,re=J(30*X),ie=function(t,n){return+n?function(t,n){function e(r,i,a,o,s,c,u,l,h,f,d,p,g,v){var m=u-r,y=l-i,b=m*m+y*y;if(b>4*n&&g--){var x=o+f,w=s+d,k=c+p,S=$(x*x+w*w+k*k),O=et(k/=S),E=Y(Y(k)-1)<T||Y(a-h)<T?(a+h)/2:V(w,x),j=t(E,O),M=j[0],C=j[1],A=M-r,_=C-i,N=y*A-m*_;(N*N/b>n||Y((m*A+y*_)/b-.5)>.3||o*f+s*d+c*p<re)&&(e(r,i,a,o,s,c,M,C,E,x/=S,w/=S,k,g,v),v.point(M,C),e(M,C,E,x,w,k,u,l,h,f,d,p,g,v))}}return function(n){var r,i,a,o,s,c,u,l,h,f,d,p,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=x},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){l=NaN,g.point=y,n.lineStart()}function y(r,i){var a=ht([r,i]),o=t(r,i);e(l,h,u,f,d,p,l=o[0],h=o[1],u=r,f=a[0],d=a[1],p=a[2],ee,n),n.point(l,h)}function b(){g.point=v,n.lineEnd()}function x(){m(),g.point=w,g.lineEnd=k}function w(t,n){y(r=t,n),i=l,a=h,o=f,s=d,c=p,g.point=y}function k(){e(l,h,u,f,d,p,i,a,r,o,s,c,ee,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return Jn({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var ae=Jn({point:function(t,n){this.stream.point(t*X,n*X)}});function oe(t,n,e,r){var i=J(r),a=Z(r),o=i*t,s=a*t,c=i/t,u=a/t,l=(a*e-i*n)/t,h=(a*n+i*e)/t;function f(t,r){return[o*t-s*r+n,e-s*t-o*r]}return f.invert=function(t,n){return[c*t-u*n+l,h-u*t-c*n]},f}function se(t){return ce(function(){return t})()}function ce(t){var n,e,r,i,a,o,s,c,u,l,h=150,f=480,d=250,p=0,g=0,v=0,m=0,y=0,b=0,x=null,w=Ht,k=null,S=Qt,O=.5;function E(t){return c(t[0]*X,t[1]*X)}function j(t){return(t=c.invert(t[0],t[1]))&&[t[0]*B,t[1]*B]}function M(){var t=oe(h,0,0,b).apply(null,n(p,g)),r=(b?oe:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(h,f-t[0],d-t[1],b);return e=bt(v,m,y),s=mt(n,r),c=mt(e,s),o=ie(s,O),C()}function C(){return u=l=null,E}return E.stream=function(t){return u&&l===t?u:u=ae(function(t){return Jn({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(w(o(S(l=t)))))},E.preclip=function(t){return arguments.length?(w=t,x=void 0,C()):w},E.postclip=function(t){return arguments.length?(S=t,k=r=i=a=null,C()):S},E.clipAngle=function(t){return arguments.length?(w=+t?qt(x=t*X):(x=null,Ht),C()):x*B},E.clipExtent=function(t){return arguments.length?(S=null==t?(k=r=i=a=null,Qt):Yt(k=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),C()):null==k?null:[[k,r],[i,a]]},E.scale=function(t){return arguments.length?(h=+t,M()):h},E.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],M()):[f,d]},E.center=function(t){return arguments.length?(p=t[0]%360*X,g=t[1]%360*X,M()):[p*B,g*B]},E.rotate=function(t){return arguments.length?(v=t[0]%360*X,m=t[1]%360*X,y=t.length>2?t[2]%360*X:0,M()):[v*B,m*B,y*B]},E.angle=function(t){return arguments.length?(b=t%360*X,M()):b*B},E.precision=function(t){return arguments.length?(o=ie(s,O=t*t),C()):$(O)},E.fitExtent=function(t,n){return Zn(E,t,n)},E.fitSize=function(t,n){return $n(E,t,n)},E.fitWidth=function(t,n){return te(E,t,n)},E.fitHeight=function(t,n){return ne(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&j,M()}}function ue(t){return function(n,e){var r=J(n),i=J(e),a=t(r*i);return[a*i*Z(n),a*Z(e)]}}function le(t){return function(n,e){var r=$(n*n+e*e),i=t(r),a=Z(i),o=J(i);return[V(n*a,r*o),et(r&&e*a/r)]}}var he=ue(function(t){return $(2/(1+t))});he.invert=le(function(t){return 2*et(t/2)});var fe=ue(function(t){return(t=nt(t))&&t/Z(t)});fe.invert=le(function(t){return t});function de(t,n){return[t,Q(tt((H+n)/2))]}de.invert=function(t,n){return[t,2*U(K(n))-H]};function pe(t){var n,e,r,i=se(t),a=i.center,o=i.scale,s=i.translate,c=i.clipExtent,u=null;function l(){var a=I*o(),s=i(St(i.rotate()).invert([0,0]));return c(null==u?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===de?[[Math.max(s[0]-a,u),n],[Math.min(s[0]+a,e),r]]:[[u,Math.max(s[1]-a,n)],[e,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?u=n=e=r=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==u?null:[[u,n],[e,r]]},l()}function ge(t,n){return[t,n]}ge.invert=ge;var ve=1.340264,me=-.081106,ye=893e-6,be=.003796,xe=$(3)/2;function we(t,n){var e=et(xe*Z(n)),r=e*e,i=r*r*r;return[t*J(e)/(xe*(ve+3*me*r+i*(7*ye+9*be*r))),e*(ve+me*r+i*(ye+be*r))]}we.invert=function(t,n){for(var e,r=n,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=e=(r*(ve+me*i+a*(ye+be*i))-n)/(ve+3*me*i+a*(7*ye+9*be*i)))*r)*i*i,!(Y(e)<1e-12));++o);return[xe*t*(ve+3*me*i+a*(7*ye+9*be*i))/J(r),et(Z(r)/xe)]};function ke(t,n){var e=J(n),r=J(t)*e;return[e*Z(t)/r,Z(n)/r]}ke.invert=le(U);function Se(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Se.invert=function(t,n){var e,r=n,i=25;do{var a=r*r,o=a*a;r-=e=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-n)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(Y(e)>T&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};function Oe(t,n){return[J(n)*Z(t),Z(n)]}Oe.invert=le(et);function Ee(t,n){var e=J(n),r=1+J(t)*e;return[e*Z(t)/r,Z(n)/r]}Ee.invert=le(function(t){return 2*U(t)});function je(t,n){return[Q(tt((H+n)/2)),-t]}je.invert=function(t,n){return[-n,2*U(K(t))-H]};var Me=function(){var t,n={className:"map-d3",data:[],geojson:{features:[],type:"FeatureCollection"},height:200,width:200};return{create:function(n,e){void 0===e&&(e={}),this.mergeProps(e),this._makeSvg(n),this.container=t.append("g").attr("class","histogram-container"),this.update(n,e)},mergeProps:function(t){this.props=g(n,t),this.props.data=t.data},_makeSvg:function(n){if(t){t.selectAll("svg > *").remove(),t.remove();var e=n.getElementsByTagName("svg");e.length>0&&n.removeChild(e[0])}var r=this.props,i=r.width,a=r.height,o=r.className;t=Object(d.d)(n).append("svg").attr("class",o).attr("width",i).attr("height",a).attr("viewBox","0 0 "+i+" "+a).append("g")},updateChart:function(t,n){var e=this.props,r=e.width,i=e.height,a=pe(de).scale(961/G).scale(r/2/Math.PI*3).translate([r/2,i/2]),o=function(t,n){var e,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),ut(t,e(r))),r.result()}return a.area=function(t){return ut(t,e(on)),on.result()},a.measure=function(t){return ut(t,e(Yn)),Yn.result()},a.bounds=function(t){return ut(t,e(gn)),gn.result()},a.centroid=function(t){return ut(t,e(zn)),zn.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Qt):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Un):new Wn(n=t),"function"!=typeof i&&r.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(n)}().projection(a);this.container.selectAll("path").data(n.features).enter().append("path").attr("d",o)},update:function(t,n){if(n.data){this.mergeProps(n);var e=this.props,r=e.data,i=e.geojson;this.updateChart(r,i)}},destroy:function(n){t.selectAll("svg > *").remove()}}},Ce=function(t){function n(n){var e;return(e=t.call(this,n)||this).chart=Me(),e.state={parentWidth:300},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=this.getDOMNode(),e=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:e},function(){return t.chart.create(n,t.getChartState())})},e.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=(n.children,i()(n,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},e,{width:t})},e.componentWillUnmount=function(){"100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},e.getDOMNode=function(){return u.findDOMNode(this.ref)},e.render=function(){var t=this;return c.createElement("div",{ref:function(n){return t.ref=n},className:"map-chart-container"})},n}(c.Component);Ce.defaultProps={geojson:{features:[],type:"FeatureCollection"},height:200,width:"100%"};var Ae=Ce,_e=(e(319),e(136),e(84),function(){var t,n,e,r,i=Object(f.b)(),a=Object(f.b)(),o={},s={choices:[],className:"scatter-plot-d3",colorScheme:m.a,data:[],delay:0,duration:400,height:300,legendWidth:100,padding:20,radius:4,width:"100%"};return{create:function(t,n){void 0===n&&(n=s),this.props=g(s,n),this.update(t,n)},_makeSvg:function(n,r){if(t){t.selectAll("svg > *").remove(),t.remove();var i=n.getElementsByTagName("svg");i.length>0&&n.removeChild(i[0])}var a=this.props,o=a.width,s=a.className,c=a.height,u=a.legendWidth,l=a.padding;t=Object(d.d)(n).append("svg").attr("class",s).attr("width",o+l+u).attr("height",c+l).append("g").attr("transform","translate("+l+","+l/2+")"),e=Object(f.d)(this.props.colorScheme)},_drawScales:function(e){var s=this.props,c=s.height,u=s.padding,l=s.width/e.length,h=c/e.length;a.range([u/2,l-u/2]),i.range([c-u/2,u/2]),t.selectAll(".x.axis").data(e).enter().append("g").attr("class","x axis").attr("transform",function(t,n){return"translate("+(e.length-n-1)*l+",0)"}).each(function(t){a.domain(o[t]),Object(d.d)(this).call(n)}),t.selectAll(".y.axis").data(e).enter().append("g").attr("class","y axis").attr("transform",function(t,n){return"translate(0,"+n*h+")"}).each(function(t){i.domain(o[t]),Object(d.d)(this).call(r)})},_drawLegend:function(){var n=this.props,r=n.choices,i=n.padding,a=n.width,o=n.split;if(void 0!==r){var s=t.append("g").attr("transform","translate("+(a+i/2)+", "+(i+50)+")");s.append("g").append("text").attr("x",0).attr("y",0).attr("dy",".71em").text(function(t){return o}),s.selectAll(".legendItem").data(r).enter().append("g").each(function(t,n){var r=Object(d.d)(this);r.append("rect").attr("class","legendItem").attr("x",0).attr("y",20+15*n).attr("fill",e(n)).attr("height",10).attr("width",10),r.append("text").attr("x",15).attr("y",20+15*n).attr("dy",".71em").text(function(n){return t})}),s.exit().remove()}},_drawPoints:function(n,r,s){var c=this.props,u=c.data,l=c.delay,h=c.duration,f=c.choices,p=c.split,g=c.padding,v=c.radius,m=n.length;t.selectAll(".cell").data(function(t,n){var e,r,i=[],a=t.length,o=n.length;for(e=-1;++e<a;)for(r=-1;++r<o;)i.push({x:t[e],i:e,y:n[r],j:r});return i}(n,n)).enter().append("g").attr("class","cell").attr("transform",function(t){return"translate("+(m-t.i-1)*r+","+t.j*r+")"}).each(function(t){var n=Object(d.d)(this);a.domain(o[Number(t.x)]),i.domain(o[Number(t.y)]),n.append("rect").attr("class","frame").attr("x",g/2).attr("y",g/2).attr("width",r-g).attr("height",s-g),n.selectAll("circle").data(u.values).enter().append("circle").attr("r",function(t){return v}).attr("cx",function(n){return a(n[Number(t.x)])}).attr("cy",function(n){return i(n[Number(t.y)])}).style("fill",function(t){if(t[p]){var n=f.findIndex(function(n){return n===t[p]});return e(n)}return"#eeaabb"}).transition().duration(h).delay(l).attr("r",function(t){return v})}).filter(function(t){return t.i===t.j}).append("text").attr("x",g).attr("y",g).attr("dy",".71em").text(function(t){return t.x})},update:function(t,e){if(this.props=Object.assign({},this.props,e),e.data){var s=this.props,c=s.data,u=s.distModels,f=s.height,d=s.width;this._makeSvg(t,e.data),this._drawLegend();var p=c.keys.filter(function(t){return-1!==u.indexOf(t)}),g=d/p.length,v=f/p.length,m=p.length;p.forEach(function(t){o[t]=Object(l.a)(c.values,function(n){return n[t]})}),n=Object(h.a)(a).ticks(6).tickSize(g*m),r=Object(h.b)(i).ticks(6).tickSize(-v*m),this._drawScales(p),this._drawPoints(p,g,v)}},destroy:function(n){t.selectAll("svg > *").remove()}}}),Ne=function(t){function n(n){var e;return(e=t.call(this,n)||this).chart=_e(),e.state={choices:[],data:[],distModels:[],height:e.props.height,parentWidth:400,split:"",width:e.props.width},e}o()(n,t);var e=n.prototype;return e.handleResize=function(){var t=this,n=this.props,e=n.legendWidth,r=n.padding,i=Math.max(200,this.ref.offsetWidth-r-e),a=Math.max(200,window.innerHeight-r-this.ref.getBoundingClientRect().top),o=Math.min(a,i);this.setState({parentWidth:o},function(){return t.chart.create(t.getDOMNode(),t.getChartState())})},e.componentDidMount=function(){var t=this;this.chart.create(this.getDOMNode(),this.getChartState());var n=this.props.width;"string"==typeof n&&"100%"===n&&(window.addEventListener("resize",function(n){return t.handleResize()}),this.handleResize())},e.componentDidUpdate=function(){this.chart.update(this.getDOMNode(),this.getChartState())},e.getChartState=function(){var t=this.props.width,n=this.props,e=n.data,r=n.choices,i=n.split,a=n.distModels,o=n.height;return"string"==typeof t&&"100%"===t&&(t=this.state.parentWidth||300),{choices:r,data:e,distModels:a,height:o,parentWidth:this.state.parentWidth,split:i,width:t}},e.componentWillReceiveProps=function(t){this.chart.update(this.getDOMNode(),this.getChartState())},e.componentWillUnmount=function(){var t=this.props.width;"string"==typeof t&&"100%"===t&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(this.getDOMNode())},e.getDOMNode=function(){return u.findDOMNode(this.ref)},e.render=function(){var t=this;return c.createElement("div",{ref:function(n){return t.ref=n},className:"scatterplot-chart-container"})},n}(c.Component);Ne.defaultProps={height:400,width:"100%"};e.d(n,"a",function(){return F}),e.d(n,"b",function(){return Ae})}}]);
//# sourceMappingURL=component---src-pages-map-tsx-a51f83ce14c8713bef5d.js.map