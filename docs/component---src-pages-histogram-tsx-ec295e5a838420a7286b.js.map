{"version":3,"sources":["webpack:///./src/pages/histogram.tsx","webpack:///../src/HistogramD3.ts","webpack:///../src/Histogram.tsx","webpack:///../src/colors/index.js","webpack:///../src/d3/attrs.ts","webpack:///../src/tip.ts","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./node_modules/react-datasheet/lib/CellShape.js","webpack:///../src/colors/filterRange.ts","webpack:///./src/components/seo.tsx","webpack:///../src/Legend.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx","webpack:///./.cache/public-page-renderer-prod.js","webpack:///../src/JoyplotD3.ts","webpack:///../src/JoyPlot.tsx","webpack:///../src/PieChartD3.ts","webpack:///../src/PieChart.tsx","webpack:///./node_modules/react-datasheet/lib/Cell.js","webpack:///./node_modules/react-datasheet/lib/DataEditor.js","webpack:///./node_modules/react-datasheet/lib/ValueViewer.js","webpack:///../src/grid.ts","webpack:///./src/data.ts","webpack:///./node_modules/react-datasheet/lib/Sheet.js","webpack:///./node_modules/react-datasheet/lib/Row.js","webpack:///./node_modules/react-datasheet/lib/keys.js","webpack:///./node_modules/react-datasheet/lib/renderHelpers.js","webpack:///../src/HorizontalHistogramD3.ts","webpack:///../src/HorizontalHistogram.tsx","webpack:///../src/utils/scales.ts","webpack:///../src/lineChartD3.ts","webpack:///../src/LineChart.tsx","webpack:///../src/MapD3.ts","webpack:///../src/Map.tsx","webpack:///../src/ScatterPlotD3.ts","webpack:///../src/ScatterPlot.tsx","webpack:///../src/index.ts","webpack:///./node_modules/react-datasheet/lib/index.js","webpack:///./node_modules/react-json-pretty/dist/JSONPretty.js","webpack:///./src/components/TabContainer.tsx","webpack:///./node_modules/react-datasheet/lib/DataSheet.js","webpack:///./node_modules/react-datasheet/lib/DataCell.js"],"names":["tipContentFns","bins","i","d","toFixed","dataLegendData","data","counts","map","c","label","reduce","p","n","initialSate","chartType","reducer","state","action","type","Object","assign","Error","dataToSpreadSheet","datum","speadSheetData","forEach","b","value","x","HistogramExample","_useState","useState","tab","setTab","_useReducer","useReducer","dispatch","_useState2","visible","setVisible","Chart","Histogram","HorizontalHistogram","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_11__","_components_seo__WEBPACK_IMPORTED_MODULE_12__","title","description","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","variant","container","spacing","item","xs","axis","grid","width","height","colorScheme","theme","tipContentFn","_src_Legend__WEBPACK_IMPORTED_MODULE_10__","onSelect","key","_Object$assign","hasOwnProperty","react_json_pretty__WEBPACK_IMPORTED_MODULE_5___default","onChange","e","v","_components_TabContainer__WEBPACK_IMPORTED_MODULE_13__","react_datasheet__WEBPACK_IMPORTED_MODULE_4___default","valueRenderer","cell","sheetRenderer","props","className","count","children","onCellsChanged","changes","_ref","row","col","Number","select","target","histogramD3","svg","tipContainer","tipContent","y","scaleLinear","scaleBand","innerScaleBand","defaultProps","margin","style","fill","shape-rendering","stroke","stroke-opacity","stroke-width","text","ticks","bar","groupMargin","delay","domain","max","min","duration","left","top","color","dasharray","linecap","tip","tips","create","el","this","mergeProps","_makeSvg","makeGrid","makeScales","append","attr","update","newProps","merge","selectAll","remove","childNodes","getElementsByTagName","length","removeChild","_this$props","scale","r","makeTip","valuesCount","appendDomainRange","yDomain","_this$props2","allCounts","prev","next","concat","thisExtent","extent","yRange","xAxisHeight","range","xAxis","yAxis","xAxisLabel","yAxisLabel","_drawScales","_this$props3","w","gridWidth","dataLabels","rangeRound","paddingInner","groupedMargin","bandwidth","barMargin","axisBottom","tickSize","get","undefined","tickValues","filter","dateFormat","tickFormat","timeFormat","yAxisWidth","call","dataSets","axisLeft","yTickSize","transition","attrs","m","barWidth","updateChart","groupData","_this","_this$props4","colors","scaleOrdinal","gHeight","gridHeight","g","bars","enter","stackIndex","setIndex","findIndex","on","ix","html","fx","in","move","out","groupLabel","currentHeight","exit","xText","yText","gridX","gridY","_this2","_this$props5","push","drawGrid","destroy","_React$Component","chart","parentWidth","handleResize","elem","getDOMNode","ref","offsetWidth","setState","getChartState","componentDidMount","_this3","window","addEventListener","componentDidUpdate","rest","objectWithoutPropertiesLoose_default","componentWillUnmount","removeEventListener","ReactDOM","render","_this4","react","React","rgb","darker","toString","__webpack_exports__","selection","keys","k","__webpack_require__","d3_selection__WEBPACK_IMPORTED_MODULE_0__","event","pageX","pageY","selector","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","Consumer","staticQueryData","query","propTypes","PropTypes","object","string","isRequired","func","module","exports","require","default","defineProperty","obj","_propTypes","_propTypes2","__esModule","CellShape","readOnly","bool","component","oneOfType","element","forceComponent","disableEvents","colSpan","number","rowSpan","overflow","oneOf","dataEditor","valueViewer","Color","hsl","array","luminosity","index","self","indexOf","sort","Math","random","SEO","lang","meta","keywords","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_2___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","name","property","author","join","arrayOf","legendIconStyle","cursor","display","listStyle","Legend","_ref$theme","scheme","labels","react__WEBPACK_IMPORTED_MODULE_2__","active","backgroundColor","border","onClick","Header","siteTitle","react_default","index_es","position","gatsby_browser_entry","to","Layout","Fragment","header","flexGrow","padding","paddingTop","Date","getFullYear","href","_755544856","node","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","joyPlotD3","yOuterScaleBand","joyTitle","containers","_props","thisCounts","_props5","getBins","Array","from","Set","_props6","yLabels","yOuterBounds","_props7","_props8","_props9","borderColors","thisMax","joyLabel","_drawGrid","_props10","axisWidth","offset","make_x_gridlines","make_y_gridlines","_props11","lineData","pieChartD3","donutWidth","displayFn","previousData","set","dataSet","drawChartBg","drawCharts","outerRadius","_this$props2$donutWid","radius","innerRadius","_this$props3$donutWid","drawChart","tau","PI","bgArc","arc","startAngle","endAngle","background","_this$props6","thisPie","pie","arcs","thisArc","path","j","each","_current","attrTween","interpolate","t","arcTween","path2","_height","_width","centroid","PieChart","_extends","arguments","source","prototype","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_CellShape2","Cell","_PureComponent","instance","TypeError","_classCallCheck","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","subClass","superClass","constructor","setPrototypeOf","_inherits","PureComponent","attributesRenderer","onMouseDown","onMouseOver","onDoubleClick","onContextMenu","attributes","selected","editing","updated","DataEditor","handleChange","bind","_input","focus","onKeyDown","input","onCommit","onRevert","ValueViewer","d3_axis__WEBPACK_IMPORTED_MODULE_0__","lodash_get__WEBPACK_IMPORTED_MODULE_1__","_d3_attrs__WEBPACK_IMPORTED_MODULE_2__","makeXGridlines","makeYGridlines","data2","_src_colors_filterRange__WEBPACK_IMPORTED_MODULE_0__","dy","text-anchor","transform","filterRange","Sheet","Row","cells","TAB_KEY","ENTER_KEY","ESCAPE_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","DELETE_KEY","BACKSPACE_KEY","renderValue","renderData","dataRenderer","horizontalHistogramD3","xDomain","xRange","h","_drawBars","info","drawDataSet","barHeight","setCount","barItem","all","multiLineOffset","currentWidth","gy","histogram","componentWillReceiveProps","buildScales","scaleLog","clamp","scaleTime","lineChartD3","xParseTime","xFormatTime","lineProps","curveType","curveCatmullRom","show","strokeDashArray","strokeDashOffset","easeCubic","datumProps","line","point","_buildScales","lineContainer","_createLines","_drawDataPointSet","getYAxisWidth","pointContainer","points","dx","ys","numberFormat","format","getXAxisHeight","parsedY","parsedX","_drawLines","curve","drawAreas","area","y0","y1","_buildScales2","timeParse","LineChart","mapD3","geojson","features","projection","geoMercator","translate","geoGenerator","geoPath","Map","scatterPlotD3","yScale","xScale","domainByTrait","choices","legendWidth","xSize","ySize","_drawLegend","split","legend","_drawPoints","traits","nx","cross","plotCell","values","distModels","trait","ScatterPlot","_Component","chartWidth","chartHeight","innerHeight","getBoundingClientRect","Component","src_HorizontalHistogram","src_LineChart","src_Map","_DataSheet2","_Sheet2","_Row2","_Cell2","_DataEditor2","_ValueViewer2","_renderHelpers","extendStatics","__extends","__","__assign","s","__rest","getOwnPropertySymbols","__importStar","mod","result","getStyle","JSONPretty","_super","_a","replacer","space","themeClassName","silent","JSON","parse","console","warn","message","dangerouslySetInnerHTML","__html","_pretty","stringify","isNaN","replace","_replace","match","ind","val","tra","keySpan","valSpan","strSpan","booSpan","sps","any","TabContainer","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","_DataCell2","_keys","isEmpty","start","end","inc","unshift","defaultParsePaste","str","DataSheet","onMouseUp","handleNavigate","handleKey","handleCut","handleCopy","handlePaste","pageClick","isSelected","isEditing","isClearing","handleComponentKey","handleKeyboardCellMovement","defaultState","selecting","forceEdit","clear","removeAllListeners","document","dgDom","isSelectionControlled","_objectWithoutProperties","contains","preventDefault","_getState","getState","clearSelectedCells","_props2","_getState2","clipboardData","setData","_getState3","parsePaste","pasteData","getData","_props3","onPaste","additions","rowData","pastedData","_setState","commit","_getState4","currentCell","hasComponent","keyCode","which","shiftKey","isPropagationStopped","_getState5","noCellsSelected","ctrlKeyPressed","ctrlKey","metaKey","deleteKeysPressed","enterKeyPressed","numbersPressed","lettersPressed","latin1Supplement","numPadKeysPressed","equationKeysPressed","_props4","getSelectedCells","setTimeout","_ref2","offsets","jumpRow","newLocation","updateLocation","includes","evt","prevProps","prevState","_state","prevEnd","_getState7","posX","negX","posY","negY","_this5","SheetRenderer","RowRenderer","rowRenderer","cellRenderer","keyFn","tabIndex","onNavigate","onKey","clearing","initialData","initialValue","widthStyle","DataCell","handleCommit","handleRevert","handleMouseDown","handleMouseOver","handleContextMenu","handleDoubleClick","reverting","committing","nextProps","timeout","clearTimeout","eatKeys","Editor","Viewer","CellRenderer","onKeyUp","renderComponent","renderEditor","renderViewer"],"mappings":"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","file":"component---src-pages-histogram-tsx-ec295e5a838420a7286b.js","sourcesContent":["import React, {\n  useReducer,\n  useState,\n} from 'react';\nimport ReactDataSheet from 'react-datasheet';\nimport JSONPretty from 'react-json-pretty';\n\nimport {\n  Card,\n  CardContent,\n  Grid,\n  MenuItem,\n  Tab,\n  Tabs,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport 'react-json-pretty/themes/monikai.css';\nimport { HorizontalHistogram } from '../../../src';\nimport Histogram, { IHistogramData } from '../../../src/Histogram';\nimport Legend from '../../../src/Legend';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { TabContainer } from '../components/TabContainer';\nimport {\n  axis,\n  data,\n  grid,\n  theme,\n} from '../data';\n\nconst tipContentFns = [\n  (bins, i, d) =>\n    bins[i] + '<br />HI THere ' + d.toFixed(2),\n  (bins, i, d) =>\n    bins[i] + '<br />Bookay ' + d.toFixed(2),\n];\n\nconst dataLegendData = {\n  bins: data.counts.map((c) => c.label),\n  counts: [{\n    data: data.counts.map((c) => c.data.reduce((p, n) => p + n, 0)),\n    label: '',\n  }],\n};\n\ninterface IInitialState {\n  chartType: 'HorizontalHistogram' | 'Histogram';\n  data: IHistogramData;\n}\nconst initialSate: IInitialState = {\n  chartType: 'Histogram',\n  data,\n};\n\ntype Actions = { type: 'setChartType'; chartType: string }\n  | { type: 'setData', data: IHistogramData };\n\nfunction reducer(state: IInitialState, action: Actions) {\n  switch (action.type) {\n    case 'setChartType':\n      return { ...state, chartType: action.chartType };\n    case 'setData':\n      return { ...state, data: action.data };\n    default:\n      throw new Error();\n  }\n}\n\nexport const dataToSpreadSheet = (datum: IHistogramData): any => {\n  const speadSheetData: any = [];\n\n  datum.bins.forEach((b, i) => {\n    if (!speadSheetData[i]) {\n      speadSheetData[i] = [];\n    }\n    speadSheetData[i][0] = { value: b };\n  });\n  datum.counts.forEach((c, i) => {\n    c.data.forEach((d, x) => {\n      if (!speadSheetData[x]) {\n        speadSheetData[x] = [];\n      }\n      speadSheetData[x][i + 1] = { value: d };\n    });\n  });\n  return speadSheetData;\n};\n\nconst HistogramExample = () => {\n  const [tab, setTab] = useState(0);\n  const [state, dispatch] = useReducer(reducer, initialSate);\n  const [visible, setVisible] = useState({});\n\n  const speadSheetData = dataToSpreadSheet(state.data);\n\n  const Chart = state.chartType === 'Histogram' ? Histogram : HorizontalHistogram;\n  return (\n    <Layout>\n      <SEO title=\"Histogram\" description=\"\" />\n      <Typography variant=\"h2\">Histogram</Typography>\n      <div>\n        <Grid container spacing={24}>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <Chart data={state.data}\n                  axis={axis}\n                  grid={grid}\n                  width={'100%'}\n                  height={300}\n                  visible={visible}\n                  colorScheme={theme}\n                  tipContentFn={tipContentFns[0]}\n                />\n                <Legend\n                  theme={theme}\n                  data={dataLegendData}\n                  onSelect={(key) => {\n                    setVisible({ ...visible, [key]: visible.hasOwnProperty(key) ? !visible[key] : false });\n                  }}\n                  visible={visible}\n                />\n              </CardContent>\n            </Card>\n            <br />\n            <Card>\n              <CardContent>\n                <JSONPretty data={state} />\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={6}>\n            <Card>\n              <CardContent>\n                <Tabs value={tab} onChange={(e, v) => setTab(v)}>\n                  <Tab label=\"Data\" />\n                  <Tab label=\"Styling\" />\n                </Tabs>\n                {\n                  tab === 0 && <TabContainer>\n                    <ReactDataSheet<any, any> data={speadSheetData}\n                      valueRenderer={(cell) => cell.value}\n                      sheetRenderer={(props) => (\n                        <table className={props.className + ' my-awesome-extra-class'}>\n                          <thead>\n                            <tr>\n                              <th className=\"action-cell\">Bin</th>\n                              {\n                                state.data.counts.map((count) => (<th key={count.label} className=\"action-cell\">\n                                  {count.label}\n                                </th>))\n                              }\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {props.children}\n                          </tbody>\n                        </table>\n                      )}\n                      onCellsChanged={(changes) => {\n                        changes.forEach(({ cell, row, col, value }) => {\n                          if (col === 0) {\n                            state.data.bins[row] = value;\n                          } else {\n                            state.data.counts[col - 1].data[row] = Number(value);\n                          }\n                        });\n                        dispatch({ type: 'setData', data: state.data });\n                      }} />\n                  </TabContainer>\n                }\n                {\n                  tab === 1 && <TabContainer>\n                    <Grid container spacing={24}>\n                      <Grid item xs={6}>\n                        <TextField\n                          select\n                          label=\"Chart direction\"\n                          value={state.chartType}\n                          onChange={(e) => {\n                            dispatch({ type: 'setChartType', chartType: e.target.value });\n                          }}\n                        >\n                          <MenuItem value=\"Histogram\">\n                            Histogram\n                            </MenuItem>\n                          <MenuItem value=\"HorizontalHistogram\">\n                            HorizontalHistogram\n                            </MenuItem>\n\n                        </TextField>\n                      </Grid>\n                    </Grid>\n                  </TabContainer>\n                }\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      </div>\n    </Layout>\n  );\n};\n\nexport default HistogramExample;\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  ScaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport { timeFormat } from 'd3-time-format';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  drawGrid,\n  gridHeight,\n  gridWidth,\n  xAxisHeight,\n  yAxisWidth,\n} from './grid';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n} from './Histogram';\nimport tips, { makeTip } from './tip';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const histogramD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n  // @TODO make this a prop\n  const stacked = false;\n\n  const defaultProps: IHistogramProps = {\n    axis: {\n      x: {\n        height: 20,\n        label: '',\n        margin: 10,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        label: '',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    bar: {\n      groupMargin: 0.1,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number): string =>\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const HistogramD3 = {\n    /**\n     * Initialization\n     */\n    create(el: HTMLElement, props: Partial<IHistogramProps> = {}) {\n      this.mergeProps(props);\n      this._makeSvg(el);\n      this.makeGrid();\n      this.makeScales();\n      this.container = svg\n        .append('g')\n        .attr('class', 'histogram-container');\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IHistogramProps>) {\n      this.props = merge<IHistogramProps>(defaultProps, newProps);\n      this.props.data = newProps.data;\n      if (newProps.colorScheme) {\n        this.props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n      const scale = {\n        x: 1 - (margin.left / width),\n        y: 1 - (margin.top / height),\n      };\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top}) scale(${scale.x},${scale.y})`);\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData): void {\n      const yDomain: number[] = [];\n      const { domain, margin, height } = this.props;\n      const allCounts: number[] = data.reduce((prev: number[], next): number[] => {\n        return [...prev, ...next.map((n) => n.value)];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [height - (margin.top * 2) - xAxisHeight(this.props.axis), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    makeScales() {\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      this.xAxisLabel = svg.append('g');\n      this.yAxisLabel = svg.append('g');\n    },\n\n    /**\n     * Draw scales\n     */\n    _drawScales(data: IHistogramData) {\n      const { axis, margin, height } = this.props;\n      const valuesCount = this.valuesCount(data.counts);\n      const w = gridWidth(this.props);\n\n      const dataLabels = data.counts.map((c) => c.label);\n\n      x\n        .domain(data.bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      if (stacked) {\n        innerScaleBand\n          .domain(['main'])\n          .rangeRound([0, x.bandwidth()])\n          .paddingInner(this.barMargin());\n      } else {\n        innerScaleBand\n          .domain(dataLabels)\n          .rangeRound([0, x.bandwidth()])\n          .paddingInner(this.barMargin());\n      }\n      const xAxis = axisBottom<Date | string>(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n      if (axis.x.scale === 'TIME' && axis.x.dateFormat) {\n        xAxis.tickFormat(timeFormat(axis.x.dateFormat));\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (yAxisWidth(axis) + axis.y.style['stroke-width']) + ',' +\n          (height - xAxisHeight(this.props.axis) - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      this.appendDomainRange(y, this.dataSets);\n\n      const yAxis = axisLeft(y).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n      if (axis.y.scale === 'TIME' && axis.y.dateFormat) {\n        yAxis.tickFormat(timeFormat(axis.y.dateFormat));\n      }\n      this.yAxis\n        .attr('transform', 'translate(' + yAxisWidth(axis) + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     */\n    groupedMargin(): number {\n      const m = get(this.props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    barMargin(): number {\n      const m = get(this.props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      bins: string[],\n      groupData: IGroupData,\n    ) {\n      const { axis, height, width, margin, delay, duration, tip } = this.props;\n      const barWidth = this.barWidth();\n\n      // const borderColors = set.borderColors ? d3.scaleOrdinal(set.borderColors) : null;\n      const colors = scaleOrdinal(this.props.colorScheme);\n      const gHeight = gridHeight(this.props);\n\n      const g = this.container\n        .selectAll('g')\n        .data(groupData);\n\n      const bars = g.enter()\n        .append('g')\n        .merge(g)\n        .attr('transform', (d) => {\n          const xdelta = yAxisWidth(axis)\n            + axis.y.style['stroke-width']\n            + x(d[0].label);\n          return `translate(${xdelta}, 0)`;\n        })\n        .selectAll('rect')\n        .data((d) => d);\n\n      // Don't ask why but we must reference tipContentFn as this.props.tipContentFn otherwise\n      // it doesn't update with props changes\n      const onMouseOver = (d: IGroupDataItem, i: number) => {\n        const ix = bins.findIndex((b) => b === d.label);\n        tipContent.html(() => this.props.tipContentFn(bins, ix, d.value));\n        tip.fx.in(tipContainer);\n      };\n\n      bars\n        .enter()\n        .append('rect')\n        .attr('height', 0)\n        .attr('y', (d: IGroupDataItem, stackIndex: number): number => {\n          const setIndex = bins.findIndex((b) => b === d.label);\n          const thisSetData = groupData[setIndex];\n          // @TODO stack charts\n          // const offset = stackIndex > 0\n          //   ? y(10)\n          //   : 0;\n          const offset = 0;\n          return gHeight - offset;\n        })\n        .attr('class', 'bar')\n        .on('mouseover', onMouseOver)\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .merge(bars)\n        .attr('x', (d) => {\n          return innerScaleBand(d.groupLabel);\n        })\n        .attr('width', (d) => barWidth)\n        .attr('fill', (d, i) => colors(i))\n        .transition()\n        .duration(duration)\n        .delay(delay)\n        .attr('y', (d: IGroupDataItem, stackIndex: number): number => {\n          // const setIndex = bins.findIndex((b) => b === d.label);\n          // const thisSetData = groupData[setIndex];\n          // @TODO stack charts\n          // const offset = stackIndex > 0\n          //   ? 5\n          //   : 0;\n          const offset = 0;\n          return y(d.value + offset);\n        })\n        // Hide bar's bottom border\n        .attr('stroke-dasharray',\n          (d: IGroupDataItem): string => {\n            const currentHeight = gHeight - (y(d.value));\n            return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n          })\n        .attr('height', (d: IGroupDataItem): number => gHeight - (y(d.value)));\n\n      bars.exit().remove();\n      g.exit().remove();\n\n      const xText = this.xAxisLabel\n        .selectAll('text')\n        .data([axis.x.label]);\n\n      xText.enter().append('text')\n        .attr('class', 'x-axis-label')\n        .merge(xText)\n        .attr('transform',\n          'translate(' + (width / 2) + ' ,' +\n          ((height - xAxisHeight(this.props.axis) - (margin.left * 2)) + axis.x.margin) + ')')\n        .style('text-anchor', 'middle')\n        .text((d) => d);\n\n      const yText = this.yAxisLabel\n        .selectAll('text')\n        .data([axis.y.label]);\n\n      yText.enter().append('text')\n        .attr('class', 'y-axis-label')\n        .merge(yText)\n        .attr('transform', 'rotate(-90)')\n        .attr('y', 0)\n        .attr('x', 0 - (gHeight / 2 - (margin.top * 2)))\n        .attr('dy', '1em')\n        .style('text-anchor', 'middle')\n        .text((d) => d);\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n    /**\n     * Update chart\n     */\n    update(el: HTMLElement, props: IHistogramProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(props);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      const { data, visible } = this.props;\n      this.dataSets = [] as IGroupData;\n\n      data.counts.forEach((count) => {\n        count.data.forEach((value, i) => {\n          if (!this.dataSets[i]) {\n            this.dataSets[i] = [];\n          }\n          this.dataSets[i].push({\n            groupLabel: count.label,\n            label: data.bins[i],\n            value: visible[data.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n          } as IGroupDataItem);\n        });\n      });\n\n      this._drawScales(this.props.data);\n      drawGrid(x, y, this.gridX, this.gridY, this.props, this.valuesCount(data.counts));\n      this.updateChart(data.bins, this.dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return HistogramD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { histogramD3 } from './HistogramD3';\n\nexport interface IChartAdaptor {\n  create: (el: Element | Text, props: { [key: string]: any }) => void;\n  update: (el: Element | Text, props: { [key: string]: any }) => void;\n  destroy: (el: Element | Text) => void;\n}\n\nexport interface IHistogramBar {\n  groupMargin?: number;\n  margin?: number;\n  width?: number;\n}\n\nexport interface IGrid {\n  x?: {\n    height?: number;\n    ticks?: number;\n    visible?: boolean;\n    style?: ISVGLineStyle;\n  };\n  y?: {\n    style?: ISVGLineStyle;\n    ticks?: number;\n    visible?: boolean;\n  };\n}\n\nexport interface IStroke {\n  color: ((d, i: number, colors: (i: number) => string) => string) | string;\n  dasharray?: string;\n  linecap?: string;\n  width: number;\n}\n\nexport interface IAxes {\n  y?: IAxis;\n  x?: IAxis;\n}\nexport interface IHistogramDataSet {\n  borderColors?: string[];\n  colors?: string[];\n  label: string;\n  data: number[];\n}\n\nexport interface IHistogramData {\n  bins: string[];\n  counts: IHistogramDataSet[];\n  colorScheme?: string[];\n  title?: string;\n  grid?: IGrid;\n}\n\nexport interface IDomain {\n  max: number;\n  min: number;\n}\n\nexport interface IMargin {\n  top?: number;\n  left?: number;\n  right?: number;\n  bottom?: number;\n}\nexport interface IHistogramProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData;\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\ntype Scale = 'LINEAR' | 'TIME' | 'LOG';\n\nexport interface ISVGLineStyle {\n  'stroke'?: string;\n  'fill'?: string;\n  'opacity'?: number;\n  'stroke-width'?: number;\n  'stroke-opacity'?: number;\n  'shape-rendering'?: string;\n  'visible'?: boolean;\n}\n\ninterface ISVGTextStyle {\n  fill?: string;\n  'font-size'?: string;\n  dy?: string | number;\n  'stroke-opacity'?: number;\n  'text-anchor'?: string;\n  transform?: string;\n  x?: string | number;\n  y?: string | number;\n}\n\nexport interface IChartState {\n  parentWidth?: number;\n}\n\nexport interface IAxis {\n  dateFormat?: string;\n  numberFormat?: string;\n  ticks?: number;\n  tickValues?: number[];\n  height?: number;\n  label?: string;\n  margin?: number;\n  scale?: Scale;\n  style?: ISVGLineStyle;\n  text?: {\n    style: ISVGTextStyle;\n  };\n  width?: number;\n  tickSize?: number;\n  visible?: boolean;\n}\n\nexport type TipContentFn<T> = (bins: T[], i: number, d: number, groupTitle?: string) => string;\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IHistogramProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IHistogramProps> = {\n    axis: {},\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    tipContentFn: (bins: string[], i, d) =>\n      bins[i] + '<br />' + d.toFixed(2),\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IHistogramProps) {\n    super(props);\n    this.chart = histogramD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IHistogramProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","export default ['#4bbcad',\n  '#d54539',\n  '#5ab94d',\n  '#8a5cd3',\n  '#a4b243',\n  '#ba5ccd',\n  '#54995c',\n  '#cf47a1',\n  '#d29f3e',\n  '#5c6fda',\n  '#c36528',\n  '#5fa6dc',\n  '#d74770',\n  '#7d7430',\n  '#8a529e',\n  '#df9273',\n  '#5f74b8',\n  '#ac5450',\n  '#d192d7',\n  '#b26088'];\n","import { ISVGLineStyle } from '../Histogram';\n\n/**\n * Apply style object to a d3 selection\n * @param {Object} selection D3 selection\n * @param {Object} style Css styling\n * @return {Object} selection\n */\nexport default (selection, style: ISVGLineStyle) => {\n  Object.keys(style).forEach((k: string) => {\n    selection.attr(k, style[k]);\n  });\n  return selection;\n};\n","import { event } from 'd3-selection';\nimport { select } from 'd3-selection';\n\nexport default {\n  fx: {\n    in: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n      container.transition()\n        .duration(200)\n        .style('opacity', 0.9);\n    },\n    move: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n    },\n    out: (container) => {\n      container.transition()\n        .duration(100)\n        .style('opacity', 0);\n    },\n  },\n};\n\nexport const makeTip = (selector, tipContainer): { tipContainer: any, tipContent: any } => {\n  if (tipContainer) {\n    // Chart could be rebuilt - remove old tip\n    tipContainer.remove();\n  }\n  tipContainer = select(selector).append('div')\n    .attr('class', 'tooltip top')\n    .style('opacity', 0);\n\n  tipContainer.append('div')\n    .attr('class', 'tooltip-arrow');\n  return {\n    tipContainer,\n    tipContent: tipContainer.append('div')\n      .attr('class', 'tooltip-inner'),\n  };\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\nreadOnly    Bool    false   Cell will never go in edit mode\nkey String  undefined   By default, each cell is given the key of col number and row number. This would override that key\nclassName   String  undefined   Additional class names for cells.\ncomponent   ReactElement    undefined   Insert a react element or JSX to this field. This will render on edit mode\nforceComponent  bool    false   Renders what's in component at all times, even when not in edit mode\ndisableEvents   bool    false   Makes cell unselectable and read only\ncolSpan number  1   The colSpan of the cell's td element\nrowSpan number  1   The rowSpan of the cell's td element\nwidth   number or String    undefined   Sets the cell's td width using a style attribute. Number is interpreted as pixels, strings are used as-is. Note: This will only work if the table does not have a set width.\noverflow    'wrap'|'nowrap'| 'clip' undefined   How to render overflow text. Overrides grid-level overflow option.\neditor func  undefined A component used to render the cell's value when being edited\nviewer func  undefined A component used to render the cell's value when not being edited\n*/\nvar CellShape = {\n  readOnly: _propTypes2.default.bool,\n  key: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  component: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func]),\n  forceComponent: _propTypes2.default.bool,\n  disableEvents: _propTypes2.default.bool,\n  colSpan: _propTypes2.default.number,\n  rowSpan: _propTypes2.default.number,\n  width: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n  overflow: _propTypes2.default.oneOf(['wrap', 'nowrap', 'clip']),\n  dataEditor: _propTypes2.default.func,\n  valueViewer: _propTypes2.default.func\n};\n\nexports.default = CellShape;","import * as Color from 'color';\n\nexport default (colors) => {\n  return colors.filter((value) => {\n    try {\n      const c = Color(value);\n      const hsl = c.hsl().array();\n      if (hsl.length > 3) {\n        // remove alpha colours\n        return false;\n      }\n      const luminosity = c.luminosity();\n      return ((luminosity < 0.8 && luminosity > 0.1) && (hsl[2] < 200 && hsl[2] > 20)) // not too light\n        ; // not too dark\n    } catch (e) {\n      return false;\n    }\n  })\n    .filter((v, index, self) => self.indexOf(v) === index)\n    .sort(() => Math.random() - 0.5);\n};\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\nimport {\n  graphql,\n  useStaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Helmet from 'react-helmet';\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `,\n  );\n\n  const metaDescription = description || site.siteMetadata.description;\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          content: metaDescription,\n          name: `description`,\n        },\n        {\n          content: title,\n          property: `og:title`,\n        },\n        {\n          content: metaDescription,\n          property: `og:description`,\n        },\n        {\n          content: `website`,\n          property: `og:type`,\n        },\n        {\n          content: `summary`,\n          name: `twitter:card`,\n        },\n        {\n          content: site.siteMetadata.author,\n          name: `twitter:creator`,\n        },\n        {\n          content: title,\n          name: `twitter:title`,\n        },\n        {\n          content: metaDescription,\n          name: `twitter:description`,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n              content: keywords.join(`, `),\n              name: `keywords`,\n            }\n            : [],\n        )\n        .concat(meta)}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  keywords: [],\n  lang: `en`,\n  meta: [],\n};\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  title: PropTypes.string.isRequired,\n};\n\nexport default SEO;\n","import { scaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\n\nimport colorScheme from './colors';\nimport { IHistogramDataSet } from './Histogram';\n\ninterface IProps {\n  className?: string;\n  theme?: string[];\n  data: {\n    bins: string[],\n    counts: IHistogramDataSet[];\n  };\n  onSelect: (label: string) => void;\n  visible: { [key: string]: boolean };\n}\n\nconst legendIconStyle = {\n  cursor: 'pointer',\n  display: 'inline-block',\n  height: '1rem',\n  margin: '0.25rem 0.5rem',\n  width: '1rem',\n};\n\nconst listStyle = {\n  listStyle: 'none',\n};\n\nconst Legend: React.SFC<IProps> = ({ className, theme = colorScheme, data, onSelect, visible }) => {\n  const scheme: any = scaleOrdinal(theme);\n  const labels = data.bins;\n  return (\n    <div className={className}>\n      <ul style={listStyle}>\n        {\n          labels.map((label) => {\n            const active = (visible.hasOwnProperty(label) && visible[label]) || !visible.hasOwnProperty(label);\n            return (\n              <li key={label}>\n                <div style={{\n                  ...legendIconStyle,\n                  backgroundColor: active ? scheme(label) : '#FFF',\n                  border: '2px solid ' + scheme(label),\n                }}\n                  onClick={() => onSelect(label)}>\n                </div> {label}\n              </li>\n            );\n          })\n        }\n      </ul>\n    </div>\n  );\n};\n\nexport default Legend;\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {\n  AppBar,\n  Button,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\n\nconst Header = ({ siteTitle }) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Typography variant=\"h6\" color=\"inherit\" >\n        <Link to=\"/\">{siteTitle}</Link>\n      </Typography>\n\n      <Button><Link to=\"histogram\">Histogram</Link></Button>\n      <Button><Link to=\"line\">Line Chart</Link></Button>\n      <Button><Link to=\"pie\">Pie Chart</Link></Button>\n      <Button><Link to=\"joyplot\">Joy Plot</Link></Button>\n      {/* <Button><Link to=\"/map\">Map</Link></Button> */}\n    </Toolbar>\n  </AppBar>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  siteTitle: ``,\n};\n\nexport default Header;\n","import './layout.css';\n\n/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\nimport {\n  graphql,\n  StaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Header from './header';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={(data) => (\n      <>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <div\n          style={{\n            flexGrow: 2,\n            margin: `0 auto`,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n            width: '100%',\n          }}\n        >\n          <main>{children}</main>\n\n        </div>\n        <footer>\n          © {new Date().getFullYear()}, Built by\n            {` `}\n          <a href=\"https://www.infosum.com\">InfoSum</a>\n        </footer>\n      </>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { extent } from 'd3-array';\nimport { axisBottom, axisLeft } from 'd3-axis';\nimport { scaleBand, scaleLinear, ScaleLinear, scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport { IChartAdaptor, IHistogramData, IHistogramDataSet } from './Histogram';\nimport { IJoyPlotProps } from './JoyPlot';\nimport tips, { makeTip } from './tip';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const joyPlotD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  let props: IJoyPlotProps;\n  let dataSets: IGroupData[];\n  const yOuterScaleBand = scaleBand();\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisLeft(yOuterScaleBand)\n      .ticks(ticks);\n  }\n\n  const defaultProps: IJoyPlotProps = {\n    axis: {\n      x: {\n        height: 20,\n        label: '',\n        margin: 10,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        label: '',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    bar: {\n      groupMargin: 0,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [{\n      bins: [],\n      counts: [],\n    }],\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins, i, d, joyTitle): string =>\n      joyTitle + ': ' +\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const JoyPlotD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, newProps: Partial<IJoyPlotProps> = {}) {\n      this.mergeProps(newProps);\n      this._makeSvg(el);\n      this.makeGrid(props);\n      this.makeScales();\n      this.containers = props.data.map((d, i) => svg\n        .append('g')\n        .attr('class', `histogram-container-${i}`),\n      );\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IJoyPlotProps>) {\n      props = merge<IJoyPlotProps>(defaultProps, newProps);\n      props.data = newProps.data;\n      if (newProps.colorScheme) {\n        props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData[]): void {\n      const yDomain: number[] = [];\n      const { domain } = props;\n\n      const allCounts: number[] = data.reduce((prev, next) => {\n        const thisCounts: number[] = next.reduce((p, n) => {\n          return [...p, ...n.map((item) => item.value)];\n        }, [] as number[]);\n        return [...prev, ...thisCounts];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [yOuterScaleBand.bandwidth(), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    yAxisWidth() {\n      const { axis } = props;\n      return axis.y.label === ''\n        ? axis.y.width\n        : axis.y.width + 30;\n    },\n\n    xAxisHeight() {\n      const { axis } = props;\n      return axis.x.label === ''\n        ? axis.x.height\n        : axis.x.height + 30;\n    },\n\n    makeScales() {\n      const { axis, margin, height, width } = props;\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      if (axis.x.label !== '') {\n        svg.append('text')\n          .attr('class', 'x-axis-label')\n          .attr('transform',\n            'translate(' + (Number(width) / 2) + ' ,' +\n            ((height - this.xAxisHeight() - (margin.left * 2)) + 10 + axis.x.margin) + ')')\n          .style('text-anchor', 'middle')\n          .text(axis.x.label);\n      }\n\n      if (axis.y.label !== '') {\n        svg.append('text')\n          .attr('class', 'y-axis-label')\n          .attr('transform', 'translate(0, -' + this.gridHeight() + ')rotate(-90)')\n          .attr('y', 0 - margin.left)\n          .attr('x', 0 - (height / 2 - (margin.top * 2)))\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .text(axis.y.label);\n      }\n    },\n\n    getBins() {\n      return props.data.reduce((prev, next) => {\n        return Array.from(new Set(prev.concat(next.bins)));\n      }, [] as string[]);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData[]) {\n      const { bar, domain, margin, width, height, axis } = props;\n      const valuesCount = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? c : prev;\n      }, 0);\n      const w = this.gridWidth();\n\n      let xAxis;\n      const dataLabels = data[0].counts.map((c) => c.label);\n\n      const bins = this.getBins();\n      x\n        .domain(bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      innerScaleBand\n        .domain(dataLabels)\n        .rangeRound([0, x.bandwidth()])\n        .paddingInner(this.barMargin());\n\n      xAxis = axisBottom(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (this.yAxisWidth() + axis.y.style['stroke-width']) + ',' +\n          (height - this.xAxisHeight() - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      const yLabels = data.map((d) => d.title);\n      const yOuterBounds: [number, number] = [height - (margin.top * 2) - this.xAxisHeight(), 0];\n      yOuterScaleBand.domain(yLabels)\n        .rangeRound(yOuterBounds);\n\n      this.appendDomainRange(y, dataSets);\n\n      const yAxis = axisLeft(yOuterScaleBand).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n\n      this.yAxis\n        .attr('transform', 'translate(' + this.yAxisWidth() + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      const { ...xLabelStyle } = axis.x.text.style;\n      const { ...yLabelStyle } = axis.y.text.style;\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = props;\n      return Number(width) - (margin.left * 2) - this.yAxisWidth();\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = props;\n      return height - (margin.top * 2) - this.xAxisHeight();\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const m = get(props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0;\n    },\n\n    barMargin(): number {\n      const m = get(props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    /**\n     * Calculate the bar width\n     * @return {number} bar width\n     */\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      groupData: IGroupData[],\n    ) {\n      const bins = this.getBins();\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = props;\n      const barWidth = this.barWidth();\n\n      const colors = scaleOrdinal(props.colorScheme);\n      const borderColors = scaleOrdinal(['#FFF']);\n\n      const yAxisWidth = this.yAxisWidth();\n      const groupedMargin = this.groupedMargin();\n\n      const maxItems = groupData.reduce((prev, next) => {\n        const thisMax = next.reduce((p, n) => n.length > p ? n.length : p, 0);\n        return thisMax > prev ? thisMax : prev;\n      }, 0);\n      groupData.forEach((data, i) => {\n        const joyTitle = props.data[i].title;\n        const g = this.containers[i]\n          .selectAll('g')\n          .data(data);\n\n        const bars = g.enter()\n          .append('g')\n          .merge(g)\n          .attr('transform', (d) => {\n            const xdelta = yAxisWidth\n              + axis.y.style['stroke-width']\n              + x(d[0].label);\n\n            const ydelta = yOuterScaleBand(d[0].joyLabel);\n            return `translate(${xdelta}, ${ydelta})`;\n          })\n          .selectAll('rect')\n          .data((d) => d);\n\n        bars\n          .enter()\n          .append('rect')\n          .attr('height', 0)\n          .attr('y', (d: IGroupDataItem): number => yOuterScaleBand.bandwidth())\n\n          .attr('class', 'bar')\n          .attr('x', (d) => innerScaleBand(d.groupLabel))\n          .attr('width', (d) => barWidth)\n          .attr('fill', (d, ix) => colors(ix))\n\n          .on('mouseover', (d: IGroupDataItem) => {\n            const ix = bins.findIndex((b) => b === d.label);\n            tipContent.html(() => tipContentFn(bins, ix, d.value, joyTitle));\n            tip.fx.in(tipContainer);\n          })\n          .on('mousemove', () => tip.fx.move(tipContainer))\n          .on('mouseout', () => tip.fx.out(tipContainer))\n          .merge(bars)\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('y', (d: IGroupDataItem): number => y(d.value))\n          .attr('stroke', (d, ix) => {\n            if (borderColors) {\n              return borderColors(ix);\n            }\n          })\n          .attr('shape-rendering', 'crispEdges')\n          .attr('stroke-width', stroke.width)\n          .attr('stroke-linecap', stroke.linecap)\n\n          // Hide bar's bottom border\n          .attr('stroke-dasharray',\n            (d: IGroupDataItem): string => {\n              const currentHeight = yOuterScaleBand.bandwidth() - y(d.value);\n              return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n            })\n          .attr('height', (d: IGroupDataItem): number =>\n            yOuterScaleBand.bandwidth() - y(d.value),\n        );\n\n        g.exit().remove();\n      });\n    },\n\n    makeGrid(props: IJoyPlotProps) {\n      const { grid } = props;\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid() {\n      const { data, height, width, axis, grid, margin, bar } = props;\n      const ticks = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? prev : c;\n      }, 0);\n      const axisWidth = axis.y.style['stroke-width'];\n\n      const offset = {\n        x: this.yAxisWidth() + axisWidth,\n        y: this.gridHeight(),\n      };\n\n      if (grid.x.visible) {\n        // Add the X gridlines\n        this.gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        this.gridX.call(make_x_gridlines(get(grid, 'x.ticks', ticks))\n          .tickSize(-height + this.xAxisHeight() + (margin.top * 2))\n          .tickFormat(() => ''));\n\n        attrs(this.gridX.selectAll('.tick line'), grid.x.style);\n        attrs(this.gridX.selectAll('.domain'), { stroke: 'transparent' });\n      }\n\n      if (grid.y.visible) {\n        // add the Y gridlines\n        this.gridY.attr('transform', 'translate(' + (this.yAxisWidth() + axisWidth) + ', 0)')\n          .transition()\n          .call(make_y_gridlines(get(grid, 'y.ticks', ticks))\n            .tickSize(-width + (margin.left * 2) + this.yAxisWidth())\n            .tickFormat(() => ''),\n        );\n\n        attrs(this.gridY.selectAll('.tick line'), grid.y.style);\n\n        // Hide the first horizontal grid line to show axis\n        this.gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n          .attr('display', 'none');\n        attrs(this.gridY.selectAll('.domain'), { stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, newProps: IJoyPlotProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(newProps);\n      const { data, visible } = props;\n\n      dataSets = data.map((d) => {\n        const lineData = [] as IGroupData;\n        d.counts.forEach((count) => {\n          count.data.forEach((value, i) => {\n            if (!lineData[i]) {\n              lineData[i] = [];\n            }\n            lineData[i].push({\n              groupLabel: count.label,\n              joyLabel: d.title,\n              label: d.bins[i],\n              value: visible[d.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n            } as IGroupDataItem);\n          });\n        });\n        return lineData;\n      });\n\n      this._drawScales(props.data);\n      this._drawGrid();\n      this.updateChart(dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return JoyPlotD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IChartAdaptor,\n  IChartState,\n  IDomain,\n  IGrid,\n  IHistogramBar,\n  IHistogramData,\n  IMargin,\n  IStroke,\n  TipContentFn,\n} from './Histogram';\nimport { joyPlotD3 } from './JoyplotD3';\n\nexport interface IJoyPlotProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData[];\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IJoyPlotProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IJoyPlotProps> = {\n    axis: {},\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IJoyPlotProps) {\n    super(props);\n    this.chart = joyPlotD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IJoyPlotProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","import 'd3-transition';\n\nimport { interpolate } from 'd3-interpolate';\nimport { scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport {\n  arc,\n  pie,\n  PieArcDatum,\n} from 'd3-shape';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport {\n  IChartAdaptor,\n  IHistogramDataSet,\n} from './Histogram';\nimport {\n  IPieChartProps,\n  IPieDataItem,\n} from './PieChart';\nimport tips, { makeTip } from './tip';\n\nexport const pieChartD3 = ((): IChartAdaptor => {\n\n  let svg;\n  let tipContainer;\n  let tipContent;\n\n  const defaultProps: IPieChartProps = {\n    backgroundColor: '#ddd',\n    className: 'piechart-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    donutWidth: 0,\n    height: 200,\n    labels: {\n      display: true,\n      displayFn: (d, ix) => d.value,\n    },\n    margin: {\n      left: 10,\n      top: 10,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number, groupLabel): string => {\n      return groupLabel + ': ' + bins[i] + '<br />' + d;\n    },\n    visible: {},\n    width: 200,\n  };\n\n  const PieChartD3 = {\n\n    create(el: HTMLElement, props: Partial<IPieChartProps> = {}) {\n      this.props = merge(defaultProps, { ...props });\n      this.previousData = props.data.counts.map((set: IHistogramDataSet, setIndex: number) => {\n        return set.data\n          .map((count, i) => ({\n            count,\n            groupLabel: set.label,\n            label: props.data.bins[i],\n          }));\n      });\n      this._makeSvg(el);\n      this.containers = [];\n      this.previousData.forEach((dataSet, i) => {\n        this.drawChartBg(this.props.data, i);\n      });\n\n      this.update(el, props);\n    },\n\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    update(el: HTMLElement, props: Partial<IPieChartProps>) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      if (props.colorScheme) {\n        this.props.colorScheme = props.colorScheme;\n      }\n      // this._makeSvg(el);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      this.drawCharts();\n    },\n\n    outerRadius(setIndex = 0) {\n      const { donutWidth = 0, width, height } = this.props;\n\n      const radius = Math.min(width, height) / 2;\n      return donutWidth === 0\n        ? radius - 10\n        : radius - 10 - (setIndex * (donutWidth + 10));\n    },\n\n    innerRadius(setIndex = 0) {\n      const { donutWidth = 0, width, height } = this.props;\n      const radius = Math.min(width, height) / 2;\n      return donutWidth === 0\n        ? 0\n        : radius - 10 - donutWidth - (setIndex * (donutWidth + 10));\n    },\n\n    drawCharts() {\n      const { data, visible } = this.props;\n      this.dataSets = data.counts.map((set: IHistogramDataSet) => {\n        return set.data\n          .map((count, i) => ({\n            count: visible[data.bins[i]] !== false ? count : 0,\n            groupLabel: set.label,\n            label: data.bins[i],\n          }));\n      });\n\n      this.dataSets.forEach((dataSet, i) => {\n        const theme = get(data.counts[i], 'colors', this.props.colorScheme);\n        this.drawChart(dataSet, i, data.bins, theme);\n      });\n      this.previousData = this.dataSets;\n    },\n\n    drawChartBg(data, i) {\n      const { backgroundColor, width, height } = this.props;\n      const tau = 2 * Math.PI; // http://tauday.com/tau-manifesto\n      const outerRadius = this.outerRadius(i);\n      const innerRadius = this.innerRadius(i);\n      const bgArc = arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius)\n        .startAngle(0)\n        .endAngle(tau);\n      const container = svg\n        .append('g')\n        .attr('class', 'pie-bg');\n      const background = container.append('path')\n        .attr('class', 'pie-background')\n        .style('fill', backgroundColor);\n      background.enter()\n        .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .attr('d', bgArc);\n\n      background.merge(background);\n\n      if (!this.containers[i]) {\n        this.containers[i] = svg\n          .append('g')\n          .attr('class', 'pie-container');\n      }\n    },\n\n    drawChart(data, i: number, bins: string[], theme: string[]) {\n      const { labels, width, height, tip, tipContentFn } = this.props;\n      // Stack multiple charts in concentric circles\n      const outerRadius = this.outerRadius(i);\n      const innerRadius = this.innerRadius(i);\n\n      // Function to calculate pie chart paths from data\n      const thisPie = pie()\n        .sort(null)\n        .value((d: any) => {\n          return d.count;\n        });\n\n      // Formated pie chart arcs based on previous current data\n      const arcs = thisPie(this.previousData[i]);\n\n      const colors = scaleOrdinal(theme);\n\n      const thisArc = arc()\n        .outerRadius(outerRadius)\n        .innerRadius(innerRadius);\n\n      const path = this.containers[i].selectAll('path')\n        .data(thisPie(data));\n\n      const g = path.enter().append('g')\n        .attr('class', 'arc');\n\n      g.append('path')\n        .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .attr('stroke', '#FFF')\n        .attr('fill', (d, j) => colors(j))\n\n        .each(function (d, j) { this._current = arcs[j]; }) // store the initial angles\n        .attr('d', thisArc)\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number) => {\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .style('opacity', 0)\n        .transition()\n        .duration(500)\n        .style('opacity', 1);\n\n      // Fade in when adding (merge)\n      path\n        .merge(path)\n\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number) => {\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .transition()\n        .delay(400)\n        .duration(500)\n        .attr('fill', (d, j) => colors(j))\n        .attrTween('d', arcTween(thisArc));\n\n      const path2 = this.containers[i].selectAll('text.label')\n        .data(thisPie(data));\n      const gLabel = path2.enter().append('text')\n        .attr('class', 'label')\n        .each(function () {\n          // Store initial offset incase we change chart heights.\n          this._height = height;\n          this._width = width;\n        })\n        .attr('transform', function (d) {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (this._width / 2);\n          const y = centroid[1] + (this._height / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .each(function (d, j) {\n          // Store current value to work out fx transition opacities\n          this._current = d;\n        })\n        .text((d, ix) => {\n          if (d.value === 0) {\n            return '';\n          }\n          return labels.displayFn(d, ix);\n        });\n\n      path2\n        .merge(path2)\n        .transition()\n        .duration(500)\n        .style('opacity', 0)\n        .transition()\n        .attr('transform', function (d) {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (this._width / 2);\n          const y = centroid[1] + (this._height / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .transition()\n        .duration(500)\n        .style('opacity', (d, ix, c) => {\n          // Only show if the new value is not 0 and labels are set to be displayed\n          return labels.display === false || d.data.count === 0 || c[ix]._current.value === 0 ? 0 : 1;\n        });\n\n      path2.exit().remove();\n\n      path.exit().transition()\n        .duration(500)\n        .style('opacity', 0).remove();\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n\n  return PieChartD3;\n});\n\n// Returns a tween for a transition’s \"d\" attribute, transitioning any selected\n// arcs from their current angle to the specified new angle.\nfunction arcTween(thisArc) {\n  return function (d) {\n    const i = interpolate(this._current, d);\n    this._current = i(0);\n    return function (t) {\n      return thisArc(i(t));\n    };\n  };\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n  IHistogramDataSet,\n  IMargin,\n  TipContentFn,\n} from './Histogram';\nimport { pieChartD3 } from './PieChartD3';\n\ninterface ILabels {\n  display: boolean;\n  displayFn?: (d: any, ix: number) => string | number;\n}\n\nexport interface IPieDataItem {\n  count: number;\n  groupLabel: string;\n  label: string;\n}\n\nexport interface IPieChartProps {\n  data: {\n    bins: string[],\n    counts: IHistogramDataSet[];\n  };\n  backgroundColor?: string;\n  className?: string;\n  colorScheme?: string[];\n  donutWidth?: number;\n  height: number;\n  labels?: ILabels;\n  margin?: IMargin;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * PieChart component\n */\nclass PieChart extends React.Component<IPieChartProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IPieChartProps> = {\n    backgroundColor: '#ddd',\n    donutWidth: 0,\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IPieChartProps) {\n    super(props);\n    this.chart = pieChartD3();\n\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(this.getDOMNode(), this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IPieChartProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"piechart-chart-container\"></div>);\n  }\n}\n\nexport default PieChart;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cell = function (_PureComponent) {\n  _inherits(Cell, _PureComponent);\n\n  function Cell() {\n    _classCallCheck(this, Cell);\n\n    return _possibleConstructorReturn(this, (Cell.__proto__ || Object.getPrototypeOf(Cell)).apply(this, arguments));\n  }\n\n  _createClass(Cell, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          cell = _props.cell,\n          row = _props.row,\n          col = _props.col,\n          attributesRenderer = _props.attributesRenderer,\n          className = _props.className,\n          style = _props.style,\n          onMouseDown = _props.onMouseDown,\n          onMouseOver = _props.onMouseOver,\n          onDoubleClick = _props.onDoubleClick,\n          onContextMenu = _props.onContextMenu;\n      var colSpan = cell.colSpan,\n          rowSpan = cell.rowSpan;\n\n      var attributes = attributesRenderer ? attributesRenderer(cell, row, col) : {};\n\n      return _react2.default.createElement(\n        'td',\n        _extends({\n          className: className,\n          onMouseDown: onMouseDown,\n          onMouseOver: onMouseOver,\n          onDoubleClick: onDoubleClick,\n          onContextMenu: onContextMenu,\n          colSpan: colSpan,\n          rowSpan: rowSpan,\n          style: style\n        }, attributes),\n        this.props.children\n      );\n    }\n  }]);\n\n  return Cell;\n}(_react.PureComponent);\n\nexports.default = Cell;\n\n\nCell.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default).isRequired,\n  selected: _propTypes2.default.bool,\n  editing: _propTypes2.default.bool,\n  updated: _propTypes2.default.bool,\n  attributesRenderer: _propTypes2.default.func,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onMouseOver: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired,\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object\n};\n\nCell.defaultProps = {\n  selected: false,\n  editing: false,\n  updated: false,\n  attributesRenderer: function attributesRenderer() {}\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DataEditor = function (_PureComponent) {\n  _inherits(DataEditor, _PureComponent);\n\n  function DataEditor(props) {\n    _classCallCheck(this, DataEditor);\n\n    var _this = _possibleConstructorReturn(this, (DataEditor.__proto__ || Object.getPrototypeOf(DataEditor)).call(this, props));\n\n    _this.handleChange = _this.handleChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(DataEditor, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._input.focus();\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      this.props.onChange(e.target.value);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          value = _props.value,\n          onKeyDown = _props.onKeyDown;\n\n      return _react2.default.createElement('input', {\n        ref: function ref(input) {\n          _this2._input = input;\n        },\n        className: 'data-editor',\n        value: value,\n        onChange: this.handleChange,\n        onKeyDown: onKeyDown\n      });\n    }\n  }]);\n\n  return DataEditor;\n}(_react.PureComponent);\n\nexports.default = DataEditor;\n\n\nDataEditor.propTypes = {\n  value: _propTypes2.default.node.isRequired,\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default),\n  onChange: _propTypes2.default.func.isRequired,\n  onCommit: _propTypes2.default.func.isRequired,\n  onRevert: _propTypes2.default.func.isRequired,\n  onKeyDown: _propTypes2.default.func.isRequired\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ValueViewer = function (_PureComponent) {\n  _inherits(ValueViewer, _PureComponent);\n\n  function ValueViewer() {\n    _classCallCheck(this, ValueViewer);\n\n    return _possibleConstructorReturn(this, (ValueViewer.__proto__ || Object.getPrototypeOf(ValueViewer)).apply(this, arguments));\n  }\n\n  _createClass(ValueViewer, [{\n    key: 'render',\n    value: function render() {\n      var value = this.props.value;\n\n      return _react2.default.createElement(\n        'span',\n        { className: 'value-viewer' },\n        value\n      );\n    }\n  }]);\n\n  return ValueViewer;\n}(_react.PureComponent);\n\nexports.default = ValueViewer;\n\n\nValueViewer.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default),\n  value: _propTypes2.default.node.isRequired\n};","import { axisBottom, axisLeft } from 'd3-axis';\nimport * as get from 'lodash.get';\nimport attrs from './d3/attrs';\nimport { IAxes } from './Histogram';\n\n// Gridlines in y axis function\nexport const makeYGridlines = (y, ticks: number = 5) => {\n  return axisLeft(y)\n    .ticks(ticks);\n};\n\n// Gridlines in x axis function\nexport const makeXGridlines = (x, ticks: number = 5) => {\n  return axisBottom(x)\n    .ticks(ticks);\n};\n\nexport const drawGrid = (x, y, gridX, gridY, props, ticks) => {\n  const { height, width, axis, grid, margin } = props;\n  const axisWidth = axis.y.style['stroke-width'];\n\n  const offset = {\n    x: yAxisWidth(axis) + axisWidth,\n    y: gridHeight(props),\n  };\n\n  if (grid.x.visible) {\n    // Add the X gridlines\n    gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n    gridX.call(makeXGridlines(x, get(grid, 'x.ticks', ticks))\n      .tickSize(-height + xAxisHeight(props.axis) + (margin.top * 2))\n      .tickFormat(() => ''));\n\n    attrs(gridX.selectAll('.tick line'), grid.x.style);\n    attrs(gridX.selectAll('.domain'), { stroke: 'transparent' });\n  }\n\n  if (grid.y.visible) {\n    // add the Y gridlines\n    gridY.attr('transform', 'translate(' + (yAxisWidth(axis) + axisWidth) + ', 0)')\n      .transition()\n      .call(makeYGridlines(y, get(grid, 'y.ticks', ticks))\n        .tickSize(-width + (margin.left * 2) + yAxisWidth(axis))\n        .tickFormat(() => ''),\n    );\n\n    attrs(gridY.selectAll('.tick line'), grid.y.style);\n\n    // Hide the first horizontal grid line to show axis\n    gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n      .attr('display', 'none');\n    attrs(gridY.selectAll('.domain'), { stroke: 'transparent' });\n  }\n};\n\nexport const gridHeight = (props): number => {\n  const { height, margin, axis } = props;\n  return height - (margin.top * 2) - xAxisHeight(axis);\n};\n\nexport const yAxisWidth = (axis: IAxes) => {\n  return axis.y.label === ''\n    ? axis.y.width\n    : axis.y.width + 30;\n};\n\nexport const xAxisHeight = (axis: IAxes) => {\n  return axis.x.label === ''\n    ? axis.x.height\n    : axis.x.height + 30 + get(axis, 'x.margin', 0);\n};\n\nexport const gridWidth = (props): number => {\n  const { axis, width, margin } = props;\n  return width - (margin.left * 2) - yAxisWidth(axis);\n};\n","import {\n  IAxes,\n  IHistogramData,\n} from '../../src';\nimport filterRange from '../../src/colors/filterRange';\n\nexport const grid = {\n  x: {\n    style: {\n      'stroke': '#eeAA00',\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n  y: {\n    height: 20,\n    style: {\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n};\n\nexport const data: IHistogramData = {\n  bins: ['Data 1', 'Data 6', 'Data 3', 'Dat 4'],\n  counts: [\n    {\n      data: [1, 2, 3, 4],\n      label: 'DataSet 1',\n    },\n    {\n      data: [13, 14, 15, 16],\n      label: 'DataSet 2',\n    },\n  ],\n  grid,\n};\n\nexport const data2 = {\n  bins: ['bin 1', 'bin 2', 'bin 3 with a long name', 'bin 4', 'bin 5', 'bin 6', 'bin 7'],\n  counts: [\n    {\n      borderColors: ['red'],\n      data: [1, 2, 3, 4, 5, 6, 7],\n      label: 'Data 1',\n    },\n  ],\n  title: 'Plot 1',\n};\n\nexport const data3 = {\n  bins: ['bin 1', 'bin 2', 'bin 3'],\n  counts: [\n    {\n      borderColors: ['red'],\n      colors: ['red'],\n      data: [100, 50, 40],\n      label: 'Data 1',\n    },\n    {\n      borderColors: ['red'],\n      colors: ['blue'],\n      data: [32, 1, 5, 0],\n      label: 'Data 2',\n    },\n  ],\n};\n\nexport const axis: IAxes = {\n  x: {\n    height: 20,\n    label: 'X Axis',\n    margin: 20,\n    text: {\n      style: {\n        'dy': '.35em',\n        'text-anchor': 'start',\n        'transform': 'rotate(90)',\n        'x': 0,\n        'y': 0,\n      },\n    },\n    tickSize: 0,\n  },\n  y: {\n    label: 'Y Axis!',\n    style: {\n      fill: 'none',\n      stroke: '#eeAA00',\n    },\n    text: {\n      style: {\n        fill: '#eeAA00',\n      },\n    },\n    tickSize: 20,\n    ticks: 3,\n    width: 50,\n  },\n};\n\nexport const theme = filterRange(['rgba(255, 113, 1, 0.5)', '#fff6ef', 'rgba(0, 169, 123, 0.5)', '#f6fffd',\n  '#D7263D', 'rgba(215, 38, 61, 0.05)',\n  '#0f2629', '#ededed', 'rgba(86, 180, 191, 0.5)', '#f5fbfb', '#000000', '#0f2629', '#D7263D', '#FBD7D9',\n  '#ffebec', '#963540', '#22545a', '#56b4bf', '#56b4bf', '#56b4bf', '#FF7101', '#449098', '#77c3cb', '#d4eef8',\n  '#ff7101', '#FF7101', '#cc5a00', '#ff8d33', '#fef9e5', '#7d5d2e', '#00a97b', '#008762', '#33ba95', '#dbf1d6',\n  '#227839', '#0f5e7b', '#d4eef8', '#0f5e7b', '#F9C80E', '#007656', '#c5e5e9', '#f9c80e', '#a9a9a9',\n  '#dbdbdb', '#cccccc', '#e6e6e6', '#56b4bf', '#449098', '#77c3cb', '#22545a', '#ff7101', '#cdcdcd', '#ffffff',\n  '#d7263d', '#00a97b', '#888888', '#e6e6e6', '#f2f2f2', '#f4f4f4']);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Sheet = function (_PureComponent) {\n  _inherits(Sheet, _PureComponent);\n\n  function Sheet() {\n    _classCallCheck(this, Sheet);\n\n    return _possibleConstructorReturn(this, (Sheet.__proto__ || Object.getPrototypeOf(Sheet)).apply(this, arguments));\n  }\n\n  _createClass(Sheet, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'table',\n        { className: this.props.className },\n        _react2.default.createElement(\n          'tbody',\n          null,\n          this.props.children\n        )\n      );\n    }\n  }]);\n\n  return Sheet;\n}(_react.PureComponent);\n\nSheet.propTypes = {\n  className: _propTypes2.default.string,\n  data: _propTypes2.default.array.isRequired\n};\n\nexports.default = Sheet;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Row = function (_PureComponent) {\n  _inherits(Row, _PureComponent);\n\n  function Row() {\n    _classCallCheck(this, Row);\n\n    return _possibleConstructorReturn(this, (Row.__proto__ || Object.getPrototypeOf(Row)).apply(this, arguments));\n  }\n\n  _createClass(Row, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'tr',\n        null,\n        this.props.children\n      );\n    }\n  }]);\n\n  return Row;\n}(_react.PureComponent);\n\nRow.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  cells: _propTypes2.default.arrayOf(_propTypes2.default.shape(_CellShape2.default)).isRequired\n};\n\nexports.default = Row;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar TAB_KEY = exports.TAB_KEY = 9;\nvar ENTER_KEY = exports.ENTER_KEY = 13;\nvar ESCAPE_KEY = exports.ESCAPE_KEY = 27;\nvar LEFT_KEY = exports.LEFT_KEY = 37;\nvar UP_KEY = exports.UP_KEY = 38;\nvar RIGHT_KEY = exports.RIGHT_KEY = 39;\nvar DOWN_KEY = exports.DOWN_KEY = 40;\nvar DELETE_KEY = exports.DELETE_KEY = 46;\nvar BACKSPACE_KEY = exports.BACKSPACE_KEY = 8;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderValue = renderValue;\nexports.renderData = renderData;\nfunction renderValue(cell, row, col, valueRenderer) {\n  var value = valueRenderer(cell, row, col);\n  return value === null || typeof value === 'undefined' ? '' : value;\n}\n\nfunction renderData(cell, row, col, valueRenderer, dataRenderer) {\n  var value = dataRenderer ? dataRenderer(cell, row, col) : null;\n  return value === null || typeof value === 'undefined' ? renderValue(cell, row, col, valueRenderer) : value;\n}","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n} from './Histogram';\nimport tips, { makeTip } from './tip';\n\nexport const horizontalHistogramD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  const x = scaleLinear();\n  const y = scaleBand();\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisLeft(y)\n      .ticks(ticks);\n  }\n\n  const defaultProps = {\n    axis: {\n      x: {\n        height: 25,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        width: 20,\n      },\n    },\n    bar: {\n      height: 50,\n      margin: 10,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [],\n    delay: 0,\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number): string =>\n      bins[i] + '<br />' + d,\n    width: 200,\n  };\n\n  const HorizontalHistogramD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, props = {}) {\n      this.props = merge(defaultProps, props);\n      this.update(el, this.props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData) {\n      const { margin, width, height, axis } = this.props;\n      const valuesCount = this.valuesCount(data.counts);\n\n      svg.selectAll('.y-axis').remove();\n      svg.selectAll('.x-axis').remove();\n\n      const h = this.gridHeight();\n      let xDomain;\n      let xAxis;\n      let yAxis;\n      let xRange;\n      const allCounts = data.counts.reduce((a: number[], b: IHistogramDataSet): number[] => {\n        return [...a, ...b.data];\n      }, []);\n\n      y.domain(data.bins)\n        .rangeRound([0, h]);\n\n      xAxis = axisBottom(x).ticks(axis.x.ticks);\n      yAxis = axisLeft(y).ticks(axis.y.ticks);\n\n      if (h / valuesCount < 10) {\n        // Show one in 10 x axis labels\n        xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n      }\n\n      xDomain = extent(allCounts, (d) => d);\n      xDomain[0] = 0;\n      xRange = [0, width - (margin.top * 2) - axis.y.width];\n      x.range(xRange)\n        .domain(xDomain);\n\n      svg.append('g').attr('class', 'y-axis')\n        .attr('transform', 'translate(' + axis.y.width + ', 0)')\n        .call(yAxis);\n\n      svg.append('g').attr('class', 'x-axis')\n        .attr('transform', 'translate(' + axis.y.width + ',' +\n          (height - axis.x.height - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Draw the bars\n     * @param {Object} info Bar data etc\n     */\n    _drawBars(info: IHistogramData) {\n      const valuesCount = this.valuesCount(info.counts);\n      info.counts.forEach((set: IHistogramDataSet, setIndex: number) => {\n        this.drawDataSet(info.bins, set, setIndex, info.counts.length);\n      });\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = this.props;\n      return width - (margin.left * 2) - axis.y.width;\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = this.props;\n      return height - (margin.top * 2) - axis.x.height;\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const { data } = this.props;\n      return ((data.counts.length - 1) * 3);\n    },\n\n    /**\n     * Calculate the bar height\n     * @return {number} bar height\n     */\n    barHeight() {\n      const { axis, width, margin, data, bar, stroke } = this.props;\n      const h = this.gridHeight();\n      const valuesCount = this.valuesCount(data.counts);\n      const setCount = data.counts.length;\n      let barHeight = (h / valuesCount) - (bar.margin * 2) - this.groupedMargin();\n\n      // Small bars - reduce margin and re-calcualate bar width\n      if (barHeight < 5) {\n        bar.margin = 1;\n        barHeight = Math.max(1, (h - (valuesCount + 1) * bar.margin) /\n          valuesCount);\n      }\n\n      // show data sets next to each other...\n      return barHeight / setCount;\n    },\n\n    /**\n     * Draw a single data set into the chart\n     * @param {Array} bins Data set labels\n     * @param {Object} set HistogramDataSet\n     * @param {number} setIndex Data set index\n     * @param {number} setCount Total number of data sets\n     */\n    drawDataSet(\n      bins: string[], set: IHistogramDataSet,\n      setIndex: number, setCount: number,\n    ) {\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = this.props;\n      let barItem;\n      const barHeight = this.barHeight();\n      const colors = scaleOrdinal(set.colors || this.props.colorScheme);\n      const borderColors = set.borderColors ? scaleOrdinal(set.borderColors) : null;\n\n      const selector = '.bar-' + setIndex;\n      const multiLineOffset = (index) => setCount === 1\n        ? 0\n        : ((index + setIndex) * (barHeight + this.groupedMargin()));\n\n      svg.selectAll(selector).remove();\n\n      // Set up bar initial props\n      barItem = svg.selectAll(selector)\n        .data(set.data)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar ' + selector)\n        .attr('y', (d, index, all) => {\n          return bar.margin\n            + (barHeight + (bar.margin * 2)) * (index)\n            + multiLineOffset(index);\n        })\n        .attr('height', (d) => barHeight)\n        .attr('fill', (d, i) => colors(i))\n        .on('mouseover', (d: number, i: number) => {\n          tipContent.html(() => tipContentFn(bins, i, d));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .attr('x', (d: number): number => axis.y.width + axis.y.style['stroke-width'])\n        .attr('width', 0);\n\n      barItem.attr('stroke', (d, i) => {\n        if (borderColors) {\n          return borderColors(i);\n        }\n        return typeof stroke.color === 'function'\n          ? stroke.color(d, i, colors)\n          : stroke.color;\n      })\n        .attr('shape-rendering', 'crispEdges')\n        .attr('stroke-width', stroke.width)\n        .attr('stroke-linecap', stroke.linecap);\n\n      if (stroke.dasharray !== '') {\n        barItem.attr('stroke-dasharray', stroke.dasharray);\n      }\n\n      // Animate in bar\n      barItem\n        .transition()\n        .duration(duration)\n        .delay(delay)\n        // Hide bar's left border\n        .attr('stroke-dasharray',\n          (d: number): string => {\n            const currentWidth = x(d);\n            return `${currentWidth + barHeight + currentWidth} ${barHeight}`;\n          })\n        .attr('width',\n          (d: number): number => x(d));\n\n      barItem.exit().remove();\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid(props: IHistogramProps) {\n      const { data, height, width, axis, grid, margin } = props;\n      const ticks = this.valuesCount(data.counts);\n      const axisWidth = axis.y.style['stroke-width'];\n      const offset = {\n        x: axis.y.width + this.groupedMargin() / 2,\n        y: 0,\n      };\n      let g;\n      let gy;\n\n      // Horizontal lines\n      if (grid.x.visible) {\n        // Add the X gridlines\n        g = svg.append('g')\n          .attr('class', 'grid gridX')\n          .attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        g.call(make_x_gridlines(grid.x.ticks || ticks)\n          .tickSize(-width + (margin.left * 2) + axis.y.width)\n          .tickFormat(() => ''));\n\n        attrs(g.selectAll('.tick line'), grid.x.style);\n        attrs(g.selectAll('.domain'), { stroke: 'transparent' });\n      }\n\n      // Vertical lines.....\n      if (grid.y.visible) {\n        // add the Y gridlines\n        gy = svg.append('g')\n          .attr('class', 'grid gridY')\n          .attr('transform', 'translate(' + (axis.y.width + axisWidth) + ', '\n            + (height - axis.x.height - (margin.top * 2)) + ')')\n          .call(make_y_gridlines(grid.y.ticks || ticks)\n            .tickSize(-height + (margin.left * 2) + axis.x.height) // Line Length\n            .tickFormat(() => ''),\n          );\n        attrs(gy.selectAll('.tick line'), grid.y.style);\n\n        attrs(gy.selectAll('.domain'), { stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, props: IHistogramProps) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      this._makeSvg(el);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      this._drawScales(this.props.data);\n      this._drawGrid(this.props);\n      this._drawBars(this.props.data);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return HorizontalHistogramD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n  IHistogramProps,\n} from './Histogram';\nimport { horizontalHistogramD3 } from './HorizontalHistogramD3';\n\n/**\n * Horizontal Histogram component\n */\nclass HorizontalHistogram extends React.Component<IHistogramProps, IChartState> {\n\n  private histogram: IChartAdaptor;\n  private ref;\n\n  public static defaultProps = {\n    axis: {},\n    bar: {\n      margin: 2,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1),\n      width: 1,\n    },\n    tipContentFn: (bins: string[], i, d) =>\n      bins[i] + '<br />' + d.toFixed(2),\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IHistogramProps) {\n    super(props);\n    this.histogram = horizontalHistogramD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.histogram.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.histogram.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.histogram.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IHistogramProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Props recieved, update the chart\n   * @param {Object} props Props\n   */\n  public componentWillReceiveProps(props: IHistogramProps) {\n    this.histogram.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.histogram.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default HorizontalHistogram;\n","import {\n  scaleLinear,\n  ScaleLinear,\n  scaleLog,\n  ScaleLogarithmic,\n  scaleTime,\n  ScaleTime,\n} from 'd3-scale';\n\nimport { IAxes } from '../';\n\nexport type AnyScale = ScaleLinear<number, number> | ScaleTime<any, any>\n  | ScaleLogarithmic<any, any>;\n\nexport const buildScales = (axis: IAxes) => {\n  let x: AnyScale;\n  let y: AnyScale;\n  switch (axis.x.scale) {\n    case 'LOG':\n      x = scaleLog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'TIME':\n      x = scaleTime();\n      break;\n    default:\n      x = scaleLinear();\n      break;\n  }\n\n  switch (axis.y.scale) {\n    case 'LOG':\n      y = scaleLog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'TIME':\n      x = scaleTime();\n      break;\n    default:\n      y = scaleLinear();\n      break;\n  }\n  return [x, y];\n};\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport { easeCubic } from 'd3-ease';\nimport { format } from 'd3-format';\nimport { select } from 'd3-selection';\nimport {\n  area,\n  curveCatmullRom,\n  line,\n} from 'd3-shape';\nimport {\n  timeFormat,\n  timeParse,\n} from 'd3-time-format';\nimport * as merge from 'deepmerge';\n\nimport attrs from './d3/attrs';\nimport {\n  drawGrid,\n  gridWidth,\n  xAxisHeight as getXAxisHeight,\n  yAxisWidth as getYAxisWidth,\n} from './grid';\nimport {\n  IChartAdaptor,\n  IHistogramDataSet,\n} from './Histogram';\nimport {\n  IChartPoint,\n  ILineChartDataSet,\n  ILineChartProps,\n  ILineProps,\n  ISVGPoint,\n} from './LineChart';\nimport tips, { makeTip } from './tip';\nimport { buildScales } from './utils/scales';\n\nconst ZERO_SUBSITUTE: number = 1e-6;\n\nexport const lineChartD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let xParseTime;\n  let xFormatTime;\n  let tipContent;\n\n  const lineProps: ILineProps = {\n    curveType: curveCatmullRom,\n    fill: {\n      fill: '#eee',\n      show: false,\n    },\n    show: true,\n    stroke: '#005870',\n    strokeDashArray: '5 5',\n    strokeDashOffset: 0,\n  };\n\n  const pointProps: ISVGPoint = {\n    fill: 'rgba(255, 255, 255, 0)',\n    radius: 4,\n    show: true,\n    stroke: '#005870',\n  };\n\n  const defaultProps: ILineChartProps = {\n    axis: {\n      x: {\n        height: 20,\n        scale: 'LINEAR',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        scale: 'LINEAR',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    className: 'line-chart-d3',\n    data: [],\n    fx: easeCubic,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 250,\n    // line: lineProps,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    // point: pointProps,\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (info, i, d) => {\n      switch (typeof info[i].x) {\n        case 'object': // date\n          return xFormatTime(info[i].x) + ', ' + info[i].y;\n        default:\n          return Number(info[i].x).toFixed(3) + ', ' + info[i].y;\n      }\n    },\n    width: 200,\n  };\n\n  const datumProps = {\n    line: lineProps,\n    point: pointProps,\n  };\n\n  const curve = (curveType, yAxisWidth, x, y) => line()\n    .curve(curveType)\n    .x((d: any) => x(d.x) + yAxisWidth)\n    .y((d: any) => y(d.y));\n\n  const LineChartD3 = {\n    /**\n     * Initialization\n     */\n    create(el: Node, props: Object = {}) {\n      this.props = merge(defaultProps, props);\n      this._makeSvg(el);\n      this.makeScales();\n      [this.x, this.y] = buildScales(this.props.axis);\n      this.makeGrid();\n      this.container = svg\n        .append('g')\n        .attr('class', 'linechart-container');\n\n      this.lineContainer = this.container\n        .append('g')\n        .attr('class', 'line-container');\n      this._createLines(this.props.data);\n      this.update(el, this.props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n      const scale = {\n        x: 1 - (margin.left / width),\n        y: 1 - (margin.top / height),\n      };\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top}) scale(${scale.x},${scale.y})`);\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Iterate over the dataset drawing points for sets marked as\n     * requiring points.\n     */\n    _drawDataPointSet(data: ILineChartDataSet[]) {\n      const { axis, tip } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n\n      const pointContainer = this.container.selectAll('g').data(data);\n\n      // Don't ask why but we must reference tipContentFn as this.props.tipContentFn otherwise\n      // it doesn't update with props changes\n      const onMouseOver = (d: ILineChartDataSet, i: number) => {\n        tipContent.html(() => this.props.tipContentFn([d], 0));\n        tip.fx.in(tipContainer);\n      };\n      const points = pointContainer.enter()\n        .append('g')\n        .attr('class', (d, i: number) => 'point-container' + i)\n        .merge(pointContainer)\n        .selectAll('circle')\n        .data((d) => {\n          return d.data.map((dx) => ({\n            ...dx,\n            point: d.point,\n          }));\n        });\n\n      // UPDATE - Update old elements as needed.\n      points.attr('class', 'update');\n\n      // ENTER + UPDATE\n      // After merging the entered elements with the update selection,\n      // apply operations to both.\n      points.enter().append('circle')\n        .attr('class', 'enter')\n        .on('mouseover', onMouseOver)\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .merge(points)\n        .attr('class', 'point')\n        .attr('cy', (d) => this.y(d.y))\n        .attr('r', (d, i: number) => 0)\n        .attr('fill', (d) => d.point.fill)\n        .attr('stroke', (d) => d.point.stroke)\n        .attr('cx', (d) => {\n          return this.x(d.x) + yAxisWidth;\n        })\n        .transition()\n        .duration(400)\n        .attr('r', (d) => d.point.show ? d.point.radius : 0)\n        .delay(650);\n\n      // EXIT - Remove old elements as needed.\n      pointContainer.exit().remove();\n      points.exit().remove();\n    },\n\n    makeScales() {\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      this.xAxisLabel = svg.append('g');\n      this.yAxisLabel = svg.append('g');\n    },\n\n    /**\n     * Draw the chart scales\n     */\n    _drawScales(data: Array<ILineChartDataSet<IChartPoint<number, number>>>) {\n      // @TODO Grid not rendering down to x axis\n      const { axis, height } = this.props;\n      const w = gridWidth(this.props);\n      let yDomain;\n      let xDomain;\n      const ys: any[] = [];\n      const xs: any[] = [];\n      const yAxis = axisLeft(this.y);\n      if (axis.y.tickValues) {\n        yAxis.tickValues(axis.y.tickValues);\n      } else {\n        yAxis.ticks(axis.y.ticks);\n      }\n      if (axis.y.numberFormat) {\n        yAxis.tickFormat(format(axis.y.numberFormat));\n      }\n\n      const xAxis = axisBottom(this.x); // .ticks(axis.x.ticks);\n      if (axis.x.tickValues) {\n        xAxis.tickValues(axis.x.tickValues);\n      }\n      if (axis.x.scale === 'TIME' && axis.x.dateFormat) {\n        xAxis.tickFormat(timeFormat(axis.x.dateFormat));\n      }\n      const xAxisHeight = getXAxisHeight(axis);\n      const yAxisWidth = getYAxisWidth(axis);\n\n      data.forEach((datum: ILineChartDataSet<IChartPoint<number, number>>) => {\n        datum.data.forEach((d: IChartPoint<number, number>) => {\n          let parsedY = d.y;\n          let parsedX = d.x;\n          if (axis.y.scale === 'LOG' && d.y === 0) {\n            parsedY = ZERO_SUBSITUTE;\n          }\n          if (axis.x.scale === 'LOG' && d.x === 0) {\n            parsedX = ZERO_SUBSITUTE;\n          }\n          ys.push((parsedY));\n          xs.push((parsedX));\n        });\n      });\n      yDomain = extent(ys);\n      xDomain = extent(xs);\n      // domain mustn't be 0 as log(0) gives Infinity. 1 lower domain gives better looking graphs\n      if (axis.y.scale === 'LOG' && yDomain[0] === ZERO_SUBSITUTE) {\n        yDomain[0] = 1;\n      }\n      if (axis.x.scale === 'LOG' && xDomain[0] === ZERO_SUBSITUTE) {\n        xDomain[0] = 1;\n      }\n      this.x\n        .domain(xDomain)\n        .rangeRound([0, w]);\n\n      this.y.domain(yDomain)\n        .range([height - xAxisHeight, 0]);\n\n      this.yAxis\n        .attr('transform', `translate(${yAxisWidth}, 0)`)\n        .transition()\n        .call(yAxis);\n\n      this.xAxis\n        .attr('transform', `translate(${yAxisWidth},${(height - xAxisHeight)})`)\n        .call(xAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    _createLines(data: ILineChartDataSet[]) {\n      data.forEach((d, i) => {\n        this.lineContainer.append('path')\n          .attr('class', `line-${i}`);\n      });\n\n      // change the line\n      data\n        .forEach((d, i) => {\n          this.lineContainer.append('path')\n            .attr('class', `fill-${i}`);\n\n        });\n\n    },\n\n    /**\n     * Iterate over data and update lines\n     */\n    _drawLines(data: ILineChartDataSet[]) {\n      const { axis } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n\n      // change the line\n      data.forEach((d, i) => {\n        this.lineContainer.select(`.line-${i}`)\n          .attr('fill', 'none')\n          .attr('stroke-dashoffset', d.line.strokeDashOffset)\n          .attr('stroke-dasharray', d.line.strokeDashOffset)\n          .attr('stroke', d.line.stroke)\n          .transition()\n          .duration(500)\n          .attr('d', curve(d.line.curveType, yAxisWidth, this.x, this.y)(d.data as any))\n          .delay(50);\n      });\n    },\n\n    /**\n     * Iterates ove data and updates area fills\n     */\n    drawAreas(data: ILineChartDataSet[]) {\n      const { axis, height } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n      const xAxisHeight = getXAxisHeight(axis);\n      const thisArea = (curveType) => area()\n        .curve(curveType)\n        .x((d: any) => this.x(d.x) + yAxisWidth)\n        .y0((d) => height - xAxisHeight)\n        .y1((d: any) => this.y(d.y));\n\n      // change the line\n      data\n        .forEach((d, i) => {\n          this.lineContainer.select(`.fill-${i}`)\n            .attr('fill', d.line.fill.fill)\n            .style('opacity', d.line.show && d.line.fill.show ? 1 : 0)\n            .transition()\n            .duration(500)\n            .delay(50)\n            .attr('d', thisArea(d.line.curveType)(d.data as any))\n\n            ;\n        });\n    },\n\n    /**\n     * Get a max count of values in each data set\n     */\n    valuesCount(data: IHistogramDataSet[]): number {\n      return data.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Update chart\n     */\n    update(el: Element, props) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      [this.x, this.y] = buildScales(this.props.axis);\n      let data = props.data;\n\n      xParseTime = timeParse(props.axis.x.dateFormat);\n      xFormatTime = timeFormat(props.axis.x.dateFormat);\n      data = data.map((datum: ILineChartDataSet<IChartPoint<number, number>>) => {\n        if (props.axis.x.scale === 'TIME') {\n          datum.data = datum.data.map((d) => {\n            const newd = {\n              ...d,\n              x: typeof d.x === 'object'\n                ? d.x\n                : xParseTime(d.x.toString()),\n            };\n            return newd;\n          });\n        }\n        // Assign in default line & point styles\n        return Object.assign({}, datumProps, datum);\n      });\n      this._drawScales(data);\n      this._drawLines(data);\n      this.drawAreas(data);\n      drawGrid(this.x, this.y, this.gridX, this.gridY, this.props, this.valuesCount(data));\n      this._drawDataPointSet(data);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: Element) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return LineChartD3;\n});\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IGrid,\n  IHistogramData,\n  IMargin,\n  ISVGLineStyle,\n  TipContentFn,\n} from './Histogram';\nimport { lineChartD3 } from './lineChartD3';\n\ninterface IState {\n  parentWidth?: number;\n}\n\nexport type IChartPointValue = number | string | Date | object;\nexport interface IChartPoint<X extends IChartPointValue = Date | number, Y extends IChartPointValue = number> {\n  x: X;\n  y: Y;\n}\nexport interface ILineProps {\n  show: boolean;\n  fill?: {\n    show: boolean;\n    fill: string;\n  };\n  curveType?: any;\n  stroke?: string;\n  strokeDashOffset?: number;\n  strokeDashArray?: string;\n}\n\nexport interface ILineChartDataSet<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  label: string;\n  point?: {\n    radius: number;\n    stroke: string;\n    fill: string;\n    show: boolean;\n  };\n  line?: ILineProps;\n  data: T[];\n}\n\nexport interface ISVGPoint extends ISVGLineStyle {\n  radius?: 4;\n  show: boolean;\n}\n\nexport interface ILineChartProps {\n  axis?: IAxes;\n  className?: string;\n  data: ILineChartDataSet[];\n  fx?: (n: number) => number;\n  grid?: IGrid;\n  height?: number | string;\n  // line?: any;\n  margin?: IMargin;\n  // point?: ISVGPoint;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<{ x: string | number, y: string | number }>;\n  width?: number | string;\n}\n\nclass LineChart extends React.Component<ILineChartProps, IState> {\n\n  private chart;\n  private ref;\n\n  constructor(props: ILineChartProps) {\n    super(props);\n    this.chart = lineChartD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n\n  }\n\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state. If a histogram has been assigned\n   * to the props, then render this data. Otherwise generate\n   * a random normal dist\n   */\n  public getChartState(): ILineChartProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  public getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  public render(): JSX.Element {\n    return <div ref={(ref) => this.ref = ref} className=\"chart-container\"></div>;\n  }\n}\n\nexport default LineChart;\n","import {\n  geoMercator,\n  geoPath,\n} from 'd3-geo';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport { FeatureCollection } from 'geojson';\n\nimport { IChartAdaptor } from './Histogram';\nimport { IMapProps } from './Map';\n\nexport const mapD3 = ((): IChartAdaptor => {\n  let svg;\n\n  const defaultProps: IMapProps = {\n    className: 'map-d3',\n    data: [],\n    geojson: {\n      features: [],\n      type: 'FeatureCollection',\n    },\n    height: 200,\n    width: 200,\n  };\n\n  const MapD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, props: Partial<IMapProps> = {}) {\n      this.mergeProps(props);\n      this._makeSvg(el);\n      this.container = svg\n        .append('g')\n        .attr('class', 'histogram-container');\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IMapProps>) {\n      this.props = merge<IMapProps>(defaultProps, newProps);\n      this.props.data = newProps.data;\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g');\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      data: any,\n      geojson: FeatureCollection<any, any>,\n    ) {\n\n      const { width, height } = this.props;\n      const zoom = 3;\n      const projection = geoMercator()\n        .scale((width / 2 / Math.PI) * zoom)\n        .translate([(width / 2), (height / 2)]);\n\n      const geoGenerator = geoPath()\n        .projection(projection);\n\n      // const g = this.container\n      // .selectAll('g')\n      // .data(groupData);\n\n      // Join the FeatureCollection's features array to path elements\n      const u = this.container\n        .selectAll('path')\n        .data(geojson.features);\n\n      // Create path elements and update the d attribute using the geo generator\n      u.enter()\n        .append('path')\n        .attr('d', geoGenerator);\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, props: IMapProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(props);\n      const { data, geojson } = this.props;\n      this.updateChart(data, geojson);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return MapD3;\n});\n","import { FeatureCollection } from 'geojson';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n} from './Histogram';\nimport { mapD3 } from './MapD3';\n\nexport interface IMapProps {\n  className?: string;\n  data: any;\n  geojson: FeatureCollection<any, any>;\n  height: number;\n  width: number | string;\n}\n\n/**\n * Map component\n */\nclass Map extends React.Component<IMapProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IMapProps> = {\n    geojson: {\n      features: [],\n      type: 'FeatureCollection',\n    },\n    height: 200,\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IMapProps) {\n    super(props);\n    this.chart = mapD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IMapProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"map-chart-container\"></div>);\n  }\n}\n\nexport default Map;\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\n\nimport colorScheme from './colors';\nimport { IChartPoint } from './LineChart';\nimport {\n  IScatterPlotProps,\n  ScatterPlotData,\n} from './ScatterPlot';\n\nexport const scatterPlotD3 = (() => {\n  let svg;\n  const yScale = scaleLinear();\n  const xScale = scaleLinear();\n  const domainByTrait = {};\n  let xAxis;\n  let color;\n  let yAxis;\n\n  const defaultProps = {\n    choices: [],\n    className: 'scatter-plot-d3',\n    colorScheme,\n    data: [],\n    delay: 0,\n    duration: 400,\n    height: 300,\n    legendWidth: 100,\n    padding: 20,\n    radius: 4,\n    width: '100%',\n  };\n\n  const GenerateChart = {\n\n    /**\n     * Initialization\n     * @param {Element} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: Element, props: IScatterPlotProps = defaultProps) {\n      this.props = merge(defaultProps, props);\n      this.update(el, props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Element} el Dom container node\n     * @param {Array} data Chart data\n     */\n    _makeSvg(el: Element, data: ScatterPlotData) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { width, className, height,\n        legendWidth, padding } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width + padding + legendWidth)\n        .attr('height', height + padding)\n        .append('g')\n        .attr('transform', 'translate(' + padding + ',' + padding / 2 + ')');\n\n      color = scaleOrdinal(this.props.colorScheme);\n    },\n\n    /**\n     * Draw the chart scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data) {\n      const { height, padding, width } = this.props;\n      const xSize = width / data.length;\n      const ySize = height / data.length;\n      xScale.range([padding / 2, xSize - padding / 2]);\n      yScale.range([height - padding / 2, padding / 2]);\n\n      svg.selectAll('.x.axis')\n        .data(data)\n        .enter().append('g')\n        .attr('class', 'x axis')\n        .attr('transform', (d, i) =>\n          'translate(' + (data.length - i - 1) * xSize + ',0)')\n        .each(function (d) {\n          xScale.domain(domainByTrait[d]);\n          select(this).call(xAxis);\n        });\n\n      svg.selectAll('.y.axis')\n        .data(data)\n        .enter().append('g')\n        .attr('class', 'y axis')\n        .attr('transform', (d: any, i: number) => 'translate(0,' + i * ySize + ')')\n        .each(function (d: any) {\n          yScale.domain(domainByTrait[d]);\n          select(this).call(yAxis);\n        });\n    },\n\n    /**\n     * Make a legend showing spit choice options\n     */\n    _drawLegend() {\n      const { choices, padding, width, split } = this.props;\n      if (choices === undefined) {\n        return;\n      }\n      const legend = svg.append('g')\n        .attr('transform', 'translate(' + (width + padding / 2) +\n          ', ' + (padding + 50) + ')');\n\n      legend.append('g').append('text')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('dy', '.71em')\n        .text((d) => split);\n      legend.selectAll('.legendItem')\n        .data(choices)\n        .enter().append('g')\n        .each(function (c, i: number) {\n          const cell = select(this);\n          cell.append('rect')\n            .attr('class', 'legendItem')\n            .attr('x', 0)\n            .attr('y', 20 + (i * 15))\n            .attr('fill', color(i))\n            .attr('height', 10)\n            .attr('width', 10);\n\n          cell.append('text')\n            .attr('x', 15)\n            .attr('y', 20 + (i * 15))\n            .attr('dy', '.71em')\n            .text((d) => c);\n        });\n\n      legend.exit().remove();\n    },\n\n    /**\n     * Draw scatter points\n     * @param {Object} traits Chart data\n     * @param {Number} size Chart size\n     */\n    _drawPoints(traits, width: number, height: number) {\n      const { data, delay, duration,\n        choices, split, padding, radius } = this.props;\n      const n = traits.length;\n      const cell = svg.selectAll('.cell')\n        .data(cross(traits, traits))\n        .enter().append('g')\n        .attr('class', 'cell')\n        .attr('transform', (d) => 'translate(' + (n - d.i - 1) * width +\n          ',' + d.j * width + ')')\n        .each(plot);\n\n      // Titles for the diagonal.\n      cell.filter((d) => d.i === d.j).append('text')\n        .attr('x', padding)\n        .attr('y', padding)\n        .attr('dy', '.71em')\n        .text((d) => d.x);\n\n      /**\n       * Plot a point\n       * @param {Object} p Point\n       */\n      function plot(p: IChartPoint) {\n        const plotCell = select(this);\n        let circle;\n        xScale.domain(domainByTrait[Number(p.x)]);\n        yScale.domain(domainByTrait[Number(p.y)]);\n\n        plotCell.append('rect')\n          .attr('class', 'frame')\n          .attr('x', padding / 2)\n          .attr('y', padding / 2)\n          .attr('width', width - padding)\n          .attr('height', height - padding);\n\n        circle = plotCell.selectAll('circle')\n          .data(data.values)\n          .enter().append('circle')\n          .attr('r', (d) => radius)\n          .attr('cx', (d) => xScale(d[Number(p.x)]))\n          .attr('cy', (d) => yScale(d[Number(p.y)]))\n          .style('fill', (d) => {\n            if (d[split]) {\n              const i = choices.findIndex((c) => c === d[split]);\n              return color(i);\n            }\n            return '#eeaabb';\n          });\n\n        circle\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('r', (d) => radius);\n      }\n\n      /**\n       * Create cross array\n       * // @TODO looks like d3 has its own cross function now...\n       * @param {Object} a point\n       * @param {Object} b point\n       * @return {Array} data\n       */\n      function cross(a, b) {\n        const c = [];\n        const nx = a.length;\n        const m = b.length;\n        let i: number;\n        let j: number;\n        for (i = -1; ++i < nx;) {\n          for (j = -1; ++j < m;) {\n            c.push({ x: a[i], i, y: b[j], j });\n          }\n        }\n        return c;\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {Node} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: Element, props: IScatterPlotProps) {\n      this.props = { ...this.props, ...props };\n      if (!props.data) {\n        return;\n      }\n      const { data, distModels, height, width } = this.props;\n      this._makeSvg(el, props.data);\n      this._drawLegend();\n      const traits = data.keys.filter((k) => distModels.indexOf(k) !== -1);\n      const xSize = width / traits.length;\n      const ySize = height / traits.length;\n      const n = traits.length;\n\n      traits.forEach((trait) => {\n        domainByTrait[trait] = extent(data.values, (d) => d[trait]);\n      });\n      xAxis = axisBottom(xScale)\n        .ticks(6)\n        .tickSize(xSize * n);\n      yAxis = axisLeft(yScale)\n        .ticks(6)\n        .tickSize(-ySize * n);\n\n      this._drawScales(traits);\n      this._drawPoints(traits, xSize, ySize);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: Element) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return GenerateChart;\n});\n","import * as React from 'react';\nimport { Component } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { scatterPlotD3 } from './ScatterPlotD3';\n\ninterface IChartState {\n  choices: string[];\n  data: any[];\n  height: number;\n  distModels: string[];\n  split: string;\n  parentWidth: number;\n  width: number | string;\n}\n\nexport type ScatterPlotData = any[];\n\nexport interface IScatterPlotProps {\n  choices?: any[];\n  className?: string;\n  chartSize?: number;\n  data: ScatterPlotData;\n  delay?: number;\n  distModels?: string[];\n  duration?: number;\n  height: number;\n  legendWidth?: number;\n  colorScheme?: string[];\n  padding?: number;\n  radius?: number;\n  split?: string;\n  width: string | number;\n}\nclass ScatterPlot extends Component<IScatterPlotProps, IChartState> {\n\n  private chart;\n  private ref;\n\n  public static defaultProps = {\n    height: 400,\n    width: '100%',\n  };\n\n  constructor(props: IScatterPlotProps) {\n    super(props);\n    this.chart = scatterPlotD3();\n    this.state = {\n      choices: [],\n      data: [],\n      distModels: [],\n      height: this.props.height,\n      parentWidth: 400,\n      split: '',\n      width: this.props.width,\n    };\n  }\n\n  private handleResize() {\n    const { legendWidth, padding } = this.props;\n    const chartWidth = Math.max(200, this.ref.offsetWidth - padding - legendWidth);\n    const chartHeight = Math.max(200, window.innerHeight - padding -\n      this.ref.getBoundingClientRect().top);\n    const width = Math.min(chartHeight, chartWidth);\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(this.getDOMNode(), this.getChartState()));\n  }\n\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    const { width } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  private getChartState(): IChartState {\n    let { width } = this.props;\n    const { data, choices, split, distModels, height } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      choices,\n      data,\n      distModels,\n      height,\n      parentWidth: this.state.parentWidth,\n      split,\n      width,\n    };\n  }\n\n  public componentWillReceiveProps(props: IScatterPlotProps) {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  public componentWillUnmount() {\n    const { width } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  public render() {\n    return <div ref={(ref) => this.ref = ref} className=\"scatterplot-chart-container\"></div>;\n  }\n}\n\nexport default ScatterPlot;\n","import filterRange from './colors/filterRange';\nimport Histogram, {\n  IAxes, IHistogramBar, IHistogramData, IHistogramDataSet,\n  IHistogramProps, IStroke,\n} from './Histogram';\n\nimport HorizontalHistogram from './HorizontalHistogram';\nimport JoyPlot from './JoyPlot';\nimport Legend from './Legend';\nimport LineChart, { IChartPoint, ILineChartDataSet, ILineChartProps } from './LineChart';\nimport Map from './Map';\nimport PieChart from './PieChart';\nimport ScatterPlot from './ScatterPlot';\n\nexport {\n  filterRange,\n  JoyPlot,\n  Histogram,\n  HorizontalHistogram,\n  Legend,\n  LineChart,\n  Map,\n  PieChart,\n  ScatterPlot,\n  ILineChartDataSet,\n  IChartPoint,\n  ILineChartProps,\n  IAxes,\n  IHistogramBar,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n  IStroke,\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderData = exports.renderValue = exports.ValueViewer = exports.DataEditor = exports.Cell = exports.Row = exports.Sheet = undefined;\n\nvar _DataSheet = require('./DataSheet');\n\nvar _DataSheet2 = _interopRequireDefault(_DataSheet);\n\nvar _Sheet = require('./Sheet');\n\nvar _Sheet2 = _interopRequireDefault(_Sheet);\n\nvar _Row = require('./Row');\n\nvar _Row2 = _interopRequireDefault(_Row);\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _renderHelpers = require('./renderHelpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _DataSheet2.default;\nexports.Sheet = _Sheet2.default;\nexports.Row = _Row2.default;\nexports.Cell = _Cell2.default;\nexports.DataEditor = _DataEditor2.default;\nexports.ValueViewer = _ValueViewer2.default;\nexports.renderValue = _renderHelpers.renderValue;\nexports.renderData = _renderHelpers.renderData;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar PropTypes = __importStar(require(\"prop-types\"));\nvar React = __importStar(require(\"react\"));\nfunction getStyle(name, theme) {\n    return theme ? theme[name] ? \" style=\\\"\" + theme[name] + \"\\\"\" : '' : '';\n}\nvar JSONPretty = /** @class */ (function (_super) {\n    __extends(JSONPretty, _super);\n    function JSONPretty() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    JSONPretty.prototype.render = function () {\n        var _a = this.props, json = _a.json, data = _a.data, replacer = _a.replacer, space = _a.space, themeClassName = _a.themeClassName, theme = _a.theme, silent = _a.silent, rest = __rest(_a, [\"json\", \"data\", \"replacer\", \"space\", \"themeClassName\", \"theme\", \"silent\"]);\n        var obj = data || json;\n        // See https://facebook.github.io/react/warnings/unknown-prop.html\n        if (typeof obj === 'string') {\n            try {\n                obj = JSON.parse(obj);\n            }\n            catch (e) {\n                if (!silent) {\n                    console.warn(\"[react-json-pretty]: \" + e.message);\n                }\n                return (React.createElement(\"div\", __assign({}, rest, { dangerouslySetInnerHTML: { __html: \"<pre class=\" + themeClassName + getStyle('main', theme) + \">\" + obj + \"</pre>\"\n                    } })));\n            }\n        }\n        return (React.createElement(\"div\", __assign({}, rest, { dangerouslySetInnerHTML: { __html: \"<pre class=\" + themeClassName + getStyle('main', theme) + \">\" + this._pretty.call(this, theme, obj, replacer, +space) + \"</pre>\"\n            } })));\n    };\n    // JSON =》 HTML转换器\n    JSONPretty.prototype._pretty = function (theme, obj, replacer, space) {\n        // 逐行匹配，列举：“key”: \"value\" | \"key\": value | \"key\": [ | \"key\": { | \"key\": [],| \"Key\": {},\n        var regLine = /^( *)(\"[^\"]+\": )?(\"[^\"]*\"|[\\w.+-]*)?([,[{]|\\[\\s*\\],?|\\{\\s*\\},?)?$/mg;\n        var text = JSON.stringify(obj, typeof replacer === 'function' ? replacer : null, isNaN(space) ? 2 : space);\n        /* istanbul ignore next */\n        if (!text) {\n            return text;\n        }\n        return text.replace(/&/g, '&amp;').replace(/\\\\\"([^,])/g, '\\\\&quot;$1')\n            .replace(/</g, '&lt;').replace(/>/g, '&gt;')\n            .replace(regLine, this._replace.bind(null, theme));\n    };\n    // 格式化函数\n    JSONPretty.prototype._replace = function (theme, match, ind, key, val, tra) {\n        var spanEnd = '</span>';\n        var keySpan = \"<span class=__json-key__\" + getStyle('key', theme) + \">\";\n        var valSpan = \"<span class=__json-value__\" + getStyle('value', theme) + \">\";\n        var strSpan = \"<span class=__json-string__\" + getStyle('string', theme) + \">\";\n        var booSpan = \"<span class=__json-boolean__\" + getStyle('boolean', theme) + \">\";\n        var sps = ind || '';\n        if (key) {\n            sps = sps + '\"' + keySpan + key.replace(/^\"|\":\\s$/g, '') + spanEnd + '\": ';\n        }\n        if (val) {\n            if (val === 'true' || val === 'false') {\n                sps = sps + booSpan + val + spanEnd;\n            }\n            else {\n                sps = sps + (val[0] === '\"' ? strSpan : valSpan) + val + spanEnd;\n            }\n        }\n        return sps + (tra || '');\n    };\n    JSONPretty.propTypes = {\n        data: PropTypes.any,\n        json: PropTypes.any,\n        replacer: PropTypes.func,\n        silent: PropTypes.bool,\n        space: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        theme: PropTypes.object,\n        themeClassName: PropTypes.string,\n    };\n    JSONPretty.defaultProps = {\n        data: '',\n        json: '',\n        silent: true,\n        space: 2,\n        themeClassName: '__json-pretty__',\n    };\n    return JSONPretty;\n}(React.Component));\nmodule.exports = JSONPretty;\n","import React, { FC } from 'react';\n\nimport { Typography } from '@material-ui/core';\n\nexport const TabContainer: FC<{}> = (props) => {\n  return (\n    <Typography component=\"div\" style={{ padding: 8 * 3 }}>\n      {props.children}\n    </Typography>\n  );\n};\n\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Sheet = require('./Sheet');\n\nvar _Sheet2 = _interopRequireDefault(_Sheet);\n\nvar _Row = require('./Row');\n\nvar _Row2 = _interopRequireDefault(_Row);\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _DataCell = require('./DataCell');\n\nvar _DataCell2 = _interopRequireDefault(_DataCell);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _keys = require('./keys');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar isEmpty = function isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n};\n\nvar range = function range(start, end) {\n  var array = [];\n  var inc = end - start > 0;\n  for (var i = start; inc ? i <= end : i >= end; inc ? i++ : i--) {\n    inc ? array.push(i) : array.unshift(i);\n  }\n  return array;\n};\n\nvar defaultParsePaste = function defaultParsePaste(str) {\n  return str.split(/\\r\\n|\\n|\\r/).map(function (row) {\n    return row.split('\\t');\n  });\n};\n\nvar DataSheet = function (_PureComponent) {\n  _inherits(DataSheet, _PureComponent);\n\n  function DataSheet(props) {\n    _classCallCheck(this, DataSheet);\n\n    var _this = _possibleConstructorReturn(this, (DataSheet.__proto__ || Object.getPrototypeOf(DataSheet)).call(this, props));\n\n    _this.onMouseDown = _this.onMouseDown.bind(_this);\n    _this.onMouseUp = _this.onMouseUp.bind(_this);\n    _this.onMouseOver = _this.onMouseOver.bind(_this);\n    _this.onDoubleClick = _this.onDoubleClick.bind(_this);\n    _this.onContextMenu = _this.onContextMenu.bind(_this);\n    _this.handleNavigate = _this.handleNavigate.bind(_this);\n    _this.handleKey = _this.handleKey.bind(_this).bind(_this);\n    _this.handleCut = _this.handleCut.bind(_this);\n    _this.handleCopy = _this.handleCopy.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.pageClick = _this.pageClick.bind(_this);\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onRevert = _this.onRevert.bind(_this);\n    _this.isSelected = _this.isSelected.bind(_this);\n    _this.isEditing = _this.isEditing.bind(_this);\n    _this.isClearing = _this.isClearing.bind(_this);\n    _this.handleComponentKey = _this.handleComponentKey.bind(_this);\n\n    _this.handleKeyboardCellMovement = _this.handleKeyboardCellMovement.bind(_this);\n\n    _this.defaultState = {\n      start: {},\n      end: {},\n      selecting: false,\n      forceEdit: false,\n      editing: {},\n      clear: {}\n    };\n    _this.state = _this.defaultState;\n\n    _this.removeAllListeners = _this.removeAllListeners.bind(_this);\n    return _this;\n  }\n\n  _createClass(DataSheet, [{\n    key: 'removeAllListeners',\n    value: function removeAllListeners() {\n      document.removeEventListener('mousedown', this.pageClick);\n      document.removeEventListener('mouseup', this.onMouseUp);\n      document.removeEventListener('cut', this.handleCut);\n      document.removeEventListener('copy', this.handleCopy);\n      document.removeEventListener('paste', this.handlePaste);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Add listener scoped to the DataSheet that catches otherwise unhandled\n      // keyboard events when displaying components\n      this.dgDom && this.dgDom.addEventListener('keydown', this.handleComponentKey);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.dgDom && this.dgDom.removeEventListener('keydown', this.handleComponentKey);\n      this.removeAllListeners();\n    }\n  }, {\n    key: 'isSelectionControlled',\n    value: function isSelectionControlled() {\n      return 'selected' in this.props;\n    }\n  }, {\n    key: 'getState',\n    value: function getState() {\n      var state = this.state;\n      if (this.isSelectionControlled()) {\n        var _ref = this.props.selected || {},\n            start = _ref.start,\n            end = _ref.end;\n\n        start = start || this.defaultState.start;\n        end = end || this.defaultState.end;\n        state = _extends({}, state, { start: start, end: end });\n      }\n      return state;\n    }\n  }, {\n    key: '_setState',\n    value: function _setState(state) {\n      if (this.isSelectionControlled() && ('start' in state || 'end' in state)) {\n        var start = state.start,\n            end = state.end,\n            rest = _objectWithoutProperties(state, ['start', 'end']);\n\n        var _props = this.props,\n            selected = _props.selected,\n            onSelect = _props.onSelect;\n\n        selected = selected || {};\n        if (!start) {\n          start = 'start' in selected ? selected.start : this.defaultState.start;\n        }\n        if (!end) {\n          end = 'end' in selected ? selected.end : this.defaultState.end;\n        }\n        onSelect && onSelect({ start: start, end: end });\n        this.setState(rest);\n      } else {\n        this.setState(state);\n      }\n    }\n  }, {\n    key: 'pageClick',\n    value: function pageClick(e) {\n      var element = this.dgDom;\n      if (!element.contains(e.target)) {\n        this.setState(this.defaultState);\n        this.removeAllListeners();\n      }\n    }\n  }, {\n    key: 'handleCut',\n    value: function handleCut(e) {\n      if (isEmpty(this.state.editing)) {\n        e.preventDefault();\n        this.handleCopy(e);\n\n        var _getState = this.getState(),\n            start = _getState.start,\n            end = _getState.end;\n\n        this.clearSelectedCells(start, end);\n      }\n    }\n  }, {\n    key: 'handleCopy',\n    value: function handleCopy(e) {\n      if (isEmpty(this.state.editing)) {\n        e.preventDefault();\n        var _props2 = this.props,\n            dataRenderer = _props2.dataRenderer,\n            valueRenderer = _props2.valueRenderer,\n            data = _props2.data;\n\n        var _getState2 = this.getState(),\n            start = _getState2.start,\n            end = _getState2.end;\n\n        var text = range(start.i, end.i).map(function (i) {\n          return range(start.j, end.j).map(function (j) {\n            var cell = data[i][j];\n            var value = dataRenderer ? dataRenderer(cell, i, j) : null;\n            if (value === '' || value === null || typeof value === 'undefined') {\n              return valueRenderer(cell, i, j);\n            }\n            return value;\n          }).join('\\t');\n        }).join('\\n');\n        e.clipboardData.setData('text/plain', text);\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      if (isEmpty(this.state.editing)) {\n        var _getState3 = this.getState(),\n            start = _getState3.start,\n            end = _getState3.end;\n\n        start = { i: Math.min(start.i, end.i), j: Math.min(start.j, end.j) };\n        end = { i: Math.max(start.i, end.i), j: Math.max(start.j, end.j) };\n\n        var parse = this.props.parsePaste || defaultParsePaste;\n        var changes = [];\n        var pasteData = parse(e.clipboardData.getData('text/plain'));\n        // in order of preference\n        var _props3 = this.props,\n            data = _props3.data,\n            onCellsChanged = _props3.onCellsChanged,\n            onPaste = _props3.onPaste,\n            onChange = _props3.onChange;\n\n        if (onCellsChanged) {\n          var additions = [];\n          pasteData.forEach(function (row, i) {\n            row.forEach(function (value, j) {\n              end = { i: start.i + i, j: start.j + j };\n              var cell = data[end.i] && data[end.i][end.j];\n              if (!cell) {\n                additions.push({ row: end.i, col: end.j, value: value });\n              } else if (!cell.readOnly) {\n                changes.push({ cell: cell, row: end.i, col: end.j, value: value });\n              }\n            });\n          });\n          if (additions.length) {\n            onCellsChanged(changes, additions);\n          } else {\n            onCellsChanged(changes);\n          }\n        } else if (onPaste) {\n          pasteData.forEach(function (row, i) {\n            var rowData = [];\n            row.forEach(function (pastedData, j) {\n              end = { i: start.i + i, j: start.j + j };\n              var cell = data[end.i] && data[end.i][end.j];\n              rowData.push({ cell: cell, data: pastedData });\n            });\n            changes.push(rowData);\n          });\n          onPaste(changes);\n        } else if (onChange) {\n          pasteData.forEach(function (row, i) {\n            row.forEach(function (value, j) {\n              end = { i: start.i + i, j: start.j + j };\n              var cell = data[end.i] && data[end.i][end.j];\n              if (cell && !cell.readOnly) {\n                onChange(cell, end.i, end.j, value);\n              }\n            });\n          });\n        }\n        this._setState({ end: end });\n      }\n    }\n  }, {\n    key: 'handleKeyboardCellMovement',\n    value: function handleKeyboardCellMovement(e) {\n      var commit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _getState4 = this.getState(),\n          start = _getState4.start,\n          editing = _getState4.editing;\n\n      var data = this.props.data;\n\n      var isEditing = editing && !isEmpty(editing);\n      var currentCell = data[start.i] && data[start.i][start.j];\n\n      if (isEditing && !commit) {\n        return false;\n      }\n      var hasComponent = currentCell && currentCell.component;\n\n      var keyCode = e.which || e.keyCode;\n\n      if (hasComponent && isEditing) {\n        e.preventDefault();\n        return;\n      }\n\n      if (keyCode === _keys.TAB_KEY) {\n        this.handleNavigate(e, { i: 0, j: e.shiftKey ? -1 : 1 }, true);\n      } else if (keyCode === _keys.RIGHT_KEY) {\n        this.handleNavigate(e, { i: 0, j: 1 });\n      } else if (keyCode === _keys.LEFT_KEY) {\n        this.handleNavigate(e, { i: 0, j: -1 });\n      } else if (keyCode === _keys.UP_KEY) {\n        this.handleNavigate(e, { i: -1, j: 0 });\n      } else if (keyCode === _keys.DOWN_KEY) {\n        this.handleNavigate(e, { i: 1, j: 0 });\n      } else if (commit && keyCode === _keys.ENTER_KEY) {\n        this.handleNavigate(e, { i: e.shiftKey ? -1 : 1, j: 0 });\n      }\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(e) {\n      if (e.isPropagationStopped && e.isPropagationStopped()) {\n        return;\n      }\n      var keyCode = e.which || e.keyCode;\n\n      var _getState5 = this.getState(),\n          start = _getState5.start,\n          end = _getState5.end,\n          editing = _getState5.editing;\n\n      var isEditing = editing && !isEmpty(editing);\n      var noCellsSelected = !start || isEmpty(start);\n      var ctrlKeyPressed = e.ctrlKey || e.metaKey;\n      var deleteKeysPressed = keyCode === _keys.DELETE_KEY || keyCode === _keys.BACKSPACE_KEY;\n      var enterKeyPressed = keyCode === _keys.ENTER_KEY;\n      var numbersPressed = keyCode >= 48 && keyCode <= 57;\n      var lettersPressed = keyCode >= 65 && keyCode <= 90;\n      var latin1Supplement = keyCode >= 160 && keyCode <= 255;\n      var numPadKeysPressed = keyCode >= 96 && keyCode <= 105;\n      var currentCell = !noCellsSelected && this.props.data[start.i][start.j];\n      var equationKeysPressed = [187, /* equal */\n      189, /* substract */\n      190, /* period */\n      107, /* add */\n      109, /* decimal point */\n      110].indexOf(keyCode) > -1;\n\n      if (noCellsSelected || ctrlKeyPressed) {\n        return true;\n      }\n\n      if (!isEditing) {\n        this.handleKeyboardCellMovement(e);\n        if (deleteKeysPressed) {\n          e.preventDefault();\n          this.clearSelectedCells(start, end);\n        } else if (currentCell && !currentCell.readOnly) {\n          if (enterKeyPressed) {\n            this._setState({ editing: start, clear: {}, forceEdit: true });\n            e.preventDefault();\n          } else if (numbersPressed || numPadKeysPressed || lettersPressed || latin1Supplement || equationKeysPressed) {\n            // empty out cell if user starts typing without pressing enter\n            this._setState({ editing: start, clear: start, forceEdit: false });\n          }\n        }\n      }\n    }\n  }, {\n    key: 'getSelectedCells',\n    value: function getSelectedCells(data, start, end) {\n      var selected = [];\n      range(start.i, end.i).map(function (row) {\n        range(start.j, end.j).map(function (col) {\n          if (data[row] && data[row][col]) {\n            selected.push({ cell: data[row][col], row: row, col: col });\n          }\n        });\n      });\n      return selected;\n    }\n  }, {\n    key: 'clearSelectedCells',\n    value: function clearSelectedCells(start, end) {\n      var _this2 = this;\n\n      var _props4 = this.props,\n          data = _props4.data,\n          onCellsChanged = _props4.onCellsChanged,\n          onChange = _props4.onChange;\n\n      var cells = this.getSelectedCells(data, start, end).filter(function (cell) {\n        return !cell.cell.readOnly;\n      }).map(function (cell) {\n        return _extends({}, cell, { value: '' });\n      });\n      if (onCellsChanged) {\n        onCellsChanged(cells);\n        this.onRevert();\n      } else if (onChange) {\n        // ugly solution brought to you by https://reactjs.org/docs/react-component.html#setstate\n        // setState in a loop is unreliable\n        setTimeout(function () {\n          cells.forEach(function (_ref2) {\n            var cell = _ref2.cell,\n                row = _ref2.row,\n                col = _ref2.col,\n                value = _ref2.value;\n\n            onChange(cell, row, col, value);\n          });\n          _this2.onRevert();\n        }, 0);\n      }\n    }\n  }, {\n    key: 'handleNavigate',\n    value: function handleNavigate(e, offsets, jumpRow) {\n      var _this3 = this;\n\n      if (offsets && (offsets.i || offsets.j)) {\n        var _getState6 = this.getState(),\n            start = _getState6.start;\n\n        var data = this.props.data;\n\n        var newLocation = { i: start.i + offsets.i, j: start.j + offsets.j };\n        var updateLocation = function updateLocation() {\n          if (data[newLocation.i] && typeof data[newLocation.i][newLocation.j] !== 'undefined') {\n            _this3._setState({ start: newLocation, end: newLocation, editing: {} });\n            e.preventDefault();\n            return true;\n          }\n          return false;\n        };\n        if (!updateLocation() && jumpRow) {\n          if (offsets.j < 0) {\n            newLocation = { i: start.i - 1, j: data[0].length - 1 };\n          } else {\n            newLocation = { i: start.i + 1, j: 0 };\n          }\n          updateLocation();\n        }\n      }\n    }\n  }, {\n    key: 'handleComponentKey',\n    value: function handleComponentKey(e) {\n      var _this4 = this;\n\n      // handles keyboard events when editing components\n      var keyCode = e.which || e.keyCode;\n      if (![_keys.ENTER_KEY, _keys.ESCAPE_KEY, _keys.TAB_KEY].includes(keyCode)) {\n        return;\n      }\n      var editing = this.state.editing;\n      var data = this.props.data;\n\n      var isEditing = !isEmpty(editing);\n      if (isEditing) {\n        var currentCell = data[editing.i][editing.j];\n        var offset = e.shiftKey ? -1 : 1;\n        if (currentCell && currentCell.component && !currentCell.forceComponent) {\n          e.preventDefault();\n          var func = this.onRevert; // ESCAPE_KEY\n          if (keyCode === _keys.ENTER_KEY) {\n            func = function func() {\n              return _this4.handleNavigate(e, { i: offset, j: 0 });\n            };\n          } else if (keyCode === _keys.TAB_KEY) {\n            func = function func() {\n              return _this4.handleNavigate(e, { i: 0, j: offset }, true);\n            };\n          }\n          // setTimeout makes sure that component is done handling the event before we take over\n          setTimeout(function () {\n            func();_this4.dgDom && _this4.dgDom.focus();\n          }, 1);\n        }\n      }\n    }\n  }, {\n    key: 'onContextMenu',\n    value: function onContextMenu(evt, i, j) {\n      var cell = this.props.data[i][j];\n      if (this.props.onContextMenu) {\n        this.props.onContextMenu(evt, cell, i, j);\n      }\n    }\n  }, {\n    key: 'onDoubleClick',\n    value: function onDoubleClick(i, j) {\n      var cell = this.props.data[i][j];\n      if (!cell.readOnly) {\n        this._setState({ editing: { i: i, j: j }, forceEdit: true, clear: {} });\n      }\n    }\n  }, {\n    key: 'onMouseDown',\n    value: function onMouseDown(i, j) {\n      var editing = isEmpty(this.state.editing) || this.state.editing.i !== i || this.state.editing.j !== j ? {} : this.state.editing;\n      this._setState({ selecting: true, start: { i: i, j: j }, end: { i: i, j: j }, editing: editing, forceEdit: false });\n\n      // Keep listening to mouse if user releases the mouse (dragging outside)\n      document.addEventListener('mouseup', this.onMouseUp);\n      // Listen for any outside mouse clicks\n      document.addEventListener('mousedown', this.pageClick);\n\n      // Cut, copy and paste event handlers\n      document.addEventListener('cut', this.handleCut);\n      document.addEventListener('copy', this.handleCopy);\n      document.addEventListener('paste', this.handlePaste);\n    }\n  }, {\n    key: 'onMouseOver',\n    value: function onMouseOver(i, j) {\n      if (this.state.selecting && isEmpty(this.state.editing)) {\n        this._setState({ end: { i: i, j: j } });\n      }\n    }\n  }, {\n    key: 'onMouseUp',\n    value: function onMouseUp() {\n      this._setState({ selecting: false });\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(row, col, value) {\n      var _props5 = this.props,\n          onChange = _props5.onChange,\n          onCellsChanged = _props5.onCellsChanged,\n          data = _props5.data;\n\n      if (onCellsChanged) {\n        onCellsChanged([{ cell: data[row][col], row: row, col: col, value: value }]);\n      } else if (onChange) {\n        onChange(data[row][col], row, col, value);\n      }\n      this.onRevert();\n    }\n  }, {\n    key: 'onRevert',\n    value: function onRevert() {\n      this._setState({ editing: {} });\n      this.dgDom && this.dgDom.focus();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _state = this.state,\n          start = _state.start,\n          end = _state.end;\n\n      var prevEnd = prevState.end;\n      if (!isEmpty(end) && !(end.i === prevEnd.i && end.j === prevEnd.j) && !this.isSelectionControlled()) {\n        this.props.onSelect && this.props.onSelect({ start: start, end: end });\n      }\n    }\n  }, {\n    key: 'isSelected',\n    value: function isSelected(i, j) {\n      var _getState7 = this.getState(),\n          start = _getState7.start,\n          end = _getState7.end;\n\n      var posX = j >= start.j && j <= end.j;\n      var negX = j <= start.j && j >= end.j;\n      var posY = i >= start.i && i <= end.i;\n      var negY = i <= start.i && i >= end.i;\n\n      return posX && posY || negX && posY || negX && negY || posX && negY;\n    }\n  }, {\n    key: 'isEditing',\n    value: function isEditing(i, j) {\n      return this.state.editing.i === i && this.state.editing.j === j;\n    }\n  }, {\n    key: 'isClearing',\n    value: function isClearing(i, j) {\n      return this.state.clear.i === i && this.state.clear.j === j;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this5 = this;\n\n      var _props6 = this.props,\n          SheetRenderer = _props6.sheetRenderer,\n          RowRenderer = _props6.rowRenderer,\n          cellRenderer = _props6.cellRenderer,\n          dataRenderer = _props6.dataRenderer,\n          valueRenderer = _props6.valueRenderer,\n          dataEditor = _props6.dataEditor,\n          valueViewer = _props6.valueViewer,\n          attributesRenderer = _props6.attributesRenderer,\n          className = _props6.className,\n          overflow = _props6.overflow,\n          data = _props6.data,\n          keyFn = _props6.keyFn;\n      var forceEdit = this.state.forceEdit;\n\n\n      return _react2.default.createElement(\n        'span',\n        { ref: function ref(r) {\n            _this5.dgDom = r;\n          }, tabIndex: '0', className: 'data-grid-container', onKeyDown: this.handleKey },\n        _react2.default.createElement(\n          SheetRenderer,\n          { data: data, className: ['data-grid', className, overflow].filter(function (a) {\n              return a;\n            }).join(' ') },\n          data.map(function (row, i) {\n            return _react2.default.createElement(\n              RowRenderer,\n              { key: keyFn ? keyFn(i) : i, row: i, cells: row },\n              row.map(function (cell, j) {\n                return _react2.default.createElement(_DataCell2.default, {\n                  key: cell.key ? cell.key : i + '-' + j,\n                  row: i,\n                  col: j,\n                  cell: cell,\n                  forceEdit: forceEdit,\n                  onMouseDown: _this5.onMouseDown,\n                  onMouseOver: _this5.onMouseOver,\n                  onDoubleClick: _this5.onDoubleClick,\n                  onContextMenu: _this5.onContextMenu,\n                  onChange: _this5.onChange,\n                  onRevert: _this5.onRevert,\n                  onNavigate: _this5.handleKeyboardCellMovement,\n                  onKey: _this5.handleKey,\n                  selected: _this5.isSelected(i, j),\n                  editing: _this5.isEditing(i, j),\n                  clearing: _this5.isClearing(i, j),\n                  attributesRenderer: attributesRenderer,\n                  cellRenderer: cellRenderer,\n                  valueRenderer: valueRenderer,\n                  dataRenderer: dataRenderer,\n                  valueViewer: valueViewer,\n                  dataEditor: dataEditor\n                });\n              })\n            );\n          })\n        )\n      );\n    }\n  }]);\n\n  return DataSheet;\n}(_react.PureComponent);\n\nexports.default = DataSheet;\n\n\nDataSheet.propTypes = {\n  data: _propTypes2.default.array.isRequired,\n  className: _propTypes2.default.string,\n  overflow: _propTypes2.default.oneOf(['wrap', 'nowrap', 'clip']),\n  onChange: _propTypes2.default.func,\n  onCellsChanged: _propTypes2.default.func,\n  onContextMenu: _propTypes2.default.func,\n  onSelect: _propTypes2.default.func,\n  selected: _propTypes2.default.shape({\n    start: _propTypes2.default.shape({\n      i: _propTypes2.default.number,\n      j: _propTypes2.default.number\n    }),\n    end: _propTypes2.default.shape({\n      i: _propTypes2.default.number,\n      j: _propTypes2.default.number\n    })\n  }),\n  valueRenderer: _propTypes2.default.func.isRequired,\n  dataRenderer: _propTypes2.default.func,\n  sheetRenderer: _propTypes2.default.func.isRequired,\n  rowRenderer: _propTypes2.default.func.isRequired,\n  cellRenderer: _propTypes2.default.func.isRequired,\n  valueViewer: _propTypes2.default.func,\n  dataEditor: _propTypes2.default.func,\n  parsePaste: _propTypes2.default.func,\n  attributesRenderer: _propTypes2.default.func,\n  keyFn: _propTypes2.default.func\n};\n\nDataSheet.defaultProps = {\n  sheetRenderer: _Sheet2.default,\n  rowRenderer: _Row2.default,\n  cellRenderer: _Cell2.default,\n  valueViewer: _ValueViewer2.default,\n  dataEditor: _DataEditor2.default\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _keys = require('./keys');\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _renderHelpers = require('./renderHelpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction initialData(_ref) {\n  var cell = _ref.cell,\n      row = _ref.row,\n      col = _ref.col,\n      valueRenderer = _ref.valueRenderer,\n      dataRenderer = _ref.dataRenderer;\n\n  return (0, _renderHelpers.renderData)(cell, row, col, valueRenderer, dataRenderer);\n}\n\nfunction initialValue(_ref2) {\n  var cell = _ref2.cell,\n      row = _ref2.row,\n      col = _ref2.col,\n      valueRenderer = _ref2.valueRenderer;\n\n  return (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n}\n\nfunction widthStyle(cell) {\n  var width = typeof cell.width === 'number' ? cell.width + 'px' : cell.width;\n  return width ? { width: width } : null;\n}\n\nvar DataCell = function (_PureComponent) {\n  _inherits(DataCell, _PureComponent);\n\n  function DataCell(props) {\n    _classCallCheck(this, DataCell);\n\n    var _this = _possibleConstructorReturn(this, (DataCell.__proto__ || Object.getPrototypeOf(DataCell)).call(this, props));\n\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleCommit = _this.handleCommit.bind(_this);\n    _this.handleRevert = _this.handleRevert.bind(_this);\n\n    _this.handleKey = _this.handleKey.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleMouseOver = _this.handleMouseOver.bind(_this);\n    _this.handleContextMenu = _this.handleContextMenu.bind(_this);\n    _this.handleDoubleClick = _this.handleDoubleClick.bind(_this);\n\n    _this.state = { updated: false, reverting: false, value: '', committing: false };\n    return _this;\n  }\n\n  _createClass(DataCell, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (initialValue(nextProps) !== initialValue(this.props)) {\n        this.setState({ updated: true });\n        this.timeout = setTimeout(function () {\n          return _this2.setState({ updated: false });\n        }, 700);\n      }\n      if (nextProps.editing === true && this.props.editing === false) {\n        var value = nextProps.clearing ? '' : initialData(nextProps);\n        this.setState({ value: value, reverting: false });\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.editing === true && this.props.editing === false && !this.state.reverting && !this.state.committing && this.state.value !== initialData(this.props)) {\n        this.props.onChange(this.props.row, this.props.col, this.state.value);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeout);\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(value) {\n      this.setState({ value: value, committing: false });\n    }\n  }, {\n    key: 'handleCommit',\n    value: function handleCommit(value, e) {\n      var _props = this.props,\n          onChange = _props.onChange,\n          onNavigate = _props.onNavigate;\n\n      if (value !== initialData(this.props)) {\n        this.setState({ value: value, committing: true });\n        onChange(this.props.row, this.props.col, value);\n      } else {\n        this.handleRevert();\n      }\n      if (e) {\n        e.preventDefault();\n        onNavigate(e, true);\n      }\n    }\n  }, {\n    key: 'handleRevert',\n    value: function handleRevert() {\n      this.setState({ reverting: true });\n      this.props.onRevert();\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(e) {\n      var _props2 = this.props,\n          row = _props2.row,\n          col = _props2.col,\n          onMouseDown = _props2.onMouseDown,\n          cell = _props2.cell;\n\n      if (!cell.disableEvents) {\n        onMouseDown(row, col);\n      }\n    }\n  }, {\n    key: 'handleMouseOver',\n    value: function handleMouseOver(e) {\n      var _props3 = this.props,\n          row = _props3.row,\n          col = _props3.col,\n          onMouseOver = _props3.onMouseOver,\n          cell = _props3.cell;\n\n      if (!cell.disableEvents) {\n        onMouseOver(row, col);\n      }\n    }\n  }, {\n    key: 'handleDoubleClick',\n    value: function handleDoubleClick(e) {\n      var _props4 = this.props,\n          row = _props4.row,\n          col = _props4.col,\n          onDoubleClick = _props4.onDoubleClick,\n          cell = _props4.cell;\n\n      if (!cell.disableEvents) {\n        onDoubleClick(row, col);\n      }\n    }\n  }, {\n    key: 'handleContextMenu',\n    value: function handleContextMenu(e) {\n      var _props5 = this.props,\n          row = _props5.row,\n          col = _props5.col,\n          onContextMenu = _props5.onContextMenu,\n          cell = _props5.cell;\n\n      if (!cell.disableEvents) {\n        onContextMenu(e, row, col);\n      }\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(e) {\n      var keyCode = e.which || e.keyCode;\n      if (keyCode === _keys.ESCAPE_KEY) {\n        return this.handleRevert();\n      }\n      var _props6 = this.props,\n          component = _props6.cell.component,\n          forceEdit = _props6.forceEdit;\n\n      var eatKeys = forceEdit || !!component;\n      var commit = keyCode === _keys.ENTER_KEY || keyCode === _keys.TAB_KEY || !eatKeys && [_keys.LEFT_KEY, _keys.RIGHT_KEY, _keys.UP_KEY, _keys.DOWN_KEY].includes(keyCode);\n\n      if (commit) {\n        this.handleCommit(this.state.value, e);\n      }\n    }\n  }, {\n    key: 'renderComponent',\n    value: function renderComponent(editing, cell) {\n      var component = cell.component,\n          readOnly = cell.readOnly,\n          forceComponent = cell.forceComponent;\n\n      if (editing && !readOnly || forceComponent) {\n        return component;\n      }\n    }\n  }, {\n    key: 'renderEditor',\n    value: function renderEditor(editing, cell, row, col, dataEditor) {\n      if (editing) {\n        var Editor = cell.dataEditor || dataEditor || _DataEditor2.default;\n        return _react2.default.createElement(Editor, {\n          cell: cell,\n          row: row,\n          col: col,\n          value: this.state.value,\n          onChange: this.handleChange,\n          onCommit: this.handleCommit,\n          onRevert: this.handleRevert,\n          onKeyDown: this.handleKey\n        });\n      }\n    }\n  }, {\n    key: 'renderViewer',\n    value: function renderViewer(cell, row, col, valueRenderer, valueViewer) {\n      var Viewer = cell.valueViewer || valueViewer || _ValueViewer2.default;\n      var value = (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n      return _react2.default.createElement(Viewer, { cell: cell, row: row, col: col, value: value });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props7 = this.props,\n          row = _props7.row,\n          col = _props7.col,\n          cell = _props7.cell,\n          CellRenderer = _props7.cellRenderer,\n          valueRenderer = _props7.valueRenderer,\n          dataEditor = _props7.dataEditor,\n          valueViewer = _props7.valueViewer,\n          attributesRenderer = _props7.attributesRenderer,\n          selected = _props7.selected,\n          editing = _props7.editing,\n          onKeyUp = _props7.onKeyUp;\n      var updated = this.state.updated;\n\n\n      var content = this.renderComponent(editing, cell) || this.renderEditor(editing, cell, row, col, dataEditor) || this.renderViewer(cell, row, col, valueRenderer, valueViewer);\n\n      var className = [cell.className, 'cell', cell.overflow, selected && 'selected', editing && 'editing', cell.readOnly && 'read-only', updated && 'updated'].filter(function (a) {\n        return a;\n      }).join(' ');\n\n      return _react2.default.createElement(\n        CellRenderer,\n        {\n          row: row,\n          col: col,\n          cell: cell,\n          selected: selected,\n          editing: editing,\n          updated: updated,\n          attributesRenderer: attributesRenderer,\n          className: className,\n          style: widthStyle(cell),\n          onMouseDown: this.handleMouseDown,\n          onMouseOver: this.handleMouseOver,\n          onDoubleClick: this.handleDoubleClick,\n          onContextMenu: this.handleContextMenu,\n          onKeyUp: onKeyUp\n        },\n        content\n      );\n    }\n  }]);\n\n  return DataCell;\n}(_react.PureComponent);\n\nexports.default = DataCell;\n\n\nDataCell.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default).isRequired,\n  forceEdit: _propTypes2.default.bool,\n  selected: _propTypes2.default.bool,\n  editing: _propTypes2.default.bool,\n  clearing: _propTypes2.default.bool,\n  cellRenderer: _propTypes2.default.func,\n  valueRenderer: _propTypes2.default.func.isRequired,\n  dataRenderer: _propTypes2.default.func,\n  valueViewer: _propTypes2.default.func,\n  dataEditor: _propTypes2.default.func,\n  attributesRenderer: _propTypes2.default.func,\n  onNavigate: _propTypes2.default.func.isRequired,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onMouseOver: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  onRevert: _propTypes2.default.func.isRequired\n};\n\nDataCell.defaultProps = {\n  forceEdit: false,\n  selected: false,\n  editing: false,\n  clearing: false,\n  cellRenderer: _Cell2.default\n};"],"sourceRoot":""}