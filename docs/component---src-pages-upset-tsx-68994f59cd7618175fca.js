(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{VBCG:function(e,t,n){"use strict";n.r(t);n("ZJU2");var a=n("q1tI"),i=n.n(a),r=n("ofer"),o=n("tRbT"),l=n("30+C"),c=n("oa/T"),s=(n("E9XD"),n("0YW8")),d=n("pBfT"),u=n("bzer"),h=n("UBVB"),m=n("ress"),f=n("t6b9"),b=n("RuFW"),p=n("1pFL");function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var y=function(e){var t=e.data,n=e.left,a=e.width,r=e.top,o=(e.height,e.radius),l=e.colors,c=void 0===l?{active:"#000",inactive:"#eee"}:l,d=e.setBandScale,u=Array.from(t.reduce((function(e,t){return x(new Set(t.keys),e)}),new Set)),m=u.map((function(e){return Number(d(e))+d.bandwidth()/2})),f=t.map((function(e){return e.keys.join(" & ")})),p=Object(s.a)().domain(f).rangeRound([0,a]).paddingInner(Object(b.e)(h.c)).paddingOuter(Object(b.f)(h.c)).align(.5);return i.a.createElement("g",{transform:"translate("+n+","+r+")"},t.map((function(e){var t,n=Number(p(e.keys.join(" & ")))+p.bandwidth()/2,a=u.map((function(t){return e.keys.includes(t)})),r=a.reduce((function(e,t,n){return t?(0===e.length?e[0]=m[n]:e[1]=m[n],e):e}),[]);return i.a.createElement("g",{key:e.keys.join("."),transform:"translate("+n+", 0)"},i.a.createElement("line",{x1:"0",y1:r[0],x2:"0",y2:null!==(t=r[1])&&void 0!==t?t:r[0],stroke:c.active}),u.map((function(e,t){return i.a.createElement("circle",{key:e,cy:m[t],cx:0*t,r:o,fill:a[t]?c.active:c.inactive})})))})))},S=function(e){var t=e.LabelComponent,n=e.colorScheme,r=e.width,o=e.height,l=e.left,c=e.top,s=e.data,d=e.axisSpace,m=Object(a.useMemo)((function(){return s.map((function(e){return e.keys.join(" & ")}))}),[s]),b=Object(a.useMemo)((function(){return[{label:"segments",data:s.map((function(e){return e.value}))}]}),[s]),v=Object(p.a)({groupLayout:f.b.GROUPED,bins:m,values:b});return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.b,{bins:m,colorScheme:n,direction:h.a.VERTICAL,domain:v,showLabels:[!0],groupLayout:f.b.GROUPED,height:o,LabelComponent:t,left:(null!=l?l:0)+d,top:c,padding:h.c,values:b,width:r-d}),i.a.createElement(u.g,{width:20,height:o,label:"intersection size",top:c,left:l,scale:"linear",values:void 0,domain:v}))},w=function(e){var t=e.width,n=e.height,r=e.colorScheme,o=e.LabelComponent,l=e.data,c=e.top,s=e.axisSpace,d=e.axisWidth,m=e.textFill,b=void 0===m?"#a9a9a9":m,v=e.setBandScale,g=e.bins,y=e.label,S=Object(a.useMemo)((function(){var e=new Array(g.length).fill(0);return[{label:"tets",data:l.reduce((function(e,t){return t.keys.forEach((function(n){var a=g.findIndex((function(e){return e===n}));e[a]=e[a]+t.value})),e}),e)}]}),[l,g]),w=Object(p.a)({groupLayout:f.b.GROUPED,bins:g.reverse(),values:S});return i.a.createElement("g",{transform:"translate(0,"+c+")"},i.a.createElement(u.b,{bins:g,colorScheme:r,direction:h.a.HORIZONTAL,domain:w,groupLayout:f.b.GROUPED,height:n-s,LabelComponent:o,inverse:!0,showLabels:[!0],padding:h.c,values:S,width:t}),g.map((function(e){return i.a.createElement("text",{key:e,x:(null!=d?d:0)+t,fontSize:"12px",textAnchor:"end",fill:b,y:Number(v(e))+v.bandwidth()/2},e)})),i.a.createElement(u.f,{width:t,height:20,label:"Set size",top:n-s,scale:"linear",values:void 0,inverse:!0,domain:w}),i.a.createElement("text",{x:t/2,textAnchor:"middle",fontSize:"12px",fill:b,y:n},y))};function x(){for(var e=new Set,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var i=0,r=n;i<r.length;i++)for(var o,l=r[i],c=v(l);!(o=c()).done;){var s=o.value;e.add(s)}return e}var E=function(e){var t,n,r=e.data,o=e.width,l=e.height,c=e.setSize,u=void 0===c?{dimensions:{chartWidth:100,axisWidth:100,height:200},colorScheme:[d.a[0]]}:c,f=e.axisSpace,p=void 0===f?30:f,v=e.textFill,g=void 0===v?"#a9a9a9":v,E=e.radius,O=void 0===E?7:E,j=e.distribution,k=void 0===j?{colorScheme:[d.a[1]],fill:{active:d.a[1],inactive:"#eee"},label:"Intersection size"}:j,A=e.title,L=e.description,C=u.dimensions.chartWidth+u.dimensions.axisWidth,W=l-u.dimensions.height,z=Object(a.useMemo)((function(){return Array.from(r.reduce((function(e,t){return x(new Set(t.keys),e)}),new Set))}),[r]),B=Object(s.a)().domain(z).rangeRound([0,u.dimensions.height-p-p]).paddingInner(Object(b.e)(h.c)).paddingOuter(Object(b.f)(h.c)).align(.5);return i.a.createElement(m.a,{width:o,title:A,description:L,height:l},i.a.createElement("text",{textAnchor:"middle",fill:g,fontSize:"12px",style:{border:"1px solid red"},transform:"translate("+(C-20)+", "+(W-W/2)+") rotate(270)"},null!==(t=k.label)&&void 0!==t?t:"Intersection size"),i.a.createElement(w,{width:u.dimensions.chartWidth,axisWidth:u.dimensions.axisWidth,height:u.dimensions.height-p,top:l-u.dimensions.height+p,colorScheme:u.colorScheme,data:r,axisSpace:p,textFill:g,setBandScale:B,bins:z,label:null!==(n=u.label)&&void 0!==n?n:"Set size"}),i.a.createElement(S,{width:o-C,height:l-u.dimensions.height,colorScheme:k.colorScheme,left:C,data:r,axisSpace:p,textFill:g}),i.a.createElement(y,{data:r,left:C+p,radius:O,colors:k.fill,width:o-C-p,height:u.dimensions.height-p,top:l-u.dimensions.height+p,setBandScale:B}))},O=n("9Dj+"),j=n("H8eV"),k=[{keys:["Another label"],value:10},{keys:["Another label","B"],value:14},{keys:["Another label","B","C"],value:1},{keys:["B"],value:10},{keys:["Another label","C"],value:14},{keys:["C"],value:12}];t.default=function(){return i.a.createElement(O.a,null,i.a.createElement(j.a,{title:"Line Chart",description:""}),i.a.createElement(r.a,{variant:"h2"},"Upset"),i.a.createElement("div",null,i.a.createElement(o.a,{container:!0,spacing:10},i.a.createElement(o.a,{item:!0,xs:6},i.a.createElement(l.a,null,i.a.createElement(c.a,null,i.a.createElement(E,{title:"example upset chart",description:"more info for accessibility",width:600,height:400,distribution:{colorScheme:["rgb(154, 187, 218)"],fill:{active:"rgb(154, 187, 218)",inactive:"#ddd"}},setSize:{dimensions:{chartWidth:100,axisWidth:120,height:150},colorScheme:["rgb(154, 218, 172)"]},data:k})))))))}},ZJU2:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-upset-tsx-68994f59cd7618175fca.js.map