(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{441:function(t,e,a){"use strict";a.r(e);a(19);var n=a(0),r=a.n(n),i=a(425),o=a(458),c=a(456),l=a(457),s=a(433),u=(a(3),a(4),a(2),a(12),a(30)),d=a.n(u),h=(a(48),a(76),a(44),a(37),a(161),a(56),a(10),a(17),a(26)),b=a(460),f=a(459),p=a(190),m=a(50),g=a.n(m),v=a(52),y=a(11),x=a(16),O=a(31),j=a(45),w=a(54),E=a(21),M=a(27),C=a(80),L=a(36);function A(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(){var t,e,a,n,r,i,o,c,l,s,u=Object(b.a)(),d=Object(f.a)(),m=Object(f.a)(),N={axis:E.a,bar:{groupMargin:.1,margin:10,overlayMargin:5},className:"torando-d3",colorScheme:v.a,center:!0,data:{bins:[],colorScheme:[],counts:[]},delay:0,domain:{max:null,min:null},duration:400,grid:E.b,groupLayout:O.b.GROUPED,height:200,margin:{bottom:0,left:5,right:0,top:5},splitBins:["Left","Right"],stroke:{color:"#005870",dasharray:"",linecap:"butt",width:0},tip:j.a,tipContainer:"body",tipContentFn:function(t,e,a){return t[e]+"<br />"+a},visible:{},width:200};return{create:function(r,s){void 0===s&&(s={}),g()(N,s),t=Object(L.c)(r,t);var u=N.margin,d=N.width,h=N.height,b=N.className;Object(L.d)(t,{margin:u,width:d,height:h,className:b});var f=Object(j.b)(N.tipContainer,e);a=f.tipContent,e=f.tipContainer;var p=Object(L.a)(t);p[0],p[1];var m=Object(L.b)(t);o=m[0],i=m[1],m[2],l=m[3],c=t.append("g").attr("class","xAxisContainer2"),n=t.append("g").attr("class","histogram-container"),this.update(r,s)},drawAxes:function(){var e=N.bar,a=N.data,n=N.groupLayout,r=N.margin,l=N.width,b=N.height,p=N.axis,g=a.counts.reduce((function(t,e){return e.data.length>t?e.data.length:t}),0),v=(Object(x.d)(N),Object(x.c)(N)-20),O=a.counts.map((function(t){return t.label}));d.domain(a.bins).rangeRound([v,0]).paddingInner(Object(w.d)(e)),m.domain(Object(w.c)({groupLayout:n})?["main"]:O).rangeRound([0,d.bandwidth()]).paddingInner(Object(w.a)(N.bar));var j=Object(h.a)(u).tickFormat((function(t){return t.toString().replace("-","")})),E=Object(h.b)(d);this.calculateDomain();var C=Object(f.b)(),L=Object(h.a)(C).tickPadding(20).tickSize(0);C.range([Number(l)/4,.75*Number(l)-2*r.top-p.y.width]).domain(N.splitBins),Object(M.e)({axis:E,valuesCount:g,axisLength:v,axisConfig:p.y,scaleBand:d,limitByValues:!0}),i.attr("transform","translate("+Object(x.f)(p)+", "+r.top+" )").call(E),u.range([0,Number(l)-2*r.top-p.y.width]).domain(s).nice();var A=b-Object(x.e)(N.axis)-r.top-20;o.attr("transform","translate("+Object(x.f)(p)+","+A+")").call(j),c.attr("transform","translate("+Object(x.f)(p)+","+A+")").call(L),Object(y.a)(t.selectAll(".y-axis .domain, .y-axis .tick line"),p.y.style),Object(y.a)(t.selectAll(".y-axis .tick text"),p.y.text.style),Object(y.a)(t.selectAll(".x-axis .domain, .x-axis .tick line"),p.x.style),Object(y.a)(t.selectAll(".x-axis .tick text"),p.x.text.style)},calculateDomain:function(){var t=N.data,e=N.center,a=t.counts.reduce((function(t,e){return t.concat(e.data[0])}),[]),n=t.counts.reduce((function(t,e){return t.concat(e.data[1])}),[]);if(s=[-Math.max.apply(Math,A(a)),Math.max.apply(Math,A(n))],e){var r=Math.max(Math.max.apply(Math,A(a)),s[1]);s=[-r,r]}return s},updateChart:function(t,r){var i=N.axis,o=N.height,c=N.margin,s=N.delay,h=N.duration,b=N.tip,f=N.groupLayout,g=function(t,e){var a=(r.find((function(e){return void 0!==e.find((function(e){return e.label===t.label}))}))||[]).filter((function(t,a){return a<e})).reduce((function(t,e){return t+e.value}),0),n=(Object(M.b)({groupLayout:f}),"left"===t.side?-t.value:t.value);return u(Math.min(0,n))},v=Object(p.a)(N.colorScheme),y=Object(x.d)(N),j=n.selectAll("g").data(r),E=j.enter().append("g").merge(j).attr("transform",(function(t){var e=d(t[0].label);return void 0===e&&(e=0),"translate("+(Object(x.f)(i)+i.x.style["stroke-width"])+", "+(c.top+e)+")"})).selectAll("rect").data((function(t){return t}));E.enter().append("rect").attr("width",0).attr("x",g).attr("class",(function(t){return"bar "+t.side})).on("click",Object(C.a)(N.onClick)).on("mouseover",Object(C.c)({bins:t,hover:N.bar.hover,colors:v,tipContentFn:N.tipContentFn,tipContent:a,tip:b,tipContainer:e})).on("mousemove",(function(){return b.fx.move(e)})).on("mouseout",Object(C.b)({tip:b,tipContainer:e,colors:v})).merge(E).attr("y",(function(t,e){return N.groupLayout===O.b.OVERLAID?Math.floor(e/2)*N.bar.overlayMargin:Number(m(String(t.groupLabel)))})).attr("height",(function(t,e){return Object(w.b)(Math.floor(e/2),N.groupLayout,N.bar,m)})).attr("fill",(function(t,e){return v(String(t.groupLabel))})).transition().duration(h).delay(s).attr("x",g).attr("stroke-dasharray",(function(t,e){var a=y-u(t.value),n=Object(w.b)(e,N.groupLayout,N.bar,m);return n+" 0 "+a+" "+n})).attr("width",(function(t){var e="left"===t.side?-t.value:t.value;return Math.abs(u(e)-u(0))})),E.exit().remove(),j.exit().remove();var L=l.selectAll("text").data([i.y.label]);L.enter().append("text").attr("class","y-axis-label").merge(L).attr("transform","translate("+Number(o)/2+" ,"+(o-Object(x.f)(N.axis)-2*c.left+i.x.margin)+")").style("text-anchor","middle").text((function(t){return t}));var A=l.selectAll("text").data([i.x.label]);A.enter().append("text").attr("class","x-axis-label").merge(A).attr("transform","rotate(-90)").attr("y",0).attr("x",0-(y/2-2*c.top)).attr("dy","1em").style("text-anchor","middle").text((function(t){return t}))},update:function(e,a){if(N.data&&(g()(N,a),N.data.bins)){var n=N.margin,i=N.width,o=N.height,c=N.className,l=N.data,s=N.visible;Object(L.d)(t,{margin:n,width:i,height:o,className:c}),r=[],l.counts.forEach((function(t){t.data.forEach((function(e,a){e.forEach((function(e,n){r[n]||(r[n]=[]),r[n].push({side:0===a?"left":"right",groupLabel:t.label,colorRef:t.label,label:l.bins[n],value:!1!==s[l.bins[n]]&&!1!==s[t.label]?e:0})}))}))})),this.drawAxes(),this.updateChart(l.bins,r)}},destroy:function(e){t.selectAll("svg > *").remove()}}};var k=function(t){var e,a;function n(e){var a;return(a=t.call(this,e)||this).ref=null,a.chart=N(),a.state={parentWidth:300},a}a=t,(e=n).prototype=Object.create(a.prototype),e.prototype.constructor=e,e.__proto__=a;var i=n.prototype;return i.handleResize=function(){var t=this,e=this.getDOMNode();if(e){var a=this.ref&&this.ref.offsetWidth?this.ref.offsetWidth:0;this.setState({parentWidth:a},(function(){return t.chart.update(e,t.getChartState())}))}},i.componentDidMount=function(){var t=this,e=this.getDOMNode();e&&(this.chart.create(e,this.getChartState()),"100%"===this.props.width&&(window.addEventListener("resize",(function(e){return t.handleResize()})),this.handleResize()))},i.componentDidUpdate=function(){var t=this.getDOMNode();t&&this.chart.update(t,this.getChartState())},i.getChartState=function(){var t=this.props.width,e=this.props,a=(e.children,function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(e,["children"]));return"100%"===t&&(t=this.state.parentWidth||300),Object.assign({},a,{width:t})},i.componentWillUnmount=function(){var t=this.getDOMNode();t&&("100%"===this.props.width&&window.removeEventListener("resize",this.handleResize),this.chart.destroy(t))},i.getDOMNode=function(){var t=d.a.findDOMNode(this.ref);if(t instanceof HTMLElement)return t},i.render=function(){var t=this;return r.a.createElement("div",{ref:function(e){return t.ref=e},className:"tornado-chart-container"})},n}(n.Component),S=a(432),D=a(430),R=a(429),z=a(431),B={data:{bins:["0 - 10","11 - 20"],counts:[{label:"Background",data:[[5,100],[10,20]]},{label:"Foreground",data:[[2,1],[5,3]]}]},axis:z.a,splitBins:["Male","Female"],bar:{overlayMargin:10,hover:{lighten:.1}},center:!0,delay:0,duration:400,grid:z.d,groupLayout:s.a.OVERLAID};function F(t,e){return t}e.default=function(){var t=Object(n.useReducer)(F,B),e=t[0],a=(t[1],r.a.createElement(k,Object.assign({},B,{data:e.data,width:"100%"})));return r.a.createElement(D.a,null,r.a.createElement(R.a,{title:"Line Chart",description:""}),r.a.createElement(i.a,{variant:"h2"},"Tornado Chart"),r.a.createElement("div",null,r.a.createElement(o.a,{container:!0,spacing:10},r.a.createElement(o.a,{item:!0,xs:6},r.a.createElement(c.a,null,r.a.createElement(l.a,null,a)),r.a.createElement("br",null),r.a.createElement(c.a,null,r.a.createElement(l.a,null,r.a.createElement(S.a,{component:a})))),r.a.createElement(o.a,{item:!0,xs:6}))))}}}]);
//# sourceMappingURL=component---src-pages-tornado-tsx-e681c6990b3fe8b34e39.js.map