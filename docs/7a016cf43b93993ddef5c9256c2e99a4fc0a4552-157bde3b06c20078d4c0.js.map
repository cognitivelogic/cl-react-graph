{"version":3,"sources":["webpack:///../node_modules/lodash/_copySymbols.js","webpack:///../node_modules/lodash/_baseClone.js","webpack:///../node_modules/lodash/_arrayFilter.js","webpack:///../node_modules/lodash/_getAllKeys.js","webpack:///../node_modules/d3-shape/src/curve/radial.js","webpack:///../node_modules/d3-shape/src/lineRadial.js","webpack:///../src/components/Web.tsx","webpack:///../node_modules/lodash/_initCloneArray.js","webpack:///../node_modules/lodash/_cloneDataView.js","webpack:///../node_modules/lodash/_baseGetAllKeys.js","webpack:///../node_modules/lodash/_cloneRegExp.js","webpack:///../node_modules/lodash/_baseAssignIn.js","webpack:///../node_modules/lodash/_getSymbolsIn.js","webpack:///../node_modules/lodash/isMap.js","webpack:///../node_modules/lodash/_copySymbolsIn.js","webpack:///../node_modules/lodash/_baseIsMap.js","webpack:///../node_modules/lodash/isSet.js","webpack:///../node_modules/lodash/stubArray.js","webpack:///../src/JoyPlot.tsx","webpack:///../src/utils/useJoyPlot.ts","webpack:///../node_modules/lodash/_cloneSymbol.js","webpack:///../node_modules/lodash/_baseKeys.js","webpack:///../node_modules/lodash/_nativeKeys.js","webpack:///../src/RadarChart.tsx","webpack:///../src/Tornado.tsx","webpack:///../src/UpsetChart.tsx","webpack:///../node_modules/lodash/_DataView.js","webpack:///../src/ScatterPlot.tsx","webpack:///../node_modules/lodash/_arrayEach.js","webpack:///../node_modules/d3-timer/src/timer.js","webpack:///../node_modules/d3-timer/src/timeout.js","webpack:///../node_modules/d3-transition/src/transition/schedule.js","webpack:///../node_modules/d3-transition/src/interrupt.js","webpack:///../node_modules/d3-transition/src/transition/tween.js","webpack:///../node_modules/d3-transition/src/transition/interpolate.js","webpack:///../node_modules/d3-transition/src/transition/attr.js","webpack:///../node_modules/d3-transition/src/transition/attrTween.js","webpack:///../node_modules/d3-transition/src/transition/delay.js","webpack:///../node_modules/d3-transition/src/transition/duration.js","webpack:///../node_modules/d3-transition/src/transition/ease.js","webpack:///../node_modules/d3-transition/src/transition/on.js","webpack:///../node_modules/d3-transition/src/transition/remove.js","webpack:///../node_modules/d3-transition/src/transition/selection.js","webpack:///../node_modules/d3-transition/src/transition/style.js","webpack:///../node_modules/d3-transition/src/transition/styleTween.js","webpack:///../node_modules/d3-transition/src/transition/textTween.js","webpack:///../node_modules/d3-transition/src/transition/index.js","webpack:///../node_modules/d3-transition/src/transition/select.js","webpack:///../node_modules/d3-transition/src/transition/selectAll.js","webpack:///../node_modules/d3-transition/src/transition/filter.js","webpack:///../node_modules/d3-transition/src/transition/merge.js","webpack:///../node_modules/d3-transition/src/transition/transition.js","webpack:///../node_modules/d3-transition/src/transition/text.js","webpack:///../node_modules/d3-transition/src/transition/end.js","webpack:///../node_modules/d3-transition/src/selection/transition.js","webpack:///../node_modules/d3-ease/src/cubic.js","webpack:///../node_modules/d3-transition/src/selection/index.js","webpack:///../node_modules/d3-transition/src/selection/interrupt.js","webpack:///../node_modules/d3-transition/src/active.js","webpack:///../node_modules/d3-shape/src/descending.js","webpack:///../node_modules/d3-shape/src/identity.js","webpack:///../src/tip.ts","webpack:///../src/utils/mouseOver.ts","webpack:///../src/legacy/PieChartD3.ts","webpack:///../node_modules/d3-shape/src/pie.js","webpack:///../src/legacy/PieChart.tsx","webpack:///../node_modules/lodash/_Set.js","webpack:///../src/components/Path.tsx","webpack:///../node_modules/lodash/_WeakMap.js","webpack:///../node_modules/lodash/_arrayPush.js","webpack:///../node_modules/lodash/keys.js","webpack:///../node_modules/lodash/_initCloneByTag.js","webpack:///../src/colors/index.js","webpack:///../node_modules/lodash/_Promise.js","webpack:///../node_modules/lodash/_getTag.js","webpack:///../src/Legend.tsx","webpack:///../node_modules/lodash/_getSymbols.js","webpack:///../node_modules/lodash/_baseAssign.js","webpack:///../node_modules/lodash/cloneDeep.js","webpack:///../node_modules/lodash/_getAllKeysIn.js","webpack:///../node_modules/lodash/_baseIsSet.js"],"names":["copyObject","getSymbols","module","exports","source","object","Stack","arrayEach","assignValue","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","getTag","initCloneArray","initCloneByTag","initCloneObject","isArray","isBuffer","isMap","isObject","isSet","keys","keysIn","cloneableTags","baseClone","value","bitmask","customizer","key","stack","result","isDeep","isFlat","isFull","undefined","isArr","tag","isFunc","stacked","get","set","forEach","subValue","add","props","array","predicate","index","length","resIndex","baseGetAllKeys","curveRadialLinear","curveRadial","Radial","curve","this","_curve","radial","context","prototype","areaStart","areaEnd","lineStart","lineEnd","point","a","r","Math","sin","cos","l","line","c","angle","x","radius","y","_","arguments","degToRadians","degree","PI","polar2cart","buildRadial","labels","braids","map","i","push","lineRadial","Web","axis","ticks","center","min","Array","fill","transform","d","stroke","strokeWidth","label","id","replace","data-testid","hasOwnProperty","Object","constructor","call","input","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","arrayPush","keysFunc","symbolsFunc","reFlags","regexp","exec","lastIndex","getPrototype","stubArray","getSymbolsIn","getOwnPropertySymbols","baseIsMap","baseUnary","nodeUtil","nodeIsMap","isObjectLike","baseIsSet","nodeIsSet","JoyPlot","axisLabelFormat","colorScheme","data","direction","EChartDirection","VERTICAL","height","tip","width","xAxisHeight","padding","defaultPadding","yAxisWidth","titleHeight","titleLayout","ELabelOrientation","HORIZONTAL","clampToZero","chartHeight","useState","bins","setBins","domain","setDomain","values","setValues","useEffect","allBins","reduce","p","n","from","Set","allValues","counts","count","countIndex","allBinIndex","findIndex","b","eachValue","prev","next","e","extent","useJoyPlot","plotHeight","Base","top","xWidth","Number","title","defaultTickFormat","fontSize","fontWeight","String","YAxis","scale","labelFormat","path","opacity","labelOrientation","tickFormat","XAxis","left","Bars","groupLayout","EGroupedBarLayout","STACKED","Symbol","symbolProto","symbolValueOf","valueOf","symbol","isPrototype","nativeKeys","overArg","RadarChart","schemeSet3","points","concat","axes","includes","ext","pointsData","datum","Scale","scaleLinear","rangeRound","labelIndex","buildArea","isOver","setIsOver","labelId","onMouseEnter","onMouseLeave","ptns","j","pointStyle","defaultPointStyle","cx","cy","PointComponent","z","showTitle","Tornado","GROUPED","splitBins","visible","splitAxisHeight","chartPadding","showBinPercentages","calculateDomain","baseProps","dataSets","genderIndex","aValue","rowIndex","side","groupLabel","colorRef","reverse","right","barWidth","barHeight","inverse","showLabels","tickSize","leftValues","rightValues","applyDomainAffordance","max","ActiveCircles","colors","active","inactive","setBandScale","union","yPoints","bin","bandwidth","join","bandScale","scaleBand","paddingInner","paddingOuter","align","bounds","x1","y1","x2","y2","DistributionBars","LabelComponent","axisSpace","useMemo","useHistogramDomain","SetSizeBars","axisWidth","textFill","empty","className","textAnchor","iterables","iterable","item","UpsetChart","setSize","dimensions","chartWidth","distribution","description","h","style","border","DataView","getNative","ScatterPlot","grid","useScatterDomain","svgProps","lines","vertical","horizontal","show","floor","iteratee","taskHead","taskTail","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","bind","f","setTimeout","clearNow","Timer","_call","_time","_next","timer","callback","delay","time","t","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","stop","elapsed","emptyOn","emptyTween","schedules","node","__transition","self","tween","start","o","state","name","on","__data__","group","tick","duration","ease","timing","init","schedule","Error","tweenRemove","tween0","tween1","slice","splice","tweenFunction","tweenValue","transition","_id","each","apply","color","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","space","local","attrConstant","interpolate","value1","string00","interpolate0","string1","string0","getAttribute","attrConstantNS","getAttributeNS","attrFunction","string10","attrFunctionNS","attrInterpolate","setAttribute","attrInterpolateNS","setAttributeNS","attrTweenNS","i0","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","listener","on0","on1","sit","trim","split","every","indexOf","copy","Selection","selection","styleRemove","removeProperty","styleInterpolate","priority","setProperty","styleTween","textInterpolate","textContent","textTween","Transition","groups","parents","_groups","_parents","_name","newId","selection_prototype","select","m","subgroups","subnode","subgroup","selectAll","selectorAll","child","children","inherit","k","filter","match","matcher","merge","groups0","groups1","m0","m1","merges","group0","group1","id0","id1","nodes","size","attr","namespace","styleNull","styleFunction","listener0","remove","event","styleMaybeRemove","styleConstant","text","textFunction","textConstant","parent","parentNode","removeChild","end","that","Promise","resolve","reject","cancel","interrupt","defaultTiming","NaN","fx","in","container","pageX","pageY","move","out","onMouseOut","tipContainer","thisPie","identity","sortValues","descending","sort","startAngle","constant","endAngle","padAngle","pie","a1","v","sum","arcs","a0","da","abs","pa","outerRadius","setIndex","donutWidth","innerRadius","getArc","arc","pieChartD3","tipContent","containers","svg","previousData","storedWidth","storedHeight","backgroundColor","hover","lighten","display","displayFn","margin","bottom","tips","tipContentFn","create","el","newProps","_makeSvg","dataSet","drawChartBg","update","childNodes","getElementsByTagName","append","selector","makeTip","cloneDeep","drawCharts","theme","drawChart","drawLabels","tau","bgArc","background","enter","scaleOrdinal","s","toString","thisArc","ix","html","arcTween","exit","path2","centroid","destroy","_current","PieChart","ref","chart","parentWidth","handleResize","getDOMNode","offsetWidth","setState","getChartState","componentDidMount","addEventListener","componentDidUpdate","rest","componentWillUnmount","removeEventListener","ReactDOM","findDOMNode","Text","render","Component","Path","WeakMap","offset","arrayLikeKeys","baseKeys","isArrayLike","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","Ctor","Map","baseGetTag","toSource","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","legendIconStyle","cursor","listStyle","liStyle","alignItems","Legend","onSelect","scheme","onClick","arrayFilter","propertyIsEnumerable","nativeGetSymbols","CLONE_DEEP_FLAG"],"mappings":"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","file":"7a016cf43b93993ddef5c9256c2e99a4fc0a4552-157bde3b06c20078d4c0.js","sourcesContent":["var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","import curveLinear from \"./linear.js\";\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function areaStart() {\n    this._curve.areaStart();\n  },\n  areaEnd: function areaEnd() {\n    this._curve.areaEnd();\n  },\n  lineStart: function lineStart() {\n    this._curve.lineStart();\n  },\n  lineEnd: function lineEnd() {\n    this._curve.lineEnd();\n  },\n  point: function point(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\nexport default function curveRadial(curve) {\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n  return radial;\n}","import curveRadial, { curveRadialLinear } from \"./curve/radial.js\";\nimport line from \"./line.js\";\nexport function lineRadial(l) {\n  var c = l.curve;\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function (_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\nexport default function () {\n  return lineRadial(line().curve(curveRadialLinear));\n}","import { lineRadial } from 'd3-shape';\nimport React, { FC } from 'react';\n\ninterface IProps {\n  axis?: {\n    stroke?: string;\n    strokeWidth?: number;\n  }\n  labels: string[];\n  /** @description The number of radial lines to render */\n  ticks?: number;\n  center: [number, number];\n  radial?: {\n    stroke?: string;\n    strokeWidth?: number;\n  }\n\n}\n\nconst degToRadians = (degree: number) => (Math.PI * 2 * degree / 360);\n\nexport const polar2cart = (degree: number, radius: number): [number, number] => {\n  const a = degToRadians(degree);\n  return [Math.sin(a) * radius, -Math.cos(a) * radius];\n}\n\n/**\n * @description radial lines are the lighter lines joining the axes together.\n */\nconst buildRadial = (labels: string[], radius: number) => {\n  const angle = 360 / labels.length;\n  const braids: [number, number][] = labels.map((_, i) => [degToRadians(angle) * i, radius]);\n  // Join up the braid to the start.\n  braids.push(braids[0]);\n  return lineRadial()(braids) ?? '';\n}\n\nconst Web: FC<IProps> = ({\n  axis,\n  ticks = 7,\n  labels,\n  center,\n  radial,\n}) => {\n  const radius = Math.min(...center);\n  const angle = 360 / labels.length;\n\n  return (\n    <>\n      {\n        Array(ticks).fill('').map((_, i) => <path\n          key={`radial-${i}`}\n          transform={`translate(${center[0]} ${center[1]})`}\n          d={buildRadial(labels, (radius / (ticks + 1)) * (i + 1))}\n          stroke={radial?.stroke ?? '#eee'}\n          fill=\"none\"\n          strokeWidth={radial?.strokeWidth ?? '1'}\n        />)\n      }\n      {\n        labels.map((label, i) => {\n          const c = polar2cart(angle * i, radius + 15);\n          const id = `axis-${label.replace(/[^a-z]/gi, '')}`;\n          return <g key={id}>\n            <path\n              data-testid={id}\n              id={id}\n              transform={`rotate(${angle * i} ${center[0]} ${center[1]})`}\n              d={`M${center[0]},${center[1]} L${radius},0`}\n              stroke={axis?.stroke ?? '#AAA'}\n              fill=\"none\"\n              strokeWidth={axis?.strokeWidth ?? '1'}\n            > </path>\n            <text x={center[0] + c[0]}\n              y={center[1] + c[1]}>\n              {label}\n            </text>\n          </g>\n        })\n      }\n    </>\n  )\n}\n\n\nexport default Web;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","import React, { FC } from 'react';\n\nimport { EChartDirection } from './BarChart';\nimport Bars, { defaultPadding } from './components/Bars/Bars';\nimport Base from './components/Base';\nimport { TTipFunc } from './components/ToolTip';\nimport XAxis from './components/XAxis';\nimport YAxis, {\n  defaultTickFormat,\n  ELabelOrientation,\n  TAxisLabelFormat,\n} from './components/YAxis';\nimport {\n  EGroupedBarLayout,\n  IBarChartData,\n  IHistogramBar,\n} from './Histogram';\nimport { useJoyPlot } from './utils/useJoyPlot';\n\nexport interface IProps {\n  axisLabelFormat?: TAxisLabelFormat;\n  colorScheme?: string[];\n  data: IBarChartData[];\n  direction?: EChartDirection;\n  height: number;\n  padding?: IHistogramBar;\n  tip?: TTipFunc;\n  width: number;\n  xAxisHeight?: number;\n  yAxisWidth?: number;\n  titleHeight?: number;\n  titleLayout?: ELabelOrientation;\n}\n\n/**\n * JoyPlot component\n */\nconst JoyPlot: FC<IProps> = ({\n  axisLabelFormat,\n  colorScheme,\n  data,\n  direction = EChartDirection.VERTICAL,\n  height,\n  tip,\n  width,\n  xAxisHeight,\n  padding = defaultPadding,\n  yAxisWidth,\n  titleHeight = 40,\n  titleLayout = ELabelOrientation.HORIZONTAL,\n}) => {\n  const {\n    chartHeight,\n    bins,\n    domain,\n    values\n  } = useJoyPlot({\n    data,\n    height,\n  })\n  if (!yAxisWidth) {\n    yAxisWidth = direction === EChartDirection.VERTICAL ? 40 : 100;\n  }\n  if (!xAxisHeight) {\n    xAxisHeight = direction === EChartDirection.VERTICAL ? 100 : 40;\n  }\n\n  const plotHeight = titleLayout === ELabelOrientation.HORIZONTAL\n    ? chartHeight - xAxisHeight - titleHeight\n    : chartHeight - xAxisHeight;\n\n\n  return (\n    <Base\n      width={width}\n      height={height}>\n\n      {\n        values.map((d, i) => {\n          const top = titleLayout === ELabelOrientation.HORIZONTAL\n            ? (chartHeight * i) + titleHeight\n            : (chartHeight * i);\n          const xWidth = width - Number(yAxisWidth);\n          return (<g key={`plot-${d.title}`}>\n            {\n              titleLayout === ELabelOrientation.HORIZONTAL\n                ? <g\n                  transform={`translate(${yAxisWidth}, ${(chartHeight * i) + (titleHeight / 2)})`}\n                  height={titleHeight}\n                  width={xWidth}\n                ><text\n                  fill={defaultTickFormat.stroke}\n                  fontSize=\"12px\"\n                  fontWeight=\"bold\"\n                  width={xWidth}\n\n                >{String(d.title)}\n                  </text>\n                </g>\n                :\n                <YAxis\n                  width={0}\n                  height={plotHeight}\n                  scale=\"band\"\n                  top={chartHeight * i}\n                  labelFormat={axisLabelFormat}\n                  path={{\n                    opacity: 0,\n                  }}\n                  labelOrientation={ELabelOrientation.VERTICAL}\n                  tickFormat={{\n                    fontSize: '12px',\n                    stroke: '#333',\n                  }}\n                  values={[String(d.title)]}\n                />\n            }\n            <YAxis\n              width={Number(yAxisWidth)}\n              labelFormat={axisLabelFormat}\n              height={plotHeight}\n              top={top}\n              domain={domain}\n            />\n            <XAxis\n              width={xWidth}\n              height={Number(xAxisHeight)}\n              top={((chartHeight) * (i + 1)) - Number(xAxisHeight)}\n              left={yAxisWidth}\n              labelFormat={axisLabelFormat}\n              padding={padding}\n              values={bins} />\n\n            <Bars\n              left={yAxisWidth}\n              height={plotHeight}\n              colorScheme={colorScheme}\n              groupLayout={EGroupedBarLayout.STACKED}\n              values={values[i].counts}\n              bins={bins}\n              top={top}\n              domain={domain}\n              padding={padding}\n              direction={direction}\n              tip={tip}\n              width={xWidth}\n            />\n          </g>);\n        })}\n    </Base>\n  )\n}\nexport default JoyPlot;\n","import { extent } from 'd3-array';\nimport {\n  useEffect,\n  useState,\n} from 'react';\n\nimport { IBarChartData } from '../Histogram';\n\nexport const useJoyPlot = ({\n  data,\n  height,\n  clampToZero = true,\n}: {\n  data: IBarChartData[];\n  height: number;\n  clampToZero?: boolean;\n}) => {\n  const chartHeight = height / (data.length);\n  const [bins, setBins] = useState<string[]>([]);\n  const [domain, setDomain] = useState<[number, number]>([0, 0]);\n  const [values, setValues] = useState<IBarChartData[]>([]);\n  useEffect(() => {\n    const allBins = data.reduce((p, n) => {\n      return Array.from(new Set([...p, ...n.bins]));\n    }, [] as string[])\n    setBins(allBins);\n    const allValues: IBarChartData[] = data.map((d) => {\n      const counts = d.counts.map((count) => {\n        const data = new Array(allBins.length).fill(0);\n        count.data.forEach((c, countIndex) => {\n          const allBinIndex = allBins.findIndex((b) => b === d[countIndex]);\n          data[allBinIndex] = c;\n        });\n        return count;\n      });\n      return {\n        ...d,\n        bins: allBins,\n        counts,\n      };\n    });\n    setValues(allValues);\n\n    const eachValue = allValues.reduce((prev, next) => {\n      const values = next.counts.reduce((p, n) => [...p, ...n.data], [] as number[]);\n      return [...values, ...prev];\n    }, [] as number[]);\n    if (clampToZero) {\n      eachValue.push(0);\n    }\n    const e = extent(eachValue) as [number, number];\n    if (e[0] == e[1]) {\n      e[1]++;\n    }\n\n    setDomain(e);\n\n  }, [data])\n  return ({\n    chartHeight,\n    bins,\n    domain,\n    values\n  });\n}\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","import { extent } from 'd3-array';\nimport { scaleLinear } from 'd3-scale';\nimport { schemeSet3 } from 'd3-scale-chromatic';\nimport { line } from 'd3-shape';\nimport React, {\n  FC,\n  useState,\n} from 'react';\n\nimport Base from './components/Base';\nimport Path from './components/Path';\nimport Point, { defaultPointStyle } from './components/Point';\nimport { IPointStyle } from './components/Points';\nimport Web, { polar2cart } from './components/Web';\n\nexport interface IRadarChartData {\n  label?: string;\n  axes: {\n    axis: string,\n    value: number,\n  }[];\n}\n\nexport interface IProps {\n  /** @description Chart colour scheme */\n  colorScheme?: string[];\n  /** @description Chart height */\n  height: number;\n  /** @description Chart id */\n  id?: string;\n  /** @description Padding in pixels around the radar chat SVG elements */\n  padding?: number;\n  /** @description Chart width */\n  width: number;\n  /** @description Chart data, array of plots each one will be rendered as as filled path inside the radar */\n  data: IRadarChartData[];\n  /** @description Custom component to override the default <circle /> used to plot points */\n  points?: IPointStyle[];\n}\n\nconst buildArea = (\n  datum: IRadarChartData,\n  labels: string[],\n  center: [number, number],\n  extent: [number, number] | [undefined, undefined],\n) => {\n  const angle = 360 / labels.length;\n  const radius = Math.min(...center);\n\n  const Scale = scaleLinear()\n    .domain(extent as [number, number])\n    .rangeRound([0, radius]);\n\n  const points: [number, number][] = datum.axes.map((axis) => {\n    const labelIndex = labels.findIndex((label) => label === axis.axis);\n    return polar2cart(angle * labelIndex, Scale(axis.value) ?? 0);\n  })\n    .map((p) => [center[0] + p[0], center[1] + p[1]]);\n  return points;\n}\n\nconst RadarChart: FC<IProps> = ({\n  colorScheme = schemeSet3,\n  data,\n  height,\n  id,\n  padding = 15,\n  points = [],\n  width,\n}) => {\n\n  const allValues = data.reduce((prev, next) => prev.concat(next.axes.map((a) => a.value)), [] as number[]);\n  const labels = data.reduce((prev, next) => {\n    next.axes.forEach((a) => {\n      if (!prev.includes(a.axis)) {\n        prev.push(a.axis);\n      }\n    })\n    return prev;\n  }, [] as string[]);\n  const center: [number, number] = [(width - (padding * 2)) / 2, (height - (padding * 2)) / 2];\n\n  const ext = extent<number>(allValues);\n  const pointsData = data.map((datum) => buildArea(datum, labels, center, ext));\n  const [isOver, setIsOver] = useState<string | null>(null);\n  return (\n    <Base\n      height={height}\n      id={id}\n      width={width}\n    >\n      <Web\n        labels={labels}\n        center={center}\n      />\n      {\n        data.map((datum, i) => {\n          const labelId = (datum.label ?? '').replace(/[^a-z]/gi, '');\n          return (\n            <>\n              <Path\n                id={`area-fill-${labelId}`}\n                fill={colorScheme[i]}\n                opacity={isOver === null ? 0.5\n                  : labelId === isOver ? 1 : 0.1}\n                onMouseEnter={() => setIsOver(labelId)}\n                onMouseLeave={() => setIsOver(null)}\n                key={`area-${labelId}`}\n                d={line()(pointsData[i]) ?? ''}\n              />\n              {\n                pointsData[i].map((ptns, j) => {\n                  const pointStyle = points[i] ?? defaultPointStyle;\n                  const id = `point-${labelId}-${datum.axes[j].axis.replace(/[^a-z]/gi, '')}`;\n                  return <Point\n                    id={id}\n                    key={id}\n                    cx={ptns[0]}\n                    cy={ptns[1]}\n                    x={ptns[0]}\n                    y={ptns[1]}\n                    PointComponent={pointStyle?.PointComponent}\n                    z={pointStyle.z ?? 3}>\n                    {\n                      pointStyle?.showTitle && <title>{labelId}: {datum.axes[j].value}</title>\n                    }\n                  </Point>\n                })\n              }\n            </>\n          )\n        })\n      }\n    </Base>\n  );\n}\n\nexport default RadarChart;\n","import { schemeSet3 } from 'd3-scale-chromatic';\nimport React, { FC } from 'react';\n\nimport { EChartDirection } from './BarChart';\nimport Bars, { defaultPadding } from './components/Bars/Bars';\nimport Base from './components/Base';\nimport XAxis from './components/XAxis';\nimport YAxis from './components/YAxis';\nimport {\n  EGroupedBarLayout,\n  IBarChartDataSet,\n  IHistogramBar,\n} from './Histogram';\nimport { applyDomainAffordance } from './utils/domain';\n\nexport interface ITornadoDataSet {\n  borderColors?: string[];\n  colors?: string[];\n  label: string;\n  data: [number[], number[]];\n}\n\nexport interface ITornadoData {\n  bins: string[];\n  counts: ITornadoDataSet[];\n  colorScheme?: string[];\n  title?: string;\n}\n\nexport interface IProps {\n  /** @description bar colour scheme */\n  colorScheme?: string[];\n  data: ITornadoData;\n  direction?: EChartDirection;\n  groupLayout: EGroupedBarLayout;\n  height: number;\n  id?: string;\n  /** @description Height in px of the axis which labels the left/right values */\n  splitAxisHeight?: number;\n  /** @description labels for the left/right split axis  */\n  splitBins: [string, string];\n  visible?: Record<string, boolean>;\n  xAxisHeight?: number;\n  yAxisWidth?: number;\n  width: number;\n  /** @description Padding inside the chart svg */\n  chartPadding?: number;\n  /** @description bar chart bar padding */\n  padding?: IHistogramBar;\n  showBinPercentages: boolean;\n}\n\nconst Tornado: FC<IProps> = ({\n  colorScheme = schemeSet3,\n  data,\n  id = '',\n  direction = EChartDirection.HORIZONTAL,\n  groupLayout = EGroupedBarLayout.GROUPED,\n  height,\n  splitBins = ['Left', 'Right'],\n  width,\n  visible = {},\n  xAxisHeight,\n  splitAxisHeight,\n  yAxisWidth,\n  chartPadding = 15,\n  padding = defaultPadding,\n  showBinPercentages = false,\n}) => {\n  if (!yAxisWidth) {\n    yAxisWidth = direction === EChartDirection.VERTICAL ? 40 : 100;\n  }\n  if (!xAxisHeight) {\n    xAxisHeight = direction === EChartDirection.VERTICAL ? 100 : 40;\n  }\n  if (!splitAxisHeight) {\n    splitAxisHeight = direction === EChartDirection.VERTICAL ? 100 : 40;\n  }\n\n  const domain = calculateDomain(data, true);\n  const baseProps = {\n    width,\n    height,\n    chartPadding,\n  }\n\n  const dataSets: any[] = []\n  data.counts.forEach((count) => {\n    count.data.forEach((value, genderIndex) => {\n      value.forEach((aValue, rowIndex) => {\n        if (!dataSets[rowIndex]) {\n          dataSets[rowIndex] = [];\n        }\n        dataSets[rowIndex].push({\n          side: genderIndex === 0 ? 'left' : 'right',\n          groupLabel: count.label,\n          colorRef: count.label,\n          label: data.bins[rowIndex],\n          value: visible[data.bins[rowIndex]] !== false && visible[count.label] !== false ? aValue : 0,\n        });\n      })\n\n    });\n  });\n\n  const left: IBarChartDataSet[] = data.counts.map((counts, i) => {\n\n    return {\n      label: splitBins[0] + ' ' + counts.label,\n      data: direction === EChartDirection.HORIZONTAL\n        ? [...counts.data[0]].reverse()\n        : [...counts.data[0]],\n    }\n  })\n\n  const right: IBarChartDataSet[] = data.counts.map((counts, i) => {\n    return {\n      label: splitBins[1] + ' ' + counts.label,\n      data: direction === EChartDirection.HORIZONTAL\n        ? [...counts.data[1]].reverse()\n        : [...counts.data[1]],\n    }\n  });\n\n  const barWidth = direction === EChartDirection.VERTICAL\n    ? (width - yAxisWidth) - (chartPadding * 2)\n    : ((width - (2 * chartPadding)) - yAxisWidth) / 2;\n  const barHeight = direction === EChartDirection.VERTICAL\n    ? ((height - (2 * chartPadding)) - xAxisHeight) / 2\n    : (height - xAxisHeight - splitAxisHeight) - (chartPadding * 2);\n  return (\n    <Base {...baseProps}\n      width={width + 30}\n      id={id}\n    >\n      <Bars values={left}\n        colorScheme={colorScheme}\n        direction={direction}\n        inverse={direction !== EChartDirection.VERTICAL}\n        left={direction === EChartDirection.VERTICAL\n          ? splitAxisHeight + xAxisHeight\n          : yAxisWidth}\n        height={barHeight}\n        width={barWidth}\n        groupLayout={groupLayout}\n        bins={data.bins}\n        domain={domain}\n        id={`left-${id}`}\n        padding={padding}\n        showLabels={[showBinPercentages, showBinPercentages]}\n      />\n\n      <Bars values={right}\n        colorScheme={colorScheme}\n        direction={direction}\n        inverse={direction === EChartDirection.VERTICAL}\n        left={direction === EChartDirection.VERTICAL\n          ? splitAxisHeight + xAxisHeight\n          : (((width - (2 * chartPadding)) + yAxisWidth) / 2)}\n        height={barHeight}\n        width={barWidth}\n        groupLayout={groupLayout}\n        bins={data.bins}\n        domain={domain}\n        id={`right-${id}`}\n        top={direction === EChartDirection.HORIZONTAL ? 0 : barHeight}\n        padding={padding}\n        showLabels={[showBinPercentages, showBinPercentages]}\n      />\n\n      {\n        direction === EChartDirection.HORIZONTAL && <>\n          {\n            // Band axis (Left hand axis)\n          }\n          <YAxis\n            width={yAxisWidth}\n            height={barHeight}\n            scale=\"band\"\n            path={{ opacity: 0 }}\n            tickSize={0}\n            padding={padding}\n            values={[...data.bins].reverse()}\n          />\n          {\n            // Middle y axis\n          }\n          <YAxis\n            width={yAxisWidth}\n            height={barHeight}\n            left={barWidth}\n            labelFormat={() => ''}\n            padding={padding}\n            values={direction === EChartDirection.HORIZONTAL ? data.bins : undefined}\n            scale=\"band\"\n          />\n\n          {\n            // Bottom left values axis\n          }\n          <XAxis\n            width={barWidth}\n            inverse={true}\n            height={xAxisHeight}\n            top={barHeight}\n            left={yAxisWidth}\n            scale=\"linear\"\n            domain={domain}\n          />\n\n          {\n            // Bottom right values axis\n          }\n          <XAxis\n            width={barWidth}\n            height={xAxisHeight}\n            top={barHeight}\n            left={((width - (2 * chartPadding) + yAxisWidth) / 2)}\n            scale=\"linear\"\n            domain={domain}\n          />\n          {\n            // Bottom split bin axis (grouped labels)\n          }\n          <XAxis\n            height={splitAxisHeight}\n            left={yAxisWidth}\n            top={barHeight + splitAxisHeight}\n            width={baseProps.width - yAxisWidth}\n            values={splitBins}\n            path={{ opacity: 0 }}\n            scale='point'\n          />\n        </>\n      }\n      {\n\n        direction === EChartDirection.VERTICAL && <>\n          {\n            // Band axis (bottom axis)\n          }\n          <XAxis\n            width={barWidth}\n            height={yAxisWidth}\n            scale=\"band\"\n            padding={padding}\n            path={{ opacity: 0 }}\n            tickSize={0}\n            left={xAxisHeight + splitAxisHeight}\n            top={(barHeight * 2)}\n            values={[...data.bins]}\n          />\n\n          {\n            // Middle x axis\n          }\n          <XAxis\n            width={barWidth}\n            height={yAxisWidth}\n            left={xAxisHeight + splitAxisHeight}\n            labelFormat={() => ''}\n            values={data.bins}\n            top={(barHeight)}\n            scale=\"band\"\n            padding={padding}\n          />\n\n          {\n            // Top left values axis\n          }\n          <YAxis\n            width={xAxisHeight}\n            height={barHeight}\n            top={0}\n            left={splitAxisHeight}\n            scale=\"linear\"\n            domain={domain}\n          />\n\n          {\n            // Bottom left values axis\n          }\n          <YAxis\n            width={xAxisHeight}\n            height={barHeight}\n            inverse={true}\n            top={barHeight}\n            left={splitAxisHeight}\n            scale=\"linear\"\n            domain={domain}\n          />\n          {\n            // Left split bin axis (grouped labels)\n          }\n          <YAxis\n            height={barHeight * 2}\n            left={0}\n            width={splitAxisHeight}\n            values={splitBins}\n            path={{ opacity: 0 }}\n            scale='point'\n          />\n        </>\n      }\n\n    </Base>\n  )\n}\n\nexport default Tornado;\n\nconst calculateDomain = (data: ITornadoData, center = true) => {\n  const leftValues = data.counts.reduce((prev, next) => prev.concat(next.data[0]), [] as number[]);\n  const rightValues = data.counts.reduce((prev, next) => prev.concat(next.data[1]), [] as number[]);\n\n  // Use applyDomainAffordance to allow space for percentage labels\n  let domain = [\n    0,\n    applyDomainAffordance(Math.max(...rightValues)),\n  ];\n\n  // Center the 0 axis value in the middle of the chart\n  if (center) {\n    const max = Math.max(Math.max(...leftValues), domain[1]);\n    domain = [\n      0,\n      applyDomainAffordance(max),\n    ];\n  }\n  return domain;\n}\n","import {\n  ScaleBand,\n  scaleBand,\n} from 'd3-scale';\nimport { schemeSet3 } from 'd3-scale-chromatic';\nimport React, {\n  FC,\n  useMemo,\n} from 'react';\n\nimport {\n  Bars,\n  XAxis,\n  YAxis,\n} from './';\nimport { EChartDirection } from './BarChart';\nimport {\n  defaultPadding,\n  IProps as IBarProps,\n} from './components/Bars/Bars';\nimport Base from './components/Base';\nimport { TLabelComponent } from './components/Label';\nimport {\n  EGroupedBarLayout,\n  IBarChartDataSet,\n} from './Histogram';\nimport {\n  paddingInner,\n  paddingOuter,\n} from './utils/bars';\nimport { useHistogramDomain } from './utils/useDomain';\n\nexport type TUpsetData = { keys: string[], value: number }[];\n\ntype TBarProps = Pick<IBarProps, 'width' | 'height' | 'top' | 'left' | 'colorScheme' | 'LabelComponent'> & {\n  data: TUpsetData,\n  axisSpace: number;\n  axisWidth?: number;\n  textFill?: string;\n};\n\nexport interface IProps {\n  colorScheme?: string[];\n  data: TUpsetData;\n  height: number;\n  hoverColorScheme?: string[];\n  showLabels?: boolean[];\n  visible?: Record<string, boolean>;\n  width: number;\n  xAxisHeight?: number;\n  yAxisWidth?: number;\n  textFill?: string;\n  distribution?: {\n    colorScheme: string[];\n    fill: {\n      active: string;\n      inactive: string;\n    };\n    label?: string;\n  };\n  setSize?: {\n    dimensions: {\n      chartWidth: number;\n      axisWidth: number;\n      height: number;\n    },\n    label?: string;\n    colorScheme: string[];\n    LabelComponent?: TLabelComponent;\n  }\n  axisSpace?: number;\n  radius?: number;\n  /** @description accessible title */\n  title: string;\n  /** @description accessible description */\n  description: string;\n}\n\nconst UpsetChart: FC<IProps> = ({\n  data,\n  width,\n  height,\n  setSize = {\n    dimensions: { chartWidth: 100, axisWidth: 100, height: 200 },\n    colorScheme: [schemeSet3[0]],\n  },\n  axisSpace = 30,\n  textFill = '#a9a9a9',\n  radius = 7,\n  distribution = {\n    colorScheme: [schemeSet3[1]],\n    fill: {\n      active: schemeSet3[1],\n      inactive: '#eee',\n    },\n    label: 'Intersection size',\n  },\n  title,\n  description,\n}) => {\n\n  const left = (setSize.dimensions.chartWidth + setSize.dimensions.axisWidth);\n  const h = height - setSize.dimensions.height;\n\n  const { bins, setBandScale } = useMemo(() => {\n    const bins = Array.from(data.reduce((prev, next) => {\n      return union<string>(new Set<string>(next.keys), prev);\n    }, new Set<string>()));\n    const setBandScale = scaleBand().domain(bins as string[])\n      .rangeRound([0, setSize.dimensions.height - axisSpace - axisSpace])\n      .paddingInner(paddingInner(defaultPadding))\n      .paddingOuter(paddingOuter(defaultPadding))\n      .align(0.5);\n    return { bins, setBandScale };\n  }, [data]);\n\n  return <Base\n    width={width}\n    title={title}\n    description={description}\n    height={height}>\n\n    <text\n      textAnchor={'middle'}\n      fill={textFill}\n      fontSize=\"12px\"\n      style={{ border: '1px solid red' }}\n      transform={`translate(${left - 20}, ${h - (h / 2)}) rotate(270)`}>\n      {distribution.label ?? 'Intersection size'}\n    </text>\n    <SetSizeBars\n      width={setSize.dimensions.chartWidth}\n      axisWidth={setSize.dimensions.axisWidth}\n      height={setSize.dimensions.height - axisSpace}\n      top={height - setSize.dimensions.height + axisSpace}\n      colorScheme={setSize.colorScheme}\n      data={data}\n      axisSpace={axisSpace}\n      textFill={textFill}\n      setBandScale={setBandScale}\n      bins={bins}\n      left={0}\n      label={setSize.label ?? 'Set size'}\n    />\n\n    <DistributionBars\n      width={width - left}\n      height={height - setSize.dimensions.height}\n      colorScheme={distribution.colorScheme}\n      left={left}\n      data={data}\n      top={0}\n      axisSpace={axisSpace}\n      textFill={textFill}\n    />\n\n    <ActiveCircles\n      data={data}\n      left={left + axisSpace}\n      radius={radius}\n      colors={distribution.fill}\n      width={width - left - axisSpace}\n      height={setSize.dimensions.height - axisSpace}\n      top={height - setSize.dimensions.height + axisSpace}\n      setBandScale={setBandScale}\n    />\n  </Base>\n}\n\ninterface IActiveCirclesProps {\n  data: TUpsetData;\n  left: number;\n  width: number;\n  height: number;\n  top: number;\n  radius: number;\n  colors?: {\n    active: string;\n    inactive: string;\n  },\n  setBandScale: ScaleBand<string>\n}\n\n/**\n * Renders a grid of circles. Highlighted if the column's data contains that key\n */\nconst ActiveCircles: FC<IActiveCirclesProps> = ({\n  data,\n  left,\n  width,\n  top,\n  radius,\n  colors = {\n    active: '#000',\n    inactive: '#eee',\n  },\n  setBandScale,\n}) => {\n  const bins = Array.from(data.reduce((prev, next) => union<string>(new Set<string>(next.keys), prev), new Set<string>()));\n  const yPoints = bins.map((bin) => Number(setBandScale(bin)) + (setBandScale.bandwidth() / 2));\n  const labels = data.map((d) => d.keys.join(' & '))\n  const bandScale = scaleBand().domain(labels as string[])\n    .rangeRound([0, width])\n    .paddingInner(paddingInner(defaultPadding))\n    .paddingOuter(paddingOuter(defaultPadding))\n    .align(0.5);\n\n  return (\n    <g transform={`translate(${left},${top})`}>\n      {\n        data.map((d) => {\n          const x = Number(bandScale(d.keys.join(' & '))) + (bandScale.bandwidth() / 2);\n          const active = bins.map((bin) => d.keys.includes(bin));\n          const bounds = active.reduce((prev, next, index) => {\n            if (!next) {\n              return prev;\n            }\n            if (prev.length === 0) {\n              prev[0] = yPoints[index];\n            } else {\n              prev[1] = yPoints[index];\n            }\n            return prev;\n          }, [] as number[]);\n          return (\n            <g\n              key={d.keys.join('.')}\n              transform={`translate(${x}, 0)`}>\n              <line x1=\"0\" y1={bounds[0]} x2=\"0\" y2={bounds[1] ?? bounds[0]} stroke={colors.active} />\n              {\n                bins.map((bin, i) => {\n                  return (\n                    <circle key={bin} cy={yPoints[i]}\n                      cx={(0 * i)} r={radius} fill={active[i] ? colors.active : colors.inactive} />\n                  )\n                })\n              }\n            </g>\n          )\n        })\n      }\n    </g>\n  );\n};\n\nconst DistributionBars: FC<TBarProps> = ({\n  LabelComponent,\n  colorScheme,\n  width,\n  height,\n  left,\n  top,\n  data,\n  axisSpace,\n}) => {\n  const bins = useMemo(() => data.map((d) => d.keys.join(' & ')), [data]);\n  const values: IBarChartDataSet[] = useMemo(() => ([{\n    label: 'segments',\n    data: data.map((d) => d.value),\n  }]), [data]);\n\n  const domain = useHistogramDomain({\n    groupLayout: EGroupedBarLayout.GROUPED,\n    bins,\n    values,\n  });\n  return (\n    <>\n      <Bars\n        bins={bins}\n        colorScheme={colorScheme}\n        direction={EChartDirection.VERTICAL}\n        domain={domain}\n        showLabels={[true]}\n        groupLayout={EGroupedBarLayout.GROUPED}\n        height={height}\n        LabelComponent={LabelComponent}\n        left={(left ?? 0) + axisSpace}\n        top={top}\n        padding={defaultPadding}\n        values={values}\n        width={width - axisSpace}\n      />\n      <YAxis\n        width={20}\n        height={height}\n        label=\"intersection size\"\n        top={top}\n        left={left}\n        scale={'linear'}\n        values={undefined}\n        domain={domain}\n      />\n    </>\n  )\n}\n\n/**\n * Shows a bar chat of the accumulated total number of records in each data point.\n */\nconst SetSizeBars: FC<TBarProps & { setBandScale: ScaleBand<string>, bins: string[], label: string }> = ({\n  width,\n  height,\n  colorScheme,\n  data,\n  top,\n  axisSpace,\n  axisWidth,\n  textFill = '#a9a9a9',\n  setBandScale,\n  bins,\n  label,\n}) => {\n  const values = useMemo(() => {\n    const empty = new Array(bins.length).fill(0);\n    const counts = data.reduce((prev, next) => {\n      next.keys.forEach((key) => {\n        const index = bins.findIndex((bin) => bin === key);\n        prev[index] = prev[index] + next.value;\n      })\n      return prev;\n    }, empty);\n    const values: IBarChartDataSet[] = [{\n      label: 'tets',\n      data: counts,\n    }];\n    return values;\n  }, [data, bins]);\n\n  const domain = useHistogramDomain({\n    groupLayout: EGroupedBarLayout.GROUPED,\n    bins: bins.reverse(),\n    values,\n  });\n  return (\n    <g className=\"size-bars\" transform={`translate(${0},${top})`}>\n      <Bars\n        bins={bins}\n        colorScheme={colorScheme}\n        direction={EChartDirection.HORIZONTAL}\n        domain={domain}\n        groupLayout={EGroupedBarLayout.GROUPED}\n        height={height - axisSpace}\n        inverse={true}\n        showLabels={[true]}\n        padding={defaultPadding}\n        values={values}\n        width={width}\n      />\n      {\n        bins.map((bin) => <text\n          key={bin}\n          x={(axisWidth ?? 0) + width}\n          fontSize=\"12px\"\n          textAnchor=\"end\"\n          fill={textFill}\n          y={Number(setBandScale(bin)) + (setBandScale.bandwidth() / 2)}\n        >\n          {bin}\n        </text>)\n      }\n      <XAxis\n        width={width}\n        height={20}\n        label=\"Set size\"\n        top={height - axisSpace}\n        scale=\"linear\"\n        values={undefined}\n        inverse={true}\n        domain={domain}\n      />\n      <text\n        x={width / 2}\n        textAnchor=\"middle\"\n        fontSize=\"12px\"\n        fill={textFill}\n        y={height}>{label}\n      </text>\n    </g>\n  )\n}\n\n\nfunction union<T>(...iterables: any): Set<T> {\n  const set = new Set<T>();\n  for (const iterable of iterables) {\n    for (const item of iterable) {\n      set.add(item);\n    }\n  }\n  return set;\n}\n\nexport default UpsetChart;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","import React, {\n  FC,\n  Fragment,\n} from 'react';\n\nimport Base from './components/Base';\nimport Grid from './components/Grid';\nimport Points, { PointComponentProps } from './components/Points';\nimport XAxis from './components/XAxis';\nimport YAxis, { TAxisLabelFormat } from './components/YAxis';\nimport { IGrid } from './Histogram';\nimport { IAxes } from './legacy/types';\nimport {\n  IChartPoint,\n  IChartPointValue,\n} from './LineChart';\nimport { useScatterDomain } from './utils/useDomain';\n\nexport interface IScatterPlotDataSet<T> {\n  label: string;\n  point: {\n    radius: number;\n    stroke: string;\n    fill: string;\n    show: boolean;\n    showTitle?: boolean;\n  };\n  data: T[];\n}\n\nexport interface IProps<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  axis: IAxes;\n  data: IScatterPlotDataSet<T>[];\n  grid?: IGrid;\n  height: number;\n  id?: string;\n  width: number;\n  xAxisHeight?: number;\n  yAxisWidth?: number;\n  title?: string;\n  description?: string;\n  /**\n   * @description if true then adds a 0 to the data domain. Useful if you don't want your lowest value to appear on top of the x axis\n   */\n  clampToZero?: boolean;\n  axisLabelFormat?: TAxisLabelFormat;\n  /** @description Custom component to override the default <circle /> used to plot points */\n  PointComponent?: FC<PointComponentProps>;\n}\n\nconst ScatterPlot: FC<IProps> = ({\n  axis,\n  clampToZero = true,\n  data,\n  grid,\n  height,\n  width,\n  xAxisHeight = 60,\n  yAxisWidth = 100,\n  title,\n  description,\n  axisLabelFormat,\n  PointComponent,\n}) => {\n  const domain = useScatterDomain({\n    values: data,\n    clampToZero,\n  });\n\n  const values = data.reduce((prev, next) => prev.concat(next.data.map((d) => d.x)), [] as any[])\n\n  return (\n    <Base\n      width={width}\n      height={height}\n      title={title}\n      description={description}>\n\n      {\n        grid && <Grid\n          left={yAxisWidth}\n          height={height - xAxisHeight}\n          svgProps={{ ...grid.x.style }}\n          lines={{\n            vertical: grid.y.ticks,\n            horizontal: grid.x.ticks,\n          }}\n          width={width - yAxisWidth} />\n      }\n      {\n        data.map((item) => <Fragment key={item.label.replace(/[^a-zA-Z0-9-]/, '')}>\n\n          {\n            item.point.show &&\n            <Points\n              axis={axis}\n              label={item.label}\n              key={`points-${item.label}`}\n              width={width - yAxisWidth}\n              left={yAxisWidth}\n              height={height - xAxisHeight}\n              z={item.point.radius}\n              fill={item.point.fill}\n              showTitle={item.point.showTitle}\n              stroke={item.point.stroke}\n              data={item.data}\n              PointComponent={PointComponent} />\n          }\n\n\n        </Fragment>)\n      }\n\n      <YAxis\n        width={yAxisWidth}\n        height={height - xAxisHeight}\n        scale={axis.y.scale ?? 'linear'}\n        domain={domain}\n      />\n\n      <XAxis\n        width={width - yAxisWidth}\n        height={xAxisHeight}\n        labelFormat={axisLabelFormat}\n        scale={axis.x.scale ?? 'band'}\n        top={height - xAxisHeight}\n        left={yAxisWidth}\n        values={\n          values.length > 4\n            ? [values[0], values[Math.floor(values.length / 4)],\n            values[Math.floor(values.length / 2)],\n            values[Math.floor(values.length * (3 / 4))],\n            ] as number[]\n            : values}\n      />\n\n    </Base>\n  )\n}\n\nexport default ScatterPlot;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var frame = 0,\n    // is an animation frame pending?\ntimeout = 0,\n    // is a timeout pending?\ninterval = 0,\n    // are any timers active?\npokeDelay = 1000,\n    // how frequently we check for clock skew\ntaskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) {\n  setTimeout(f, 17);\n};\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function restart(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;else taskHead = this;\n      taskTail = this;\n    }\n\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function stop() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nexport function timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n\n  var t = taskHead,\n      e;\n\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(),\n      delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0,\n      t1 = taskHead,\n      t2,\n      time = Infinity;\n\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}","import { Timer } from \"./timer.js\";\nexport default function (callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart(function (elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}","import { dispatch } from \"d3-dispatch\";\nimport { timer, timeout } from \"d3-timer\";\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\nexport default function (node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index,\n    // For context during callback.\n    group: group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween; // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time); // If the elapsed delay is less than our first sleep, start immediately.\n\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o; // If the state is not SCHEDULED, then we previously errored on start.\n\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue; // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n\n      if (o.state === STARTED) return timeout(start); // Interrupt the active transition, if any.\n\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } // Cancel any pre-empted transitions.\n      else if (+i < id) {\n          o.state = ENDED;\n          o.timer.stop();\n          o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n          delete schedules[i];\n        }\n    } // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n\n\n    timeout(function () {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    }); // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n\n    self.state = STARTED; // Initialize the tween, deleting null tween.\n\n    tween = new Array(n = self.tween.length);\n\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    } // Dispatch the end event.\n\n\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n\n    for (var i in schedules) {\n      return;\n    } // eslint-disable-line no-unused-vars\n\n\n    delete node.__transition;\n  }\n}","import { STARTING, ENDING, ENDED } from \"./transition/schedule.js\";\nexport default function (node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n  if (!schedules) return;\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) {\n      empty = false;\n      continue;\n    }\n\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}","import { get, set } from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function () {\n    var schedule = set(this, id),\n        tween = schedule.tween; // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    var schedule = set(this, id),\n        tween = schedule.tween; // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n\n      for (var t = {\n        name: name,\n        value: value\n      }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function (name, value) {\n  var id = this._id;\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n  transition.each(function () {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function (node) {\n    return get(node, id).value[name];\n  };\n}","import { color } from \"d3-color\";\nimport { interpolateNumber, interpolateRgb, interpolateString } from \"d3-interpolate\";\nexport default function (a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}","import { interpolateTransformSvg as interpolateTransform } from \"d3-interpolate\";\nimport { namespace } from \"d3-selection\";\nimport { tweenValue } from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n        value1 = value(this),\n        string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n        value1 = value(this),\n        string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function (name, value) {\n  var fullname = namespace(name),\n      i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}","import { namespace } from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function (t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function (t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nexport default function (name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}","import { get, init } from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function () {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function () {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id, value)) : get(this.node(), id).delay;\n}","import { get, set } from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function () {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function () {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id, value)) : get(this.node(), id).duration;\n}","import { get, set } from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each(easeConstant(id, value)) : get(this.node(), id).ease;\n}","import { get, set, init } from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0,\n      on1,\n      sit = start(name) ? init : set;\n  return function () {\n    var schedule = sit(this, id),\n        on = schedule.on; // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n    schedule.on = on1;\n  };\n}\n\nexport default function (name, listener) {\n  var id = this._id;\n  return arguments.length < 2 ? get(this.node(), id).on.on(name) : this.each(onFunction(id, name, listener));\n}","function removeFunction(id) {\n  return function () {\n    var parent = this.parentNode;\n\n    for (var i in this.__transition) {\n      if (+i !== id) return;\n    }\n\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function () {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}","import { selection } from \"d3-selection\";\nvar Selection = selection.prototype.constructor;\nexport default function () {\n  return new Selection(this._groups, this._parents);\n}","import { interpolateTransformCss as interpolateTransform } from \"d3-interpolate\";\nimport { style } from \"d3-selection\";\nimport { set } from \"./schedule.js\";\nimport { tweenValue } from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = style(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0,\n      on1,\n      listener0,\n      key = \"style.\" + name,\n      event = \"end.\" + key,\n      remove;\n  return function () {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined; // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule.on = on1;\n  };\n}\n\nexport default function (name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}","function styleInterpolate(name, i, priority) {\n  return function (t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nexport default function (name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}","function textInterpolate(i) {\n  return function (t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nexport default function (value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, textTween(value));\n}","import { selection } from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\nvar id = 0;\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\nexport default function transition(name) {\n  return selection().transition(name);\n}\nexport function newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};","import { selector } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function (select) {\n  var name = this._name,\n      id = this._id;\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}","import { selectorAll } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function (select) {\n  var name = this._name,\n      id = this._id;\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}","import { matcher } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nexport default function (match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}","import { Transition } from \"./index.js\";\nexport default function (transition) {\n  if (transition._id !== this._id) throw new Error();\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}","import { Transition, newId } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function () {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}","import { tweenValue } from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function () {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function (value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}","import { set } from \"./schedule.js\";\nexport default function () {\n  var on0,\n      on1,\n      that = this,\n      id = that._id,\n      size = that.size();\n  return new Promise(function (resolve, reject) {\n    var cancel = {\n      value: reject\n    },\n        end = {\n      value: function value() {\n        if (--size === 0) resolve();\n      }\n    };\n    that.each(function () {\n      var schedule = set(this, id),\n          on = schedule.on; // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n\n        on1._.cancel.push(cancel);\n\n        on1._.interrupt.push(cancel);\n\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}","import { Transition, newId } from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport { easeCubicInOut } from \"d3-ease\";\nimport { now } from \"d3-timer\";\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n\n  return timing;\n}\n\nexport default function (name) {\n  var id, timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import { selection } from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;","import interrupt from \"../interrupt.js\";\nexport default function (name) {\n  return this.each(function () {\n    interrupt(this, name);\n  });\n}","import { Transition } from \"./transition/index.js\";\nimport { SCHEDULED } from \"./transition/schedule.js\";\nvar root = [null];\nexport default function (node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}","export default function (a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}","export default function (d) {\n  return d;\n}","import {\n  event,\n  select,\n} from 'd3-selection';\n\nexport default {\n  fx: {\n    in: (container) => {\n      if (typeof container === 'string') {\n        return;\n      }\n      container?.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n      container?.transition()\n        .duration(200)\n        .style('opacity', 0.9);\n    },\n    move: (container) => {\n      if (typeof container === 'string') {\n        return;\n      }\n      container?.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n    },\n    out: (container) => {\n      if (typeof container === 'string') {\n        return;\n      }\n      container?.transition()\n        .duration(100)\n        .style('opacity', 0);\n    },\n  },\n};\n\nexport const makeTip = (selector, tipContainer): { tipContainer: any, tipContent: any } => {\n  if (tipContainer) {\n    // Chart could be rebuilt - remove old tip\n    tipContainer.remove();\n  }\n  tipContainer = select(selector).append('div')\n    .attr('class', 'tooltip top')\n    .style('opacity', 0);\n\n  tipContainer.append('div')\n    .attr('class', 'tooltip-arrow');\n  return {\n    tipContainer,\n    tipContent: tipContainer.append('div')\n      .attr('class', 'tooltip-inner'),\n  };\n};\n","import { ScaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\n\nimport {\n  EColorManipulations,\n  IGroupDataItem,\n} from '../Histogram';\nimport { TipContentFn } from '../legacy/types';\n\ninterface IProps {\n  bins: string[],\n  hover?: Partial<Record<EColorManipulations, number>>,\n  colors: ScaleOrdinal<string, string>,\n  tipContentFn: TipContentFn<string> | undefined,\n  tipContent: any,\n  tip: any,\n  tipContainer: string,\n  colourIndex?: string,\n};\n\ninterface IMouseOutTipProps {\n  tip: any,\n  tipContainer: any,\n}\n\ninterface IMouseOutProps extends IMouseOutTipProps {\n  colors: ScaleOrdinal<string, string>,\n}\n\n\nexport const onMouseOver = (props: IProps) => (d: IGroupDataItem | any, i: number, nodes: any) => {\n  const {\n    bins,\n    hover,\n    tipContentFn,\n    tipContent,\n    tip,\n    tipContainer,\n  } = props;\n  const ix = bins.findIndex((b) => b === d.label);\n  if (!tipContentFn) {\n    return;\n  }\n  if (hover) {\n    select(nodes[i])\n      .attr('fill-opacity', 1)\n      .transition('easeIn')\n      .attr('fill-opacity', 0.7);\n  }\n  tipContent.html(() => tipContentFn(bins, ix, d.value || d));\n  tip.fx.in(tipContainer);\n};\n\nexport const onMouseOut = (props: IMouseOutProps) => (d: IGroupDataItem | number, i: number, nodes: any) => {\n  const { tip, tipContainer, colors } = props;\n  tip.fx.out(tipContainer);\n  select(nodes[i])\n    .attr('fill-opacity', 0.7)\n    .transition('easeIn')\n    .attr('fill-opacity', 1);\n}\nexport const onClick = (onClick?: (v: any) => void) => (d: IGroupDataItem | number) => {\n  if (onClick) {\n    onClick(d);\n  }\n}\n","import 'd3-transition';\n\nimport { interpolate } from 'd3-interpolate';\nimport { scaleOrdinal } from 'd3-scale';\nimport {\n  select,\n  Selection,\n} from 'd3-selection';\nimport {\n  arc,\n  Arc,\n  pie,\n  PieArcDatum,\n} from 'd3-shape';\nimport cloneDeep from 'lodash/cloneDeep';\nimport merge from 'lodash/merge';\n\nimport colorScheme from '../colors';\nimport { IBarChartDataSet } from '../Histogram';\nimport tips, { makeTip } from '../tip';\nimport { onMouseOut } from '../utils/mouseOver';\nimport { DeepPartial } from '../utils/types';\nimport {\n  IPieChartProps,\n  IPieDataItem,\n} from './PieChart';\nimport { IChartAdaptor } from './types';\n\ninterface IPieDataset {\n  count: number;\n  groupLabel: string;\n  label: string;\n}\n\n\n// Function to calculate pie chart paths from data\nconst thisPie = pie()\n  .sort(null)\n  .value((d: any) => d.count);\n\n\nconst outerRadius = (props, setIndex = 0) => {\n  const { donutWidth = 0, width, height } = props;\n\n  const radius = Math.min(Number(width), height) / 2;\n  return donutWidth === 0\n    ? radius - 10\n    : radius - 10 - (setIndex * (donutWidth + 10));\n};\n\nconst innerRadius = (props, setIndex = 0) => {\n  const { donutWidth = 0, width, height } = props;\n  const radius = Math.min(Number(width), height) / 2;\n  return donutWidth === 0\n    ? 0\n    : radius - 10 - donutWidth - (setIndex * (donutWidth + 10));\n};\n\nconst getArc = (props, i: number) => {\n  return arc()\n    .outerRadius(outerRadius(props, i))\n    .innerRadius(innerRadius(props, i));\n}\n\nexport const pieChartD3 = ((): IChartAdaptor<IPieChartProps> => {\n\n  let tipContainer;\n  let tipContent;\n\n  const props: IPieChartProps = {\n    backgroundColor: '#ddd',\n    className: 'piechart-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    donutWidth: 0,\n    height: 200,\n    hover: {\n      lighten: 0.1,\n    },\n    labels: {\n      display: true,\n      displayFn: (d) => d.value,\n    },\n    margin: {\n      bottom: 0,\n      left: 10,\n      right: 0,\n      top: 10,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number, groupLabel): string => {\n      return groupLabel + ': ' + bins[i] + '<br />' + d;\n    },\n    visible: {},\n    width: 200,\n  };\n\n  let containers: any[];\n  let svg: Selection<any, any, any, any>;\n  let dataSets: IPieDataset[][];\n  let previousData: any;\n  let storedWidth: number;\n  let storedHeight: number;\n\n  const PieChartD3 = {\n\n    create(el: Element, newProps: DeepPartial<IPieChartProps> = {}) {\n      merge(props, newProps);\n      previousData = props.data.counts.map((set: IBarChartDataSet, setIndex: number) => {\n        return set.data\n          .map((count, i) => ({\n            count,\n            groupLabel: set.label,\n            label: props.data.bins[i],\n          }));\n      });\n      this._makeSvg(el);\n      containers = [];\n      previousData.forEach((dataSet, i) => {\n        this.drawChartBg(i);\n      });\n\n      this.update(props);\n    },\n\n    _makeSvg(el: Element) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n\n      const r = makeTip(props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    update(newProps: DeepPartial<IPieChartProps>) {\n      if (!props.data) {\n        return;\n      }\n      merge(props, newProps);\n      if (newProps.data) {\n        props.data = cloneDeep(newProps.data) as IPieChartProps['data'];\n      }\n      if (props.colorScheme) {\n        props.colorScheme = props.colorScheme;\n      }\n      if (!props.data.bins) {\n        return;\n      }\n\n      this.drawCharts();\n    },\n\n    drawCharts() {\n      const { data, visible } = props;\n      dataSets = data.counts.map((set: IBarChartDataSet) => {\n        return set.data\n          .map((count, i) => ({\n            count: visible[data.bins[i]] !== false ? count : 0,\n            groupLabel: set.label,\n            label: data.bins[i],\n          }));\n      });\n\n      dataSets.forEach((dataSet, i) => {\n        const theme = data.counts[i]?.colors ?? props.colorScheme;\n        this.drawChart(dataSet, i, data.bins, theme);\n        this.drawLabels(dataSet, i, data.bins, theme);\n      });\n      previousData = dataSets;\n    },\n\n    drawChartBg(i: number) {\n      const { backgroundColor, width, height } = props;\n      const tau = 2 * Math.PI; // http://tauday.com/tau-manifesto\n      const bgArc = arc()\n        .innerRadius(innerRadius(props, i))\n        .outerRadius(outerRadius(props, i))\n        .startAngle(0)\n        .endAngle(tau);\n      const container = svg\n        .append('g')\n        .attr('class', 'pie-bg');\n      const background = container.append('path')\n        .attr('class', 'pie-background')\n        .style('fill', backgroundColor);\n      background.enter()\n        .attr('transform', 'translate(' + Number(width) / 2 + ',' + height / 2 + ')')\n        .attr('d', bgArc);\n\n      background.merge(background);\n\n      if (!containers[i]) {\n        svg\n          .append('g')\n          .attr('class', 'pie-container')\n\n        svg\n          .append('g')\n          .attr('class', 'pie-labels')\n        containers[i] = svg;\n      }\n    },\n\n    drawChart(data, i: number, bins: string[], theme: string[]) {\n      const { width, height, tip, tipContentFn, hover } = props;\n\n      // Formatted pie chart arcs based on previous current data.\n      // If data has changed length (i.e. swapping the entire dataset) use the new data.\n      const prev = previousData[i].length === data.length\n        ? previousData[i]\n        : data;\n      const arcs = thisPie(prev);\n      const colors = scaleOrdinal(theme);\n      // Set the domain to get consistent colours\n      colors.domain(Array.from(new Array(data.length).keys()).map(s => s.toString()));\n\n      // Stack multiple charts in concentric circles\n      const thisArc = getArc(props, i);\n\n      const path = containers[i].select('.pie-container').selectAll('path')\n        .data(thisPie(data));\n\n      path.enter()\n        .append('path')\n        .attr('transform', (d) => {\n          return 'translate(' + Number(width) / 2 + ',' + height / 2 + ')';\n        })\n        .attr('stroke', '#FFF')\n        .attr('fill', (_, j) => colors(j))\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number, nodes: any[]) => {\n          if (hover) {\n            select(nodes[ix])\n              .attr('fill-opacity', 1)\n              .transition('easeIn')\n              .attr('fill-opacity', 0.7);\n          }\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', onMouseOut({ tip, tipContainer, colors }))\n        .attr('d', thisArc)\n        .style('opacity', 0)\n        .transition()\n        .duration(500)\n        .style('opacity', 1);\n\n      // Fade in when adding (merge)\n      path\n        .merge(path)\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number, nodes: any[]) => {\n          if (hover) {\n            select(nodes[ix])\n              .attr('fill-opacity', 1)\n              .transition('easeIn')\n              .attr('fill-opacity', 0.7);\n          }\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', onMouseOut({ tip, tipContainer, colors }))\n        .transition()\n        .delay(400)\n        .duration(500)\n        .attrTween('d', arcTween(thisArc));\n\n      path.exit().transition()\n        .attrTween('d', arcTween(thisArc))\n        .duration(500)\n        .style('opacity', 0).remove();\n    },\n\n    drawLabels(data, i: number, bins: string[], theme: string[]) {\n      const { labels, width, height } = props;\n      const thisArc = getArc(props, i);\n      const path2 = containers[i].select('.pie-labels').selectAll('text.label')\n        .data(thisPie(data));\n      path2.enter().append('text')\n        .attr('class', 'label')\n        .each(() => {\n          // Store initial offset incase we change chart heights.\n          storedHeight = height;\n          storedWidth = Number(width);\n        })\n        .style('opacity', 0)\n        .text((d, ix: number) => d.value === 0 ? '' : labels.displayFn(d, ix))\n        .attr('transform', (d) => {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (storedWidth / 2);\n          const y = centroid[1] + (storedHeight / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .transition()\n        .duration(500)\n        .style('opacity', (d) => labels.display === false || d.value === 0 ? 0 : 1);\n\n      path2\n        .merge(path2)\n        .transition()\n        .duration(500)\n        .style('opacity', 0)\n        .transition()\n        .attr('transform', (d) => {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (storedWidth / 2);\n          const y = centroid[1] + (storedHeight / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .text((d, ix: number) => d.value === 0 ? '' : labels.displayFn(d, ix))\n        .transition()\n        .duration(500)\n        .style('opacity', (d) => {\n          // Only show if the new value is not 0 and labels are set to be displayed\n          return labels.display === false || d.value === 0 ? 0 : 1;\n        });\n\n      path2.exit().transition()\n        .duration(500)\n        .style('opacity', 0);\n    },\n\n    /**\n     * Any necessary clean up\n     */\n    destroy() {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n\n  return PieChartD3;\n});\n\n// Returns a tween for a transition’s \"d\" attribute, transitioning any selected\n// arcs from their current angle to the specified new angle.\nfunction arcTween(this: any, thisArc: Arc<any, any>) {\n  return function (this: any, d) {\n    const i = interpolate(this._current, d);\n    this._current = i(0);\n    return function (this: any, t) {\n      return thisArc(i(t));\n    };\n  };\n}\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport { tau } from \"./math.js\";\nexport default function () {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    } // Optionally sort the arcs by previously-computed values or by data.\n\n\n    if (sortValues != null) index.sort(function (i, j) {\n      return sortValues(arcs[i], arcs[j]);\n    });else if (sort != null) index.sort(function (i, j) {\n      return sort(data[i], data[j]);\n    }); // Compute the arcs! They are stored in the original data's order.\n\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function (_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function (_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  EColorManipulations,\n  IBarChartDataSet,\n} from '../Histogram';\nimport { DeepPartial } from '../utils/types';\nimport { pieChartD3 } from './PieChartD3';\nimport {\n  IChartAdaptor,\n  IChartState,\n  IMargin,\n  TipContentFn,\n} from './types';\n\ninterface ILabels {\n  display: boolean;\n  displayFn: (d: any, ix: number) => string | number;\n}\n\nexport interface IPieDataItem {\n  count: number;\n  groupLabel: string;\n  label: string;\n}\n\nexport interface IPieChartProps {\n  data: {\n    bins: string[],\n    counts: IBarChartDataSet[];\n  };\n  backgroundColor: string;\n  className: string;\n  colorScheme: string[];\n  donutWidth: number;\n  height: number;\n  hover?: Partial<Record<EColorManipulations, number>>,\n  labels: ILabels;\n  margin: IMargin;\n  tip: any;\n  tipContainer: string;\n  tipContentFn: TipContentFn<string>;\n  visible: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * PieChart component\n */\nclass PieChart extends Component<DeepPartial<IPieChartProps>, IChartState> {\n\n  private chart: IChartAdaptor<IPieChartProps>;\n  private ref: HTMLDivElement | null = null;\n\n  /**\n   * Constructor\n   */\n  constructor(props: DeepPartial<IPieChartProps>) {\n    super(props);\n    this.chart = pieChartD3();\n\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const el = this.getDOMNode();\n    if (el) {\n      const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n      this.setState({\n        parentWidth: width,\n      }, () => this.chart.update(this.getChartState()));\n    }\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    const el = this.getDOMNode();\n    if (el) {\n      this.chart.create(el, this.getChartState());\n      if (this.props.width === '100%') {\n        window.addEventListener('resize', (e) => this.handleResize());\n        this.handleResize();\n      }\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    const el = this.getDOMNode();\n    if (el) {\n      this.chart.update(this.getChartState());\n    }\n  }\n\n  /**\n   * Get the chart state\n   */\n  public getChartState(): DeepPartial<IPieChartProps> {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    const el = this.getDOMNode();\n    if (el) {\n      this.chart.destroy();\n    }\n  }\n\n  /**\n   * Get the chart's dom node\n   */\n  private getDOMNode(): Element | undefined | null {\n    const node = ReactDOM.findDOMNode(this.ref);\n    try {\n      if (node instanceof Text) {\n        return undefined;\n      }\n      return node;\n    } catch (e) {\n      // instanceof Text not working when running tests - just presume its ok\n      return node as Element;\n    }\n  }\n\n  /**\n   * Render\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"piechart-chart-container\"></div>);\n  }\n}\n\nexport default PieChart;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","import React, {\n  FC,\n  HTMLAttributes,\n} from 'react';\n\ninterface IPathProps {\n  fill: string;\n  d: string;\n  opacity: number;\n}\n\nconst Path: FC<IPathProps & HTMLAttributes<SVGElement>> = ({\n  d,\n  fill,\n  id,\n  opacity,\n  onMouseEnter,\n  onMouseLeave,\n}) => {\n  return (\n    <path\n      id={id}\n      data-testid={id}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      fill={fill}\n      stroke={fill}\n      style={{ transition: 'all 0.5s ease', opacity }}\n      d={d}\n    />\n  )\n}\n\nexport default Path;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","export default ['#4bbcad',\n  '#d54539',\n  '#5ab94d',\n  '#8a5cd3',\n  '#a4b243',\n  '#ba5ccd',\n  '#54995c',\n  '#cf47a1',\n  '#d29f3e',\n  '#5c6fda',\n  '#c36528',\n  '#5fa6dc',\n  '#d74770',\n  '#7d7430',\n  '#8a529e',\n  '#df9273',\n  '#5f74b8',\n  '#ac5450',\n  '#d192d7',\n  '#b26088'];\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","import { scaleOrdinal } from 'd3-scale';\nimport React, { FC } from 'react';\n\nimport colorScheme from './colors';\nimport { IBarChartDataSet } from './Histogram';\n\ninterface IProps {\n  className?: string;\n  theme?: string[];\n  data: {\n    bins: string[],\n    counts: IBarChartDataSet[];\n  };\n  onSelect: (label: string) => void;\n  visible: { [key: string]: boolean };\n}\n\nconst legendIconStyle = {\n  cursor: 'pointer',\n  display: 'inline-block',\n  height: '1rem',\n  margin: '0.25rem 0.5rem',\n  width: '1rem',\n};\n\nconst listStyle = {\n  listStyle: 'none',\n  padding: 0,\n  margin: 0,\n};\n\nconst liStyle = {\n  display: 'flex',\n  alignItems: 'center',\n}\n\nconst Legend: FC<IProps> = ({\n  className,\n  theme = colorScheme,\n  data,\n  onSelect,\n  visible,\n}) => {\n  const scheme: any = scaleOrdinal(theme);\n  const labels = data.bins;\n  return (\n    <div className={className}>\n      <ul style={listStyle}>\n        {\n          labels.map((label) => {\n            const active = (visible.hasOwnProperty(label) && visible[label]) || !visible.hasOwnProperty(label);\n            return (\n              <li key={label}\n                style={liStyle}>\n                <div style={{\n                  ...legendIconStyle,\n                  backgroundColor: active ? scheme(label) : '#FFF',\n                  border: '2px solid ' + scheme(label),\n                }}\n                  onClick={() => onSelect(label)}>\n                </div>\n                <div>\n                  {label}\n                </div>\n              </li>\n            );\n          })\n        }\n      </ul>\n    </div>\n  );\n};\n\nexport default Legend;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n"],"sourceRoot":""}