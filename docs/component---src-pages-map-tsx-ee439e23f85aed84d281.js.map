{"version":3,"sources":["webpack:///../node_modules/d3-request/src/request.js","webpack:///../node_modules/d3-request/src/type.js","webpack:///../node_modules/d3-request/src/json.js","webpack:///../node_modules/d3-request/src/html.js","webpack:///../node_modules/d3-dsv/src/dsv.js","webpack:///../node_modules/d3-request/src/text.js","webpack:///../node_modules/d3-request/src/xml.js","webpack:///../node_modules/d3-dsv/src/csv.js","webpack:///../node_modules/d3-dsv/src/tsv.js","webpack:///../node_modules/d3-request/src/dsv.js","webpack:///../node_modules/d3-request/src/csv.js","webpack:///../node_modules/d3-request/src/tsv.js","webpack:///./src/pages/map.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///../src/colors/index.js","webpack:///../src/tip.ts","webpack:///../node_modules/d3-axis/src/array.js","webpack:///../node_modules/d3-axis/src/identity.js","webpack:///../node_modules/d3-axis/src/axis.js","webpack:///../node_modules/d3-axis/src/index.js","webpack:///./src/components/seo.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx","webpack:///./.cache/public-page-renderer-prod.js","webpack:///../src/colors/filterRange.ts","webpack:///../src/d3/attrs.ts","webpack:///../node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-array/src/extent.js","webpack:///../node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-array/src/index.js","webpack:///./src/data.ts","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///../node_modules/d3-path/src/path.js","webpack:///../node_modules/d3-shape/src/constant.js","webpack:///../node_modules/d3-shape/src/math.js","webpack:///../node_modules/d3-shape/src/arc.js","webpack:///../node_modules/d3-shape/src/curve/linear.js","webpack:///../node_modules/d3-shape/src/point.js","webpack:///../node_modules/d3-shape/src/line.js","webpack:///../node_modules/d3-shape/src/area.js","webpack:///../node_modules/d3-shape/src/descending.js","webpack:///../node_modules/d3-shape/src/identity.js","webpack:///../node_modules/d3-shape/src/pie.js","webpack:///../node_modules/d3-shape/src/curve/radial.js","webpack:///../node_modules/d3-shape/src/array.js","webpack:///../node_modules/d3-shape/src/symbol/diamond.js","webpack:///../node_modules/d3-shape/src/symbol/circle.js","webpack:///../node_modules/d3-shape/src/symbol/star.js","webpack:///../node_modules/d3-shape/src/noop.js","webpack:///../node_modules/d3-shape/src/symbol/triangle.js","webpack:///../node_modules/d3-shape/src/symbol/wye.js","webpack:///../node_modules/d3-shape/src/curve/basis.js","webpack:///../node_modules/d3-shape/src/curve/basisClosed.js","webpack:///../node_modules/d3-shape/src/curve/basisOpen.js","webpack:///../node_modules/d3-shape/src/curve/bundle.js","webpack:///../node_modules/d3-shape/src/curve/cardinal.js","webpack:///../node_modules/d3-shape/src/curve/cardinalClosed.js","webpack:///../node_modules/d3-shape/src/curve/cardinalOpen.js","webpack:///../node_modules/d3-shape/src/curve/catmullRom.js","webpack:///../node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack:///../node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack:///../node_modules/d3-shape/src/curve/linearClosed.js","webpack:///../node_modules/d3-shape/src/curve/monotone.js","webpack:///../node_modules/d3-shape/src/curve/natural.js","webpack:///../node_modules/d3-shape/src/curve/step.js","webpack:///../node_modules/d3-shape/src/index.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///../src/Legend.tsx","webpack:///../node_modules/d3-timer/src/timer.js","webpack:///../node_modules/d3-timer/src/timeout.js","webpack:///../node_modules/d3-transition/src/transition/schedule.js","webpack:///../node_modules/d3-transition/src/interrupt.js","webpack:///../node_modules/d3-transition/src/transition/tween.js","webpack:///../node_modules/d3-transition/src/transition/interpolate.js","webpack:///../node_modules/d3-transition/src/transition/remove.js","webpack:///../node_modules/d3-transition/src/transition/selection.js","webpack:///../node_modules/d3-transition/src/transition/style.js","webpack:///../node_modules/d3-transition/src/transition/text.js","webpack:///../node_modules/d3-transition/src/transition/index.js","webpack:///../node_modules/d3-transition/src/transition/select.js","webpack:///../node_modules/d3-transition/src/transition/selectAll.js","webpack:///../node_modules/d3-transition/src/transition/filter.js","webpack:///../node_modules/d3-transition/src/transition/merge.js","webpack:///../node_modules/d3-transition/src/transition/transition.js","webpack:///../node_modules/d3-transition/src/transition/on.js","webpack:///../node_modules/d3-transition/src/transition/attr.js","webpack:///../node_modules/d3-transition/src/transition/attrTween.js","webpack:///../node_modules/d3-transition/src/transition/styleTween.js","webpack:///../node_modules/d3-transition/src/transition/delay.js","webpack:///../node_modules/d3-transition/src/transition/duration.js","webpack:///../node_modules/d3-transition/src/transition/ease.js","webpack:///../node_modules/d3-transition/src/transition/end.js","webpack:///../node_modules/d3-transition/src/selection/transition.js","webpack:///../node_modules/d3-transition/src/selection/index.js","webpack:///../node_modules/d3-transition/src/selection/interrupt.js","webpack:///../node_modules/d3-transition/src/active.js","webpack:///../src/PieChartD3.ts","webpack:///../src/PieChart.tsx","webpack:///../node_modules/d3-ease/src/cubic.js","webpack:///../node_modules/d3-ease/src/poly.js","webpack:///../node_modules/d3-ease/src/sin.js","webpack:///../node_modules/d3-ease/src/back.js","webpack:///../node_modules/d3-ease/src/elastic.js","webpack:///../node_modules/d3-ease/src/index.js","webpack:///../src/JoyplotD3.ts","webpack:///../src/JoyPlot.tsx","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///../node_modules/d3-dispatch/src/dispatch.js","webpack:///../node_modules/d3-dispatch/index.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///../src/grid.ts","webpack:///../src/HistogramD3.ts","webpack:///../src/Histogram.tsx","webpack:///../src/HorizontalHistogramD3.ts","webpack:///../src/HorizontalHistogram.tsx","webpack:///../src/utils/scales.ts","webpack:///../src/lineChartD3.ts","webpack:///../src/LineChart.tsx","webpack:///../node_modules/d3-geo/src/adder.js","webpack:///../node_modules/d3-geo/src/math.js","webpack:///../node_modules/d3-geo/src/noop.js","webpack:///../node_modules/d3-geo/src/stream.js","webpack:///../node_modules/d3-geo/src/area.js","webpack:///../node_modules/d3-geo/src/cartesian.js","webpack:///../node_modules/d3-geo/src/bounds.js","webpack:///../node_modules/d3-geo/src/centroid.js","webpack:///../node_modules/d3-geo/src/compose.js","webpack:///../node_modules/d3-geo/src/rotation.js","webpack:///../node_modules/d3-geo/src/circle.js","webpack:///../node_modules/d3-geo/src/clip/buffer.js","webpack:///../node_modules/d3-geo/src/pointEqual.js","webpack:///../node_modules/d3-geo/src/clip/rejoin.js","webpack:///../node_modules/d3-geo/src/polygonContains.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/cross.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/threshold/sturges.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/merge.js","webpack:///../node_modules/d3-geo/node_modules/d3-array/src/zip.js","webpack:///../node_modules/d3-geo/src/clip/index.js","webpack:///../node_modules/d3-geo/src/clip/antimeridian.js","webpack:///../node_modules/d3-geo/src/clip/circle.js","webpack:///../node_modules/d3-geo/src/clip/line.js","webpack:///../node_modules/d3-geo/src/clip/rectangle.js","webpack:///../node_modules/d3-geo/src/length.js","webpack:///../node_modules/d3-geo/src/interpolate.js","webpack:///../node_modules/d3-geo/src/path/area.js","webpack:///../node_modules/d3-geo/src/identity.js","webpack:///../node_modules/d3-geo/src/path/bounds.js","webpack:///../node_modules/d3-geo/src/path/centroid.js","webpack:///../node_modules/d3-geo/src/path/context.js","webpack:///../node_modules/d3-geo/src/path/measure.js","webpack:///../node_modules/d3-geo/src/path/string.js","webpack:///../node_modules/d3-geo/src/transform.js","webpack:///../node_modules/d3-geo/src/projection/fit.js","webpack:///../node_modules/d3-geo/src/projection/resample.js","webpack:///../node_modules/d3-geo/src/projection/index.js","webpack:///../node_modules/d3-geo/src/projection/azimuthal.js","webpack:///../node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack:///../node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack:///../node_modules/d3-geo/src/projection/mercator.js","webpack:///../node_modules/d3-geo/src/projection/equirectangular.js","webpack:///../node_modules/d3-geo/src/projection/conicEquidistant.js","webpack:///../node_modules/d3-geo/src/projection/equalEarth.js","webpack:///../node_modules/d3-geo/src/projection/gnomonic.js","webpack:///../node_modules/d3-geo/src/projection/naturalEarth1.js","webpack:///../node_modules/d3-geo/src/projection/orthographic.js","webpack:///../node_modules/d3-geo/src/projection/stereographic.js","webpack:///../node_modules/d3-geo/src/projection/transverseMercator.js","webpack:///../src/MapD3.ts","webpack:///../node_modules/d3-geo/src/path/index.js","webpack:///../src/Map.tsx","webpack:///../src/ScatterPlotD3.ts","webpack:///../src/ScatterPlot.tsx","webpack:///../src/index.ts"],"names":["src_request","url","callback","request","mimeType","response","responseType","event","Object","d3_dispatch","headers","d3_collection","xhr","XMLHttpRequest","user","password","timeout","respond","o","result","status","type","responseText","hasResponse","call","e","XDomainRequest","test","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","name","value","toLowerCase","arguments","length","get","remove","set","data","send","post","method","open","has","setRequestHeader","each","overrideMimeType","error","fixCallback","on","abort","apply","Error","defaultMimeType","r","json","document","createRange","createContextualFragment","JSON","parse","EOL","xml","responseXML","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","map","i","stringify","join","dsv","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","text","f","t","rows","N","I","n","eof","eol","token","c","j","slice","replace","row","push","formatRow","formatValue","convert","object","customConverter","format","columnSet","create","forEach","column","inferColumns","concat","formatRows","csv","csvParse","tsv","tsvParse","src_dsv","_","responseOf","MapExample","_useState","useState","loading","setLoading","_useState2","geojson","setGeoJson","useEffect","collection","react_default","a","createElement","layout","seo","title","description","gatsby_browser_entry","to","src","height","width","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","props","Consumer","staticQueryData","query","render","children","propTypes","PropTypes","string","isRequired","func","m","module","exports","require","default","makeTip","d3_selection__WEBPACK_IMPORTED_MODULE_0__","fx","in","container","style","pageX","pageY","transition","duration","move","out","selector","tipContainer","select","append","attr","tipContent","Array","prototype","identity","x","axis_top","right","bottom","left","epsilon","translateX","translateY","y","entering","this","__axis","axis_axis","orient","scale","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","axis","context","values","ticks","domain","spacing","Math","max","range","range0","range1","position","bandwidth","offset","round","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","enter","line","merge","insert","isFinite","getAttribute","p","parentNode","filter","tickSize","axisBottom","axisLeft","SEO","_ref","lang","meta","keywords","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_2___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","property","author","defaultProps","arrayOf","array","Header","siteTitle","index_es","variant","color","Layout","Fragment","flexGrow","margin","padding","paddingTop","Date","getFullYear","href","_755544856","node","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","assign","shape","colors","Color","hsl","luminosity","v","index","self","indexOf","sort","random","keys","ascending","b","NaN","compare","extent","valueof","min","undefined","array_array","sqrt","grid","data2","theme","_src_colors_filterRange__WEBPACK_IMPORTED_MODULE_0__","stroke","stroke-opacity","bins","counts","label","borderColors","dy","text-anchor","fill","filterRange","anObject","$flags","DESCRIPTORS","$toString","define","fn","source","flags","R","$export","$find","KEY","forced","P","F","findIndex","callbackfn","pi","PI","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","constructor","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","sin","cw","da","rect","w","h","toString","src_path","constant","atan2","math_epsilon","math_pi","halfPi","math_tau","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x10","y10","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","src_arc","cornerRadius","padRadius","buffer","r0","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","lc","centroid","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","linear","point_x","point_y","src_line","defined","curve","output","defined0","src_area","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","descending","src_pie","sortValues","pie","sum","arcs","pa","curveRadial","Radial","_curve","radial","kr","noop","that","Basis","basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","custom","bundle","cardinal_point","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","catmullRom_point","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","pow","curve_catmullRom","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","sign","slope3","h0","h1","s0","s1","slope2","monotone_point","MonotoneX","MonotoneY","ReflectContext","monotoneX","Natural","controlPoints","_t0","px","py","i0","i1","Step","_t","step","stepBefore","stepAfter","META","isObject","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","it","NEED","fastKey","getWeak","onFreeze","TYPE","TypeError","legendIconStyle","cursor","display","listStyle","Legend","className","_ref$theme","colorScheme","onSelect","visible","scheme","scaleOrdinal","labels","react__WEBPACK_IMPORTED_MODULE_2__","active","hasOwnProperty","key","backgroundColor","border","onClick","taskHead","taskTail","timer_frame","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","window","requestAnimationFrame","bind","setTimeout","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","wake","timerFlush","t2","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","stop","src_timeout","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","transition_schedule","group","timing","schedules","__transition","tween","start","state","__data__","ease","schedule_create","init","schedule","tweenValue","_id","transition_interpolate","d3_interpolate_src","d3_color_src","Selection","styleRemove","removeProperty","transition_id","Transition","groups","parents","_groups","_parents","_name","newId","selection_prototype","subgroups","subnode","subgroup","child","inherit","match","groups0","groups1","m0","m1","merges","group0","group1","id0","id1","nodes","size","empty","listener","on0","on1","sit","trim","split","every","on_start","onFunction","fullname","attrTween","local","interpolate","string00","string10","interpolate0","string0","string1","value1","getAttributeNS","space","removeAttributeNS","removeAttribute","_value","setAttributeNS","attrInterpolateNS","setAttribute","attrInterpolate","priority","styleTween","styleNull","styleFunction","listener0","styleMaybeRemove","styleConstant","setProperty","styleInterpolate","textContent","textFunction","textConstant","parent","removeChild","tween0","tween1","splice","easeConstant","end","Promise","resolve","reject","cancel","interrupt","defaultTiming","transition_inherit","pieChartD3","svg","donutWidth","displayFn","ix","top","tip","tips","tipContentFn","groupLabel","el","_this","previousData","setIndex","count","_makeSvg","containers","dataSet","drawChartBg","update","childNodes","getElementsByTagName","_this$props","drawCharts","_this$props2","_this$props2$donutWid","radius","_this$props3","_this$props3$donutWid","_this2","_this$props4","dataSets","drawChart","_this$props5","bgArc","background","_this$props6","thisPie","thisArc","_current","html","arcTween","path2","_height","_width","destroy","PieChart","_React$Component","chart","parentWidth","handleResize","getDOMNode","ref","offsetWidth","setState","getChartState","componentDidMount","_this3","addEventListener","componentDidUpdate","rest","objectWithoutPropertiesLoose_default","componentWillUnmount","removeEventListener","ReactDOM","_this4","react","cubicInOut","polyIn","exponent","polyOut","polyInOut","s","backIn","overshoot","backOut","backInOut","elasticIn","amplitude","period","elasticOut","elasticInOut","joyPlotD3","yOuterScaleBand","scaleBand","scaleLinear","innerScaleBand","shape-rendering","stroke-width","bar","groupMargin","dasharray","linecap","joyTitle","newProps","mergeProps","makeGrid","makeScales","_props","valuesCount","reduce","appendDomainRange","yDomain","allCounts","prev","next","thisCounts","item","thisExtent","yRange","yAxisWidth","xAxisHeight","_props5","xAxis","yAxis","Number","gridHeight","getBins","from","Set","_drawScales","_props6","gridWidth","dataLabels","rangeRound","paddingInner","groupedMargin","barMargin","yLabels","yOuterBounds","yTickSize","attrs","_props7","_props8","barWidth","updateChart","groupData","_props9","thisMax","g","bars","joyLabel","currentHeight","gridX","gridY","_drawGrid","_props10","axisWidth","make_x_gridlines","make_y_gridlines","_props11","lineData","Histogram","elem","rgb","darker","toObject","$keys","dispatch","Dispatch","typename","types","T","args","src_dispatch","configurable","strong","validate","add","def","dP","redefineAll","ctx","anInstance","forOf","$iterDefine","setSpecies","SIZE","getEntry","entry","_i","_f","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","_l","clear","delete","setStrong","iterated","kind","global","redefine","fails","$iterDetect","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","Base","proto","O","fixMethod","entries","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","target","G","W","isArrayIter","toLength","createProperty","getIterFn","S","arrayLike","iterator","aLen","mapfn","mapping","iterFn","done","$defineProperty","createDesc","core","exec","exp","toAbsoluteIndex","endPos","drawGrid","makeXGridlines","makeYGridlines","histogramD3","xAxisLabel","yAxisLabel","dateFormat","timeFormat","gHeight","stackIndex","xText","yText","toFixed","horizontalHistogramD3","xDomain","xRange","_drawBars","info","drawDataSet","barHeight","setCount","barItem","all","multiLineOffset","currentWidth","gy","HorizontalHistogram","histogram","componentWillReceiveProps","buildScales","scaleLog","clamp","scaleTime","lineChartD3","xParseTime","xFormatTime","lineProps","curveType","curveCatmullRom","show","strokeDashArray","strokeDashOffset","pointProps","easeCubic","datumProps","_buildScales","lineContainer","_createLines","_drawDataPointSet","getYAxisWidth","pointContainer","points","ys","xs","numberFormat","getXAxisHeight","datum","parsedY","parsedX","_drawLines","drawAreas","console","log","_buildScales2","timeParse","LineChart","adder","Adder","reset","temp","valueOf","bv","av","quarterPi","degrees","radians","atan","ceil","floor","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","polygonStart","polygonEnd","src_stream","cartesian_spherical","cartesian","cartesian_cartesian","spherical","lambda","phi","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","compose","invert","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","z","src_rotation","rotate","forward","circleStream","delta","direction","cosRadius","sinRadius","circleRadius","lines","rejoin","pop","shift","pointEqual","Intersection","other","segments","compareIntersection","startInside","subject","clip","segment","rejoin_link","current","isSubject","polygonContains_sum","polygonContains","polygon","sinPhi","normal","angle","winding","ring","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","intersection","phiArc","arrays","merged","src_clip","pointVisible","clipLine","sink","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","clip_compareIntersection","pointLine","clean","ringSegments","validSegment","clip_antimeridian","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","clip_circle","cr","smallRadius","notHemisphere","two","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","u","uu","q","polar","q1","code","c0","v0","v00","point2","clip_line","clipMax","clipMin","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","b0","b1","polygonInside","cleanInside","area_x00","area_y00","area_x0","area_y0","src_identity","area_areaSum","area_areaRingSum","area_areaStream","area_areaRingStart","area_areaRingEnd","area_areaPointFirst","area_areaPoint","path_area","bounds_x0","bounds_y0","bounds_x1","bounds_y1","centroid_x00","centroid_y00","path_centroid_x0","path_centroid_y0","path_bounds","bounds","path_centroid_X0","path_centroid_Y0","centroid_Z0","path_centroid_X1","path_centroid_Y1","centroid_Z1","centroid_X2","centroid_Y2","centroid_Z2","centroid_centroidStream","centroid_centroidPoint","centroid_centroidLineStart","centroid_centroidLineEnd","centroid_centroidRingStart","centroid_centroidRingEnd","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","path_centroid","PathContext","_radius","pointRadius","lengthRing","measure_x00","measure_y00","measure_x0","measure_y0","measure_lengthSum","measure_lengthStream","measure_lengthPointFirst","measure_lengthPoint","measure","PathString","_string","string_circle","_circle","transformer","TransformStream","fit","projection","fitBounds","clipExtent","translate","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","resample","project","delta2","resampleLineTo","depth","phi2","lambda2","dx2","dy2","dz","lambda00","b00","c00","resampleStream","ringPoint","resample_resample","resampleNone","transformRadians","scaleTranslateRotate","cosAlpha","sinAlpha","ai","bi","ci","fi","projection_projection","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","theta","preclip","postclip","recenter","center","transformRotate","clipAngle","precision","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","equirectangularRaw","A1","A2","A3","A4","M","equalEarthRaw","l2","l6","gnomonicRaw","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","mapD3","geoGenerator","projectionStream","contextStream","geoPath","Map","scatterPlotD3","yScale","xScale","domainByTrait","choices","legendWidth","xSize","ySize","_drawLegend","legend","cell","_drawPoints","traits","nx","cross","plotCell","distModels","trait","ScatterPlot","_Component","chartWidth","chartHeight","innerHeight","getBoundingClientRect","Component","src_LineChart","src_Map"],"mappings":"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","file":"component---src-pages-map-tsx-ee439e23f85aed84d281.js","sourcesContent":["import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","import { json } from 'd3-request';\nimport { Link } from 'gatsby';\nimport { FeatureCollection } from 'geojson';\nimport React, {\n  useEffect,\n  useState,\n} from 'react';\n\nimport { Map } from '../../../src';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { data } from '../data';\n\nconst MapExample = () => {\n  const [loading, setLoading] = useState(true);\n\n  const [geojson, setGeoJson] = useState<FeatureCollection<any, any>>(null);\n  useEffect(() => {\n    const url = 'https://opendata.arcgis.com/datasets/8d3a9e6e7bd445e2bdcc26cdf007eac7_3.geojson';\n    json(url, (error, collection) => {\n      if (error) { throw error; }\n      setGeoJson(collection);\n      setLoading(false);\n    });\n  }, []);\n  if (loading) {\n    return <div>loading</div>;\n  }\n  return (\n    <Layout>\n      <SEO title=\"Histogram\" description=\"\" />\n      <h1>Map</h1>\n      <Link to=\"/\">Go back to the homepage</Link>\n      <div>\n        <Map\n          data={data}\n          geojson={geojson}\n          height={400}\n          width={400} />\n      </div>\n    </Layout>\n  );\n};\n\nexport default MapExample;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","export default ['#4bbcad',\n  '#d54539',\n  '#5ab94d',\n  '#8a5cd3',\n  '#a4b243',\n  '#ba5ccd',\n  '#54995c',\n  '#cf47a1',\n  '#d29f3e',\n  '#5c6fda',\n  '#c36528',\n  '#5fa6dc',\n  '#d74770',\n  '#7d7430',\n  '#8a529e',\n  '#df9273',\n  '#5f74b8',\n  '#ac5450',\n  '#d192d7',\n  '#b26088'];\n","import { event } from 'd3-selection';\nimport { select } from 'd3-selection';\n\nexport default {\n  fx: {\n    in: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n      container.transition()\n        .duration(200)\n        .style('opacity', 0.9);\n    },\n    move: (container) => {\n      container.style('left', (event.pageX) + 'px')\n        .style('top', (event.pageY - 55) + 'px');\n    },\n    out: (container) => {\n      container.transition()\n        .duration(100)\n        .style('opacity', 0);\n    },\n  },\n};\n\nexport const makeTip = (selector, tipContainer): { tipContainer: any, tipContent: any } => {\n  if (tipContainer) {\n    // Chart could be rebuilt - remove old tip\n    tipContainer.remove();\n  }\n  tipContainer = select(selector).append('div')\n    .attr('class', 'tooltip top')\n    .style('opacity', 0);\n\n  tipContainer.append('div')\n    .attr('class', 'tooltip-arrow');\n  return {\n    tipContainer,\n    tipContent: tipContainer.append('div')\n      .attr('class', 'tooltip-inner'),\n  };\n};\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export {\n  axisTop,\n  axisRight,\n  axisBottom,\n  axisLeft\n} from \"./axis\";\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\nimport {\n  graphql,\n  useStaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Helmet from 'react-helmet';\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `,\n  );\n\n  const metaDescription = description || site.siteMetadata.description;\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          content: metaDescription,\n          name: `description`,\n        },\n        {\n          content: title,\n          property: `og:title`,\n        },\n        {\n          content: metaDescription,\n          property: `og:description`,\n        },\n        {\n          content: `website`,\n          property: `og:type`,\n        },\n        {\n          content: `summary`,\n          name: `twitter:card`,\n        },\n        {\n          content: site.siteMetadata.author,\n          name: `twitter:creator`,\n        },\n        {\n          content: title,\n          name: `twitter:title`,\n        },\n        {\n          content: metaDescription,\n          name: `twitter:description`,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n              content: keywords.join(`, `),\n              name: `keywords`,\n            }\n            : [],\n        )\n        .concat(meta)}\n    />\n  );\n}\n\nSEO.defaultProps = {\n  keywords: [],\n  lang: `en`,\n  meta: [],\n};\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  title: PropTypes.string.isRequired,\n};\n\nexport default SEO;\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {\n  AppBar,\n  Button,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\n\nconst Header = ({ siteTitle }) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Typography variant=\"h6\" color=\"inherit\" >\n        <Link to=\"/\">{siteTitle}</Link>\n      </Typography>\n\n      <Button><Link to=\"/histogram\">Histogram</Link></Button>\n      <Button><Link to=\"/line\">Line Chart</Link></Button>\n      <Button><Link to=\"/pie\">Pie Chart</Link></Button>\n      <Button><Link to=\"/joyplot\">Joy Plot</Link></Button>\n      {/* <Button><Link to=\"/map\">Map</Link></Button> */}\n    </Toolbar>\n  </AppBar>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  siteTitle: ``,\n};\n\nexport default Header;\n","import './layout.css';\n\n/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\nimport {\n  graphql,\n  StaticQuery,\n} from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Header from './header';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={(data) => (\n      <>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <div\n          style={{\n            flexGrow: 2,\n            margin: `0 auto`,\n            padding: `0px 1.0875rem 1.45rem`,\n            paddingTop: 0,\n            width: '100%',\n          }}\n        >\n          <main>{children}</main>\n\n        </div>\n        <footer>\n          © {new Date().getFullYear()}, Built by\n            {` `}\n          <a href=\"https://www.infosum.com\">InfoSum</a>\n        </footer>\n      </>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as Color from 'color';\n\nexport default (colors) => {\n  return colors.filter((value) => {\n    try {\n      const c = Color(value);\n      const hsl = c.hsl().array();\n      if (hsl.length > 3) {\n        // remove alpha colours\n        return false;\n      }\n      const luminosity = c.luminosity();\n      return ((luminosity < 0.8 && luminosity > 0.1) && (hsl[2] < 200 && hsl[2] > 20)) // not too light\n        ; // not too dark\n    } catch (e) {\n      return false;\n    }\n  })\n    .filter((v, index, self) => self.indexOf(v) === index)\n    .sort(() => Math.random() - 0.5);\n};\n","import { ISVGLineStyle } from '../Histogram';\n\n/**\n * Apply style object to a d3 selection\n * @param {Object} selection D3 selection\n * @param {Object} style Css styling\n * @return {Object} selection\n */\nexport default (selection, style: ISVGLineStyle) => {\n  Object.keys(style).forEach((k: string) => {\n    selection.attr(k, style[k]);\n  });\n  return selection;\n};\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        if (min === undefined) {\n          min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        if (min === undefined) {\n          min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export {default as bisect, bisectRight, bisectLeft} from \"./bisect\";\nexport {default as ascending} from \"./ascending\";\nexport {default as bisector} from \"./bisector\";\nexport {default as cross} from \"./cross\";\nexport {default as descending} from \"./descending\";\nexport {default as deviation} from \"./deviation\";\nexport {default as extent} from \"./extent\";\nexport {default as group} from \"./group\";\nexport {default as histogram} from \"./histogram\";\nexport {default as thresholdFreedmanDiaconis} from \"./threshold/freedmanDiaconis\";\nexport {default as thresholdScott} from \"./threshold/scott\";\nexport {default as thresholdSturges} from \"./threshold/sturges\";\nexport {default as max} from \"./max\";\nexport {default as mean} from \"./mean\";\nexport {default as median} from \"./median\";\nexport {default as merge} from \"./merge\";\nexport {default as min} from \"./min\";\nexport {default as pairs} from \"./pairs\";\nexport {default as permute} from \"./permute\";\nexport {default as quantile} from \"./quantile\";\nexport {default as quickselect} from \"./quickselect\";\nexport {default as range} from \"./range\";\nexport {default as rollup} from \"./rollup\";\nexport {default as scan} from \"./scan\";\nexport {default as shuffle} from \"./shuffle\";\nexport {default as sum} from \"./sum\";\nexport {default as ticks, tickIncrement, tickStep} from \"./ticks\";\nexport {default as transpose} from \"./transpose\";\nexport {default as variance} from \"./variance\";\nexport {default as zip} from \"./zip\";\n","import {\n  IAxes,\n  IHistogramData,\n} from '../../src';\nimport filterRange from '../../src/colors/filterRange';\n\nexport const grid = {\n  x: {\n    style: {\n      'stroke': '#eeAA00',\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n  y: {\n    height: 20,\n    style: {\n      'stroke-opacity': 0.4,\n    },\n    ticks: 5,\n  },\n};\n\nexport const data: IHistogramData = {\n  bins: ['Data 1', 'Data 6', 'Data 3', 'Dat 4'],\n  counts: [\n    {\n      data: [1, 2, 3, 4],\n      label: 'DataSet 1',\n    },\n    {\n      data: [13, 14, 15, 16],\n      label: 'DataSet 2',\n    },\n  ],\n  grid,\n};\n\nexport const data2 = {\n  bins: ['bin 1', 'bin 2', 'bin 3 with a long name', 'bin 4', 'bin 5', 'bin 6', 'bin 7'],\n  counts: [\n    {\n      borderColors: ['red'],\n      data: [1, 2, 3, 4, 5, 6, 7],\n      label: 'Data 1',\n    },\n  ],\n  title: 'Plot 1',\n};\n\nexport const data3 = {\n  bins: ['bin 1', 'bin 2', 'bin 3'],\n  counts: [\n    {\n      borderColors: ['red'],\n      colors: ['red'],\n      data: [100, 50, 40],\n      label: 'Data 1',\n    },\n    {\n      borderColors: ['red'],\n      colors: ['blue'],\n      data: [32, 1, 5, 0],\n      label: 'Data 2',\n    },\n  ],\n};\n\nexport const axis: IAxes = {\n  x: {\n    height: 20,\n    label: 'X Axis',\n    margin: 20,\n    text: {\n      style: {\n        'dy': '.35em',\n        'text-anchor': 'start',\n        'transform': 'rotate(90)',\n        'x': 0,\n        'y': 0,\n      },\n    },\n    tickSize: 0,\n  },\n  y: {\n    label: 'Y Axis!',\n    style: {\n      fill: 'none',\n      stroke: '#eeAA00',\n    },\n    text: {\n      style: {\n        fill: '#eeAA00',\n      },\n    },\n    tickSize: 20,\n    ticks: 3,\n    width: 50,\n  },\n};\n\nexport const theme = filterRange(['rgba(255, 113, 1, 0.5)', '#fff6ef', 'rgba(0, 169, 123, 0.5)', '#f6fffd',\n  '#D7263D', 'rgba(215, 38, 61, 0.05)',\n  '#0f2629', '#ededed', 'rgba(86, 180, 191, 0.5)', '#f5fbfb', '#000000', '#0f2629', '#D7263D', '#FBD7D9',\n  '#ffebec', '#963540', '#22545a', '#56b4bf', '#56b4bf', '#56b4bf', '#FF7101', '#449098', '#77c3cb', '#d4eef8',\n  '#ff7101', '#FF7101', '#cc5a00', '#ff8d33', '#fef9e5', '#7d5d2e', '#00a97b', '#008762', '#33ba95', '#dbf1d6',\n  '#227839', '#0f5e7b', '#d4eef8', '#0f5e7b', '#F9C80E', '#007656', '#c5e5e9', '#f9c80e', '#a9a9a9',\n  '#dbdbdb', '#cccccc', '#e6e6e6', '#56b4bf', '#449098', '#77c3cb', '#22545a', '#ff7101', '#cdcdcd', '#ffffff',\n  '#d7263d', '#00a97b', '#888888', '#e6e6e6', '#f2f2f2', '#f4f4f4']);\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","export var slice = Array.prototype.slice;\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default function() {}\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export {default as arc} from \"./arc\";\nexport {default as area} from \"./area\";\nexport {default as line} from \"./line\";\nexport {default as pie} from \"./pie\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial\";\nexport {linkHorizontal, linkVertical, linkRadial} from \"./link/index\";\n\nexport {default as symbol, symbols} from \"./symbol\";\nexport {default as symbolCircle} from \"./symbol/circle\";\nexport {default as symbolCross} from \"./symbol/cross\";\nexport {default as symbolDiamond} from \"./symbol/diamond\";\nexport {default as symbolSquare} from \"./symbol/square\";\nexport {default as symbolStar} from \"./symbol/star\";\nexport {default as symbolTriangle} from \"./symbol/triangle\";\nexport {default as symbolWye} from \"./symbol/wye\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen\";\nexport {default as curveBasis} from \"./curve/basis\";\nexport {default as curveBundle} from \"./curve/bundle\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen\";\nexport {default as curveCardinal} from \"./curve/cardinal\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed\";\nexport {default as curveLinear} from \"./curve/linear\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone\";\nexport {default as curveNatural} from \"./curve/natural\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step\";\n\nexport {default as stack} from \"./stack\";\nexport {default as stackOffsetExpand} from \"./offset/expand\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging\";\nexport {default as stackOffsetNone} from \"./offset/none\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle\";\nexport {default as stackOrderAppearance} from \"./order/appearance\";\nexport {default as stackOrderAscending} from \"./order/ascending\";\nexport {default as stackOrderDescending} from \"./order/descending\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut\";\nexport {default as stackOrderNone} from \"./order/none\";\nexport {default as stackOrderReverse} from \"./order/reverse\";\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","import { scaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\n\nimport colorScheme from './colors';\nimport { IHistogramDataSet } from './Histogram';\n\ninterface IProps {\n  className?: string;\n  theme?: string[];\n  data: {\n    bins: string[],\n    counts: IHistogramDataSet[];\n  };\n  onSelect: (label: string) => void;\n  visible: { [key: string]: boolean };\n}\n\nconst legendIconStyle = {\n  cursor: 'pointer',\n  display: 'inline-block',\n  height: '1rem',\n  margin: '0.25rem 0.5rem',\n  width: '1rem',\n};\n\nconst listStyle = {\n  listStyle: 'none',\n};\n\nconst Legend: React.SFC<IProps> = ({ className, theme = colorScheme, data, onSelect, visible }) => {\n  const scheme: any = scaleOrdinal(theme);\n  const labels = data.bins;\n  return (\n    <div className={className}>\n      <ul style={listStyle}>\n        {\n          labels.map((label) => {\n            const active = (visible.hasOwnProperty(label) && visible[label]) || !visible.hasOwnProperty(label);\n            return (\n              <li key={label}>\n                <div style={{\n                  ...legendIconStyle,\n                  backgroundColor: active ? scheme(label) : '#FFF',\n                  border: '2px solid ' + scheme(label),\n                }}\n                  onClick={() => onSelect(label)}>\n                </div> {label}\n              </li>\n            );\n          })\n        }\n      </ul>\n    </div>\n  );\n};\n\nexport default Legend;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import 'd3-transition';\n\nimport { interpolate } from 'd3-interpolate';\nimport { scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport {\n  arc,\n  pie,\n  PieArcDatum,\n} from 'd3-shape';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport {\n  IChartAdaptor,\n  IHistogramDataSet,\n} from './Histogram';\nimport {\n  IPieChartProps,\n  IPieDataItem,\n} from './PieChart';\nimport tips, { makeTip } from './tip';\n\nexport const pieChartD3 = ((): IChartAdaptor => {\n\n  let svg;\n  let tipContainer;\n  let tipContent;\n\n  const defaultProps: IPieChartProps = {\n    backgroundColor: '#ddd',\n    className: 'piechart-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    donutWidth: 0,\n    height: 200,\n    labels: {\n      display: true,\n      displayFn: (d, ix) => d.value,\n    },\n    margin: {\n      left: 10,\n      top: 10,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number, groupLabel): string => {\n      return groupLabel + ': ' + bins[i] + '<br />' + d;\n    },\n    visible: {},\n    width: 200,\n  };\n\n  const PieChartD3 = {\n\n    create(el: HTMLElement, props: Partial<IPieChartProps> = {}) {\n      this.props = merge(defaultProps, { ...props });\n      this.previousData = props.data.counts.map((set: IHistogramDataSet, setIndex: number) => {\n        return set.data\n          .map((count, i) => ({\n            count,\n            groupLabel: set.label,\n            label: props.data.bins[i],\n          }));\n      });\n      this._makeSvg(el);\n      this.containers = [];\n      this.previousData.forEach((dataSet, i) => {\n        this.drawChartBg(this.props.data, i);\n      });\n\n      this.update(el, props);\n    },\n\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    update(el: HTMLElement, props: Partial<IPieChartProps>) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      if (props.colorScheme) {\n        this.props.colorScheme = props.colorScheme;\n      }\n      // this._makeSvg(el);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      this.drawCharts();\n    },\n\n    outerRadius(setIndex = 0) {\n      const { donutWidth = 0, width, height } = this.props;\n\n      const radius = Math.min(width, height) / 2;\n      return donutWidth === 0\n        ? radius - 10\n        : radius - 10 - (setIndex * (donutWidth + 10));\n    },\n\n    innerRadius(setIndex = 0) {\n      const { donutWidth = 0, width, height } = this.props;\n      const radius = Math.min(width, height) / 2;\n      return donutWidth === 0\n        ? 0\n        : radius - 10 - donutWidth - (setIndex * (donutWidth + 10));\n    },\n\n    drawCharts() {\n      const { data, visible } = this.props;\n      this.dataSets = data.counts.map((set: IHistogramDataSet) => {\n        return set.data\n          .map((count, i) => ({\n            count: visible[data.bins[i]] !== false ? count : 0,\n            groupLabel: set.label,\n            label: data.bins[i],\n          }));\n      });\n\n      this.dataSets.forEach((dataSet, i) => {\n        const theme = get(data.counts[i], 'colors', this.props.colorScheme);\n        this.drawChart(dataSet, i, data.bins, theme);\n      });\n      this.previousData = this.dataSets;\n    },\n\n    drawChartBg(data, i) {\n      const { backgroundColor, width, height } = this.props;\n      const tau = 2 * Math.PI; // http://tauday.com/tau-manifesto\n      const outerRadius = this.outerRadius(i);\n      const innerRadius = this.innerRadius(i);\n      const bgArc = arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius)\n        .startAngle(0)\n        .endAngle(tau);\n      const container = svg\n        .append('g')\n        .attr('class', 'pie-bg');\n      const background = container.append('path')\n        .attr('class', 'pie-background')\n        .style('fill', backgroundColor);\n      background.enter()\n        .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .attr('d', bgArc);\n\n      background.merge(background);\n\n      if (!this.containers[i]) {\n        this.containers[i] = svg\n          .append('g')\n          .attr('class', 'pie-container');\n      }\n    },\n\n    drawChart(data, i: number, bins: string[], theme: string[]) {\n      const { labels, width, height, tip, tipContentFn } = this.props;\n      // Stack multiple charts in concentric circles\n      const outerRadius = this.outerRadius(i);\n      const innerRadius = this.innerRadius(i);\n\n      // Function to calculate pie chart paths from data\n      const thisPie = pie()\n        .sort(null)\n        .value((d: any) => {\n          return d.count;\n        });\n\n      // Formated pie chart arcs based on previous current data\n      const arcs = thisPie(this.previousData[i]);\n\n      const colors = scaleOrdinal(theme);\n\n      const thisArc = arc()\n        .outerRadius(outerRadius)\n        .innerRadius(innerRadius);\n\n      const path = this.containers[i].selectAll('path')\n        .data(thisPie(data));\n\n      const g = path.enter().append('g')\n        .attr('class', 'arc');\n\n      g.append('path')\n        .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n        .attr('stroke', '#FFF')\n        .attr('fill', (d, j) => colors(j))\n\n        .each(function (d, j) { this._current = arcs[j]; }) // store the initial angles\n        .attr('d', thisArc)\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number) => {\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .style('opacity', 0)\n        .transition()\n        .duration(500)\n        .style('opacity', 1);\n\n      // Fade in when adding (merge)\n      path\n        .merge(path)\n\n        .on('mouseover', (d: PieArcDatum<IPieDataItem>, ix: number) => {\n          tipContent.html(() => tipContentFn(bins, ix, d.data.count, d.data.groupLabel));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .transition()\n        .delay(400)\n        .duration(500)\n        .attr('fill', (d, j) => colors(j))\n        .attrTween('d', arcTween(thisArc));\n\n      const path2 = this.containers[i].selectAll('text.label')\n        .data(thisPie(data));\n      const gLabel = path2.enter().append('text')\n        .attr('class', 'label')\n        .each(function () {\n          // Store initial offset incase we change chart heights.\n          this._height = height;\n          this._width = width;\n        })\n        .attr('transform', function (d) {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (this._width / 2);\n          const y = centroid[1] + (this._height / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .each(function (d, j) {\n          // Store current value to work out fx transition opacities\n          this._current = d;\n        })\n        .text((d, ix) => {\n          if (d.value === 0) {\n            return '';\n          }\n          return labels.displayFn(d, ix);\n        });\n\n      path2\n        .merge(path2)\n        .transition()\n        .duration(500)\n        .style('opacity', 0)\n        .transition()\n        .attr('transform', function (d) {\n          const centroid = thisArc.centroid(d);\n          const x = centroid[0] + (this._width / 2);\n          const y = centroid[1] + (this._height / 2);\n          return 'translate(' + x + ',' + y + ')';\n        })\n        .transition()\n        .duration(500)\n        .style('opacity', (d, ix, c) => {\n          // Only show if the new value is not 0 and labels are set to be displayed\n          return labels.display === false || d.data.count === 0 || c[ix]._current.value === 0 ? 0 : 1;\n        });\n\n      path2.exit().remove();\n\n      path.exit().transition()\n        .duration(500)\n        .style('opacity', 0).remove();\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n\n  return PieChartD3;\n});\n\n// Returns a tween for a transition’s \"d\" attribute, transitioning any selected\n// arcs from their current angle to the specified new angle.\nfunction arcTween(thisArc) {\n  return function (d) {\n    const i = interpolate(this._current, d);\n    this._current = i(0);\n    return function (t) {\n      return thisArc(i(t));\n    };\n  };\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n  IHistogramDataSet,\n  IMargin,\n  TipContentFn,\n} from './Histogram';\nimport { pieChartD3 } from './PieChartD3';\n\ninterface ILabels {\n  display: boolean;\n  displayFn?: (d: any, ix: number) => string | number;\n}\n\nexport interface IPieDataItem {\n  count: number;\n  groupLabel: string;\n  label: string;\n}\n\nexport interface IPieChartProps {\n  data: {\n    bins: string[],\n    counts: IHistogramDataSet[];\n  };\n  backgroundColor?: string;\n  className?: string;\n  colorScheme?: string[];\n  donutWidth?: number;\n  height: number;\n  labels?: ILabels;\n  margin?: IMargin;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * PieChart component\n */\nclass PieChart extends React.Component<IPieChartProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IPieChartProps> = {\n    backgroundColor: '#ddd',\n    donutWidth: 0,\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IPieChartProps) {\n    super(props);\n    this.chart = pieChartD3();\n\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(this.getDOMNode(), this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IPieChartProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"piechart-chart-container\"></div>);\n  }\n}\n\nexport default PieChart;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export {\n  linear as easeLinear\n} from \"./linear\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic\";\n","import { extent } from 'd3-array';\nimport { axisBottom, axisLeft } from 'd3-axis';\nimport { scaleBand, scaleLinear, ScaleLinear, scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport { IChartAdaptor, IHistogramData, IHistogramDataSet } from './Histogram';\nimport { IJoyPlotProps } from './JoyPlot';\nimport tips, { makeTip } from './tip';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const joyPlotD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  let props: IJoyPlotProps;\n  let dataSets: IGroupData[];\n  const yOuterScaleBand = scaleBand();\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisLeft(yOuterScaleBand)\n      .ticks(ticks);\n  }\n\n  const defaultProps: IJoyPlotProps = {\n    axis: {\n      x: {\n        height: 20,\n        label: '',\n        margin: 10,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        label: '',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    bar: {\n      groupMargin: 0,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [{\n      bins: [],\n      counts: [],\n    }],\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins, i, d, joyTitle): string =>\n      joyTitle + ': ' +\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const JoyPlotD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, newProps: Partial<IJoyPlotProps> = {}) {\n      this.mergeProps(newProps);\n      this._makeSvg(el);\n      this.makeGrid(props);\n      this.makeScales();\n      this.containers = props.data.map((d, i) => svg\n        .append('g')\n        .attr('class', `histogram-container-${i}`),\n      );\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IJoyPlotProps>) {\n      props = merge<IJoyPlotProps>(defaultProps, newProps);\n      props.data = newProps.data;\n      if (newProps.colorScheme) {\n        props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData[]): void {\n      const yDomain: number[] = [];\n      const { domain } = props;\n\n      const allCounts: number[] = data.reduce((prev, next) => {\n        const thisCounts: number[] = next.reduce((p, n) => {\n          return [...p, ...n.map((item) => item.value)];\n        }, [] as number[]);\n        return [...prev, ...thisCounts];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [yOuterScaleBand.bandwidth(), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    yAxisWidth() {\n      const { axis } = props;\n      return axis.y.label === ''\n        ? axis.y.width\n        : axis.y.width + 30;\n    },\n\n    xAxisHeight() {\n      const { axis } = props;\n      return axis.x.label === ''\n        ? axis.x.height\n        : axis.x.height + 30;\n    },\n\n    makeScales() {\n      const { axis, margin, height, width } = props;\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      if (axis.x.label !== '') {\n        svg.append('text')\n          .attr('class', 'x-axis-label')\n          .attr('transform',\n            'translate(' + (Number(width) / 2) + ' ,' +\n            ((height - this.xAxisHeight() - (margin.left * 2)) + 10 + axis.x.margin) + ')')\n          .style('text-anchor', 'middle')\n          .text(axis.x.label);\n      }\n\n      if (axis.y.label !== '') {\n        svg.append('text')\n          .attr('class', 'y-axis-label')\n          .attr('transform', 'translate(0, -' + this.gridHeight() + ')rotate(-90)')\n          .attr('y', 0 - margin.left)\n          .attr('x', 0 - (height / 2 - (margin.top * 2)))\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .text(axis.y.label);\n      }\n    },\n\n    getBins() {\n      return props.data.reduce((prev, next) => {\n        return Array.from(new Set(prev.concat(next.bins)));\n      }, [] as string[]);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData[]) {\n      const { bar, domain, margin, width, height, axis } = props;\n      const valuesCount = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? c : prev;\n      }, 0);\n      const w = this.gridWidth();\n\n      let xAxis;\n      const dataLabels = data[0].counts.map((c) => c.label);\n\n      const bins = this.getBins();\n      x\n        .domain(bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      innerScaleBand\n        .domain(dataLabels)\n        .rangeRound([0, x.bandwidth()])\n        .paddingInner(this.barMargin());\n\n      xAxis = axisBottom(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (this.yAxisWidth() + axis.y.style['stroke-width']) + ',' +\n          (height - this.xAxisHeight() - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      const yLabels = data.map((d) => d.title);\n      const yOuterBounds: [number, number] = [height - (margin.top * 2) - this.xAxisHeight(), 0];\n      yOuterScaleBand.domain(yLabels)\n        .rangeRound(yOuterBounds);\n\n      this.appendDomainRange(y, dataSets);\n\n      const yAxis = axisLeft(yOuterScaleBand).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n\n      this.yAxis\n        .attr('transform', 'translate(' + this.yAxisWidth() + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      const { ...xLabelStyle } = axis.x.text.style;\n      const { ...yLabelStyle } = axis.y.text.style;\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = props;\n      return Number(width) - (margin.left * 2) - this.yAxisWidth();\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = props;\n      return height - (margin.top * 2) - this.xAxisHeight();\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const m = get(props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0;\n    },\n\n    barMargin(): number {\n      const m = get(props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    /**\n     * Calculate the bar width\n     * @return {number} bar width\n     */\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      groupData: IGroupData[],\n    ) {\n      const bins = this.getBins();\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = props;\n      const barWidth = this.barWidth();\n\n      const colors = scaleOrdinal(props.colorScheme);\n      const borderColors = scaleOrdinal(['#FFF']);\n\n      const yAxisWidth = this.yAxisWidth();\n      const groupedMargin = this.groupedMargin();\n\n      const maxItems = groupData.reduce((prev, next) => {\n        const thisMax = next.reduce((p, n) => n.length > p ? n.length : p, 0);\n        return thisMax > prev ? thisMax : prev;\n      }, 0);\n      groupData.forEach((data, i) => {\n        const joyTitle = props.data[i].title;\n        const g = this.containers[i]\n          .selectAll('g')\n          .data(data);\n\n        const bars = g.enter()\n          .append('g')\n          .merge(g)\n          .attr('transform', (d) => {\n            const xdelta = yAxisWidth\n              + axis.y.style['stroke-width']\n              + x(d[0].label);\n\n            const ydelta = yOuterScaleBand(d[0].joyLabel);\n            return `translate(${xdelta}, ${ydelta})`;\n          })\n          .selectAll('rect')\n          .data((d) => d);\n\n        bars\n          .enter()\n          .append('rect')\n          .attr('height', 0)\n          .attr('y', (d: IGroupDataItem): number => yOuterScaleBand.bandwidth())\n\n          .attr('class', 'bar')\n          .attr('x', (d) => innerScaleBand(d.groupLabel))\n          .attr('width', (d) => barWidth)\n          .attr('fill', (d, ix) => colors(ix))\n\n          .on('mouseover', (d: IGroupDataItem) => {\n            const ix = bins.findIndex((b) => b === d.label);\n            tipContent.html(() => tipContentFn(bins, ix, d.value, joyTitle));\n            tip.fx.in(tipContainer);\n          })\n          .on('mousemove', () => tip.fx.move(tipContainer))\n          .on('mouseout', () => tip.fx.out(tipContainer))\n          .merge(bars)\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('y', (d: IGroupDataItem): number => y(d.value))\n          .attr('stroke', (d, ix) => {\n            if (borderColors) {\n              return borderColors(ix);\n            }\n          })\n          .attr('shape-rendering', 'crispEdges')\n          .attr('stroke-width', stroke.width)\n          .attr('stroke-linecap', stroke.linecap)\n\n          // Hide bar's bottom border\n          .attr('stroke-dasharray',\n            (d: IGroupDataItem): string => {\n              const currentHeight = yOuterScaleBand.bandwidth() - y(d.value);\n              return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n            })\n          .attr('height', (d: IGroupDataItem): number =>\n            yOuterScaleBand.bandwidth() - y(d.value),\n        );\n\n        g.exit().remove();\n      });\n    },\n\n    makeGrid(props: IJoyPlotProps) {\n      const { grid } = props;\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid() {\n      const { data, height, width, axis, grid, margin, bar } = props;\n      const ticks = data.reduce((prev, next) => {\n        const c = this.valuesCount(next.counts);\n        return c > prev ? prev : c;\n      }, 0);\n      const axisWidth = axis.y.style['stroke-width'];\n\n      const offset = {\n        x: this.yAxisWidth() + axisWidth,\n        y: this.gridHeight(),\n      };\n\n      if (grid.x.visible) {\n        // Add the X gridlines\n        this.gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        this.gridX.call(make_x_gridlines(get(grid, 'x.ticks', ticks))\n          .tickSize(-height + this.xAxisHeight() + (margin.top * 2))\n          .tickFormat(() => ''));\n\n        attrs(this.gridX.selectAll('.tick line'), grid.x.style);\n        attrs(this.gridX.selectAll('.domain'), { stroke: 'transparent' });\n      }\n\n      if (grid.y.visible) {\n        // add the Y gridlines\n        this.gridY.attr('transform', 'translate(' + (this.yAxisWidth() + axisWidth) + ', 0)')\n          .transition()\n          .call(make_y_gridlines(get(grid, 'y.ticks', ticks))\n            .tickSize(-width + (margin.left * 2) + this.yAxisWidth())\n            .tickFormat(() => ''),\n        );\n\n        attrs(this.gridY.selectAll('.tick line'), grid.y.style);\n\n        // Hide the first horizontal grid line to show axis\n        this.gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n          .attr('display', 'none');\n        attrs(this.gridY.selectAll('.domain'), { stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, newProps: IJoyPlotProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(newProps);\n      const { data, visible } = props;\n\n      dataSets = data.map((d) => {\n        const lineData = [] as IGroupData;\n        d.counts.forEach((count) => {\n          count.data.forEach((value, i) => {\n            if (!lineData[i]) {\n              lineData[i] = [];\n            }\n            lineData[i].push({\n              groupLabel: count.label,\n              joyLabel: d.title,\n              label: d.bins[i],\n              value: visible[d.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n            } as IGroupDataItem);\n          });\n        });\n        return lineData;\n      });\n\n      this._drawScales(props.data);\n      this._drawGrid();\n      this.updateChart(dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return JoyPlotD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IChartAdaptor,\n  IChartState,\n  IDomain,\n  IGrid,\n  IHistogramBar,\n  IHistogramData,\n  IMargin,\n  IStroke,\n  TipContentFn,\n} from './Histogram';\nimport { joyPlotD3 } from './JoyplotD3';\n\nexport interface IJoyPlotProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData[];\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IJoyPlotProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IJoyPlotProps> = {\n    axis: {},\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IJoyPlotProps) {\n    super(props);\n    this.chart = joyPlotD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IJoyPlotProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./src/dispatch\";\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","import { axisBottom, axisLeft } from 'd3-axis';\nimport * as get from 'lodash.get';\nimport attrs from './d3/attrs';\nimport { IAxes } from './Histogram';\n\n// Gridlines in y axis function\nexport const makeYGridlines = (y, ticks: number = 5) => {\n  return axisLeft(y)\n    .ticks(ticks);\n};\n\n// Gridlines in x axis function\nexport const makeXGridlines = (x, ticks: number = 5) => {\n  return axisBottom(x)\n    .ticks(ticks);\n};\n\nexport const drawGrid = (x, y, gridX, gridY, props, ticks) => {\n  const { height, width, axis, grid, margin } = props;\n  const axisWidth = axis.y.style['stroke-width'];\n\n  const offset = {\n    x: yAxisWidth(axis) + axisWidth,\n    y: gridHeight(props),\n  };\n\n  if (grid.x.visible) {\n    // Add the X gridlines\n    gridX.attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n    gridX.call(makeXGridlines(x, get(grid, 'x.ticks', ticks))\n      .tickSize(-height + xAxisHeight(props.axis) + (margin.top * 2))\n      .tickFormat(() => ''));\n\n    attrs(gridX.selectAll('.tick line'), grid.x.style);\n    attrs(gridX.selectAll('.domain'), { stroke: 'transparent' });\n  }\n\n  if (grid.y.visible) {\n    // add the Y gridlines\n    gridY.attr('transform', 'translate(' + (yAxisWidth(axis) + axisWidth) + ', 0)')\n      .transition()\n      .call(makeYGridlines(y, get(grid, 'y.ticks', ticks))\n        .tickSize(-width + (margin.left * 2) + yAxisWidth(axis))\n        .tickFormat(() => ''),\n    );\n\n    attrs(gridY.selectAll('.tick line'), grid.y.style);\n\n    // Hide the first horizontal grid line to show axis\n    gridY.selectAll('.gridY .tick line').filter((d, i) => i === 0)\n      .attr('display', 'none');\n    attrs(gridY.selectAll('.domain'), { stroke: 'transparent' });\n  }\n};\n\nexport const gridHeight = (props): number => {\n  const { height, margin, axis } = props;\n  return height - (margin.top * 2) - xAxisHeight(axis);\n};\n\nexport const yAxisWidth = (axis: IAxes) => {\n  return axis.y.label === ''\n    ? axis.y.width\n    : axis.y.width + 30;\n};\n\nexport const xAxisHeight = (axis: IAxes) => {\n  return axis.x.label === ''\n    ? axis.x.height\n    : axis.x.height + 30 + get(axis, 'x.margin', 0);\n};\n\nexport const gridWidth = (props): number => {\n  const { axis, width, margin } = props;\n  return width - (margin.left * 2) - yAxisWidth(axis);\n};\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  ScaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport { timeFormat } from 'd3-time-format';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  drawGrid,\n  gridHeight,\n  gridWidth,\n  xAxisHeight,\n  yAxisWidth,\n} from './grid';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n} from './Histogram';\nimport tips, { makeTip } from './tip';\n\ninterface IGroupDataItem {\n  label: string;\n  value: number;\n}\n\ntype IGroupData = IGroupDataItem[][];\n\nexport const histogramD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  const y = scaleLinear();\n  const x = scaleBand();\n  const innerScaleBand = scaleBand();\n  // @TODO make this a prop\n  const stacked = false;\n\n  const defaultProps: IHistogramProps = {\n    axis: {\n      x: {\n        height: 20,\n        label: '',\n        margin: 10,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        label: '',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    bar: {\n      groupMargin: 0.1,\n      margin: 0,\n      width: 50,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: {\n      bins: [],\n      counts: [],\n    },\n    delay: 0,\n    domain: {\n      max: null,\n      min: null,\n    },\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number): string =>\n      bins[i] + '<br />' + d,\n    visible: {},\n    width: 200,\n  };\n\n  const HistogramD3 = {\n    /**\n     * Initialization\n     */\n    create(el: HTMLElement, props: Partial<IHistogramProps> = {}) {\n      this.mergeProps(props);\n      this._makeSvg(el);\n      this.makeGrid();\n      this.makeScales();\n      this.container = svg\n        .append('g')\n        .attr('class', 'histogram-container');\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IHistogramProps>) {\n      this.props = merge<IHistogramProps>(defaultProps, newProps);\n      this.props.data = newProps.data;\n      if (newProps.colorScheme) {\n        this.props.colorScheme = newProps.colorScheme;\n      }\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n      const scale = {\n        x: 1 - (margin.left / width),\n        y: 1 - (margin.top / height),\n      };\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top}) scale(${scale.x},${scale.y})`);\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Update a linear scale with range and domain values taken either from the compiled\n     * group data\n     */\n    appendDomainRange(scale: ScaleLinear<number, number>, data: IGroupData): void {\n      const yDomain: number[] = [];\n      const { domain, margin, height } = this.props;\n      const allCounts: number[] = data.reduce((prev: number[], next): number[] => {\n        return [...prev, ...next.map((n) => n.value)];\n      }, [0]);\n\n      const thisExtent = extent(allCounts, (d) => d);\n      yDomain[1] = domain && domain.hasOwnProperty('max') && domain.max !== null\n        ? domain.max\n        : thisExtent[1];\n      yDomain[0] = domain && domain.hasOwnProperty('min') && domain.min !== null\n        ? domain.min\n        : thisExtent[0];\n      const yRange = [height - (margin.top * 2) - xAxisHeight(this.props.axis), 0];\n      scale.range(yRange)\n        .domain(yDomain);\n    },\n\n    makeScales() {\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      this.xAxisLabel = svg.append('g');\n      this.yAxisLabel = svg.append('g');\n    },\n\n    /**\n     * Draw scales\n     */\n    _drawScales(data: IHistogramData) {\n      const { axis, margin, height } = this.props;\n      const valuesCount = this.valuesCount(data.counts);\n      const w = gridWidth(this.props);\n\n      const dataLabels = data.counts.map((c) => c.label);\n\n      x\n        .domain(data.bins)\n        .rangeRound([0, w])\n        .paddingInner(this.groupedMargin());\n\n      if (stacked) {\n        innerScaleBand\n          .domain(['main'])\n          .rangeRound([0, x.bandwidth()])\n          .paddingInner(this.barMargin());\n      } else {\n        innerScaleBand\n          .domain(dataLabels)\n          .rangeRound([0, x.bandwidth()])\n          .paddingInner(this.barMargin());\n      }\n      const xAxis = axisBottom(x);\n\n      const tickSize = get(axis, 'x.tickSize', undefined);\n      if (tickSize !== undefined) {\n        xAxis.tickSize(tickSize);\n      } else {\n        if (w / valuesCount < 10) {\n          // Show one in 10 x axis labels\n          xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n        }\n      }\n      if (axis.x.scale === 'TIME' && axis.x.dateFormat) {\n        xAxis.tickFormat(timeFormat(axis.x.dateFormat));\n      }\n\n      this.xAxis\n        .attr('transform', 'translate(' + (yAxisWidth(axis) + axis.y.style['stroke-width']) + ',' +\n          (height - xAxisHeight(this.props.axis) - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      this.appendDomainRange(y, this.dataSets);\n\n      const yAxis = axisLeft(y).ticks(axis.y.ticks);\n\n      const yTickSize = get(axis, 'y.tickSize', undefined);\n      if (yTickSize !== undefined) {\n        yAxis.tickSize(yTickSize);\n      }\n      if (axis.y.scale === 'TIME' && axis.y.dateFormat) {\n        yAxis.tickFormat(timeFormat(axis.y.dateFormat));\n      }\n      this.yAxis\n        .attr('transform', 'translate(' + yAxisWidth(axis) + ', 0)')\n        .transition()\n        .call(yAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     */\n    groupedMargin(): number {\n      const m = get(this.props.bar, 'groupMargin', 0.1);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    barMargin(): number {\n      const m = get(this.props.bar, 'margin', 0);\n      return m >= 0 && m <= 1\n        ? m\n        : 0.1;\n    },\n\n    barWidth() {\n      return innerScaleBand.bandwidth();\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      bins: string[],\n      groupData: IGroupData,\n    ) {\n      const { axis, height, width, margin, delay, duration, tip } = this.props;\n      const barWidth = this.barWidth();\n\n      // const borderColors = set.borderColors ? d3.scaleOrdinal(set.borderColors) : null;\n      const colors = scaleOrdinal(this.props.colorScheme);\n      const gHeight = gridHeight(this.props);\n\n      const g = this.container\n        .selectAll('g')\n        .data(groupData);\n\n      const bars = g.enter()\n        .append('g')\n        .merge(g)\n        .attr('transform', (d) => {\n          const xdelta = yAxisWidth(axis)\n            + axis.y.style['stroke-width']\n            + x(d[0].label);\n          return `translate(${xdelta}, 0)`;\n        })\n        .selectAll('rect')\n        .data((d) => d);\n\n      // Don't ask why but we must reference tipContentFn as this.props.tipContentFn otherwise\n      // it doesn't update with props changes\n      const onMouseOver = (d: IGroupDataItem, i: number) => {\n        const ix = bins.findIndex((b) => b === d.label);\n        tipContent.html(() => this.props.tipContentFn(bins, ix, d.value));\n        tip.fx.in(tipContainer);\n      };\n\n      bars\n        .enter()\n        .append('rect')\n        .attr('height', 0)\n        .attr('y', (d: IGroupDataItem, stackIndex: number): number => {\n          const setIndex = bins.findIndex((b) => b === d.label);\n          const thisSetData = groupData[setIndex];\n          // @TODO stack charts\n          // const offset = stackIndex > 0\n          //   ? y(10)\n          //   : 0;\n          const offset = 0;\n          return gHeight - offset;\n        })\n        .attr('class', 'bar')\n        .on('mouseover', onMouseOver)\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .merge(bars)\n        .attr('x', (d) => {\n          return innerScaleBand(d.groupLabel);\n        })\n        .attr('width', (d) => barWidth)\n        .attr('fill', (d, i) => colors(i))\n        .transition()\n        .duration(duration)\n        .delay(delay)\n        .attr('y', (d: IGroupDataItem, stackIndex: number): number => {\n          // const setIndex = bins.findIndex((b) => b === d.label);\n          // const thisSetData = groupData[setIndex];\n          // @TODO stack charts\n          // const offset = stackIndex > 0\n          //   ? 5\n          //   : 0;\n          const offset = 0;\n          return y(d.value + offset);\n        })\n        // Hide bar's bottom border\n        .attr('stroke-dasharray',\n          (d: IGroupDataItem): string => {\n            const currentHeight = gHeight - (y(d.value));\n            return `${barWidth} 0 ${currentHeight} ${barWidth}`;\n          })\n        .attr('height', (d: IGroupDataItem): number => gHeight - (y(d.value)));\n\n      bars.exit().remove();\n      g.exit().remove();\n\n      const xText = this.xAxisLabel\n        .selectAll('text')\n        .data([axis.x.label]);\n\n      xText.enter().append('text')\n        .attr('class', 'x-axis-label')\n        .merge(xText)\n        .attr('transform',\n          'translate(' + (width / 2) + ' ,' +\n          ((height - xAxisHeight(this.props.axis) - (margin.left * 2)) + axis.x.margin) + ')')\n        .style('text-anchor', 'middle')\n        .text((d) => d);\n\n      const yText = this.yAxisLabel\n        .selectAll('text')\n        .data([axis.y.label]);\n\n      yText.enter().append('text')\n        .attr('class', 'y-axis-label')\n        .merge(yText)\n        .attr('transform', 'rotate(-90)')\n        .attr('y', 0)\n        .attr('x', 0 - (gHeight / 2 - (margin.top * 2)))\n        .attr('dy', '1em')\n        .style('text-anchor', 'middle')\n        .text((d) => d);\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n    /**\n     * Update chart\n     */\n    update(el: HTMLElement, props: IHistogramProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(props);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      const { data, visible } = this.props;\n      this.dataSets = [] as IGroupData;\n\n      data.counts.forEach((count) => {\n        count.data.forEach((value, i) => {\n          if (!this.dataSets[i]) {\n            this.dataSets[i] = [];\n          }\n          this.dataSets[i].push({\n            groupLabel: count.label,\n            label: data.bins[i],\n            value: visible[data.bins[i]] !== false && visible[count.label] !== false ? value : 0,\n          } as IGroupDataItem);\n        });\n      });\n\n      this._drawScales(this.props.data);\n      drawGrid(x, y, this.gridX, this.gridY, this.props, this.valuesCount(data.counts));\n      this.updateChart(data.bins, this.dataSets);\n    },\n\n    /**\n     * Any necessary clean up\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return HistogramD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { histogramD3 } from './HistogramD3';\n\nexport interface IChartAdaptor {\n  create: (el: Element | Text, props: { [key: string]: any }) => void;\n  update: (el: Element | Text, props: { [key: string]: any }) => void;\n  destroy: (el: Element | Text) => void;\n}\n\nexport interface IHistogramBar {\n  groupMargin?: number;\n  margin?: number;\n  width?: number;\n}\n\nexport interface IGrid {\n  x?: {\n    height?: number;\n    ticks?: number;\n    visible?: boolean;\n    style?: ISVGLineStyle;\n  };\n  y?: {\n    style?: ISVGLineStyle;\n    ticks?: number;\n    visible?: boolean;\n  };\n}\n\nexport interface IStroke {\n  color: ((d, i: number, colors: (i: number) => string) => string) | string;\n  dasharray?: string;\n  linecap?: string;\n  width: number;\n}\n\nexport interface IAxes {\n  y?: IAxis;\n  x?: IAxis;\n}\nexport interface IHistogramDataSet {\n  borderColors?: string[];\n  colors?: string[];\n  label: string;\n  data: number[];\n}\n\nexport interface IHistogramData {\n  bins: string[];\n  counts: IHistogramDataSet[];\n  colorScheme?: string[];\n  title?: string;\n  grid?: IGrid;\n}\n\nexport interface IDomain {\n  max: number;\n  min: number;\n}\n\nexport interface IMargin {\n  top?: number;\n  left?: number;\n  right?: number;\n  bottom?: number;\n}\nexport interface IHistogramProps {\n  axis?: IAxes;\n  bar?: IHistogramBar;\n  className?: string;\n  data: IHistogramData;\n  delay?: number;\n  duration?: number;\n  colorScheme?: string[];\n  domain?: IDomain;\n  grid?: IGrid;\n  height: number;\n  margin?: IMargin;\n  stroke?: IStroke;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<string>;\n  visible?: { [key: string]: boolean };\n  width: number | string;\n}\n\ntype Scale = 'LINEAR' | 'TIME' | 'LOG';\n\nexport interface ISVGLineStyle {\n  'stroke'?: string;\n  'fill'?: string;\n  'opacity'?: number;\n  'stroke-width'?: number;\n  'stroke-opacity'?: number;\n  'shape-rendering'?: string;\n  'visible'?: boolean;\n}\n\ninterface ISVGTextStyle {\n  fill?: string;\n  'font-size'?: string;\n  dy?: string | number;\n  'stroke-opacity'?: number;\n  'text-anchor'?: string;\n  transform?: string;\n  x?: string | number;\n  y?: string | number;\n}\n\nexport interface IChartState {\n  parentWidth?: number;\n}\n\nexport interface IAxis {\n  dateFormat?: string;\n  numberFormat?: string;\n  ticks?: number;\n  tickValues?: number[];\n  height?: number;\n  label?: string;\n  margin?: number;\n  scale?: Scale;\n  style?: ISVGLineStyle;\n  text?: {\n    style: ISVGTextStyle;\n  };\n  width?: number;\n  tickSize?: number;\n  visible?: boolean;\n}\n\nexport type TipContentFn<T> = (bins: T[], i: number, d: number, groupTitle?: string) => string;\n\n/**\n * Histogram component\n */\nclass Histogram extends React.Component<IHistogramProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IHistogramProps> = {\n    axis: {},\n    bar: {\n      margin: 0,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1).toString(),\n      width: 1,\n    },\n    tipContentFn: (bins: string[], i, d) =>\n      bins[i] + '<br />' + d.toFixed(2),\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IHistogramProps) {\n    super(props);\n    this.chart = histogramD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IHistogramProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default Histogram;\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleBand,\n  scaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\n\nimport colorScheme from './colors';\nimport attrs from './d3/attrs';\nimport {\n  IChartAdaptor,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n} from './Histogram';\nimport tips, { makeTip } from './tip';\n\nexport const horizontalHistogramD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let tipContent;\n  const x = scaleLinear();\n  const y = scaleBand();\n\n  // Gridlines in y axis function\n  function make_y_gridlines(ticks: number = 5) {\n    return axisBottom(x)\n      .ticks(ticks);\n  }\n\n  // Gridlines in x axis function\n  function make_x_gridlines(ticks: number = 5) {\n    return axisLeft(y)\n      .ticks(ticks);\n  }\n\n  const defaultProps = {\n    axis: {\n      x: {\n        height: 25,\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        width: 20,\n      },\n    },\n    bar: {\n      height: 50,\n      margin: 10,\n    },\n    className: 'histogram-d3',\n    colorScheme,\n    data: [],\n    delay: 0,\n    duration: 400,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: '#005870',\n      dasharray: '',\n      linecap: 'butt',\n      width: 0,\n    },\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (bins: string[], i: number, d: number): string =>\n      bins[i] + '<br />' + d,\n    width: 200,\n  };\n\n  const HorizontalHistogramD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, props = {}) {\n      this.props = merge(defaultProps, props);\n      this.update(el, this.props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g')\n        .attr('transform',\n          'translate(' + margin.left + ',' + margin.top + ')');\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Get a max count of values in each data set\n     * @param {Object} counts Histogram data set values\n     * @return {Number} count\n     */\n    valuesCount(counts: IHistogramDataSet[]): number {\n      return counts.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    /**\n     * Draw scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data: IHistogramData) {\n      const { margin, width, height, axis } = this.props;\n      const valuesCount = this.valuesCount(data.counts);\n\n      svg.selectAll('.y-axis').remove();\n      svg.selectAll('.x-axis').remove();\n\n      const h = this.gridHeight();\n      let xDomain;\n      let xAxis;\n      let yAxis;\n      let xRange;\n      const allCounts = data.counts.reduce((a: number[], b: IHistogramDataSet): number[] => {\n        return [...a, ...b.data];\n      }, []);\n\n      y.domain(data.bins)\n        .rangeRound([0, h]);\n\n      xAxis = axisBottom(x).ticks(axis.x.ticks);\n      yAxis = axisLeft(y).ticks(axis.y.ticks);\n\n      if (h / valuesCount < 10) {\n        // Show one in 10 x axis labels\n        xAxis.tickValues(x.domain().filter((d, i) => !(i % 10)));\n      }\n\n      xDomain = extent(allCounts, (d) => d);\n      xDomain[0] = 0;\n      xRange = [0, width - (margin.top * 2) - axis.y.width];\n      x.range(xRange)\n        .domain(xDomain);\n\n      svg.append('g').attr('class', 'y-axis')\n        .attr('transform', 'translate(' + axis.y.width + ', 0)')\n        .call(yAxis);\n\n      svg.append('g').attr('class', 'x-axis')\n        .attr('transform', 'translate(' + axis.y.width + ',' +\n          (height - axis.x.height - (margin.left * 2)) + ')')\n        .call(xAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    /**\n     * Draw the bars\n     * @param {Object} info Bar data etc\n     */\n    _drawBars(info: IHistogramData) {\n      const valuesCount = this.valuesCount(info.counts);\n      info.counts.forEach((set: IHistogramDataSet, setIndex: number) => {\n        this.drawDataSet(info.bins, set, setIndex, info.counts.length);\n      });\n    },\n\n    /**\n     * Calculate the width of the area used to display the\n     * chart bars. Removes chart margins and Y axis from\n     * chart total width.\n     * @return {number} width\n     */\n    gridWidth(): number {\n      const { axis, width, margin } = this.props;\n      return width - (margin.left * 2) - axis.y.width;\n    },\n\n    /**\n     * Calculate the height of the area used to display the\n     * chart bars. Removes chart margins and X axis from\n     * chart total height.\n     * @return {number} width\n     */\n    gridHeight(): number {\n      const { height, margin, axis } = this.props;\n      return height - (margin.top * 2) - axis.x.height;\n    },\n\n    /**\n     * Returns the margin between similar bars in different data sets\n     * @return {Number} Margin\n     */\n    groupedMargin(): number {\n      const { data } = this.props;\n      return ((data.counts.length - 1) * 3);\n    },\n\n    /**\n     * Calculate the bar height\n     * @return {number} bar height\n     */\n    barHeight() {\n      const { axis, width, margin, data, bar, stroke } = this.props;\n      const h = this.gridHeight();\n      const valuesCount = this.valuesCount(data.counts);\n      const setCount = data.counts.length;\n      let barHeight = (h / valuesCount) - (bar.margin * 2) - this.groupedMargin();\n\n      // Small bars - reduce margin and re-calcualate bar width\n      if (barHeight < 5) {\n        bar.margin = 1;\n        barHeight = Math.max(1, (h - (valuesCount + 1) * bar.margin) /\n          valuesCount);\n      }\n\n      // show data sets next to each other...\n      return barHeight / setCount;\n    },\n\n    /**\n     * Draw a single data set into the chart\n     * @param {Array} bins Data set labels\n     * @param {Object} set HistogramDataSet\n     * @param {number} setIndex Data set index\n     * @param {number} setCount Total number of data sets\n     */\n    drawDataSet(\n      bins: string[], set: IHistogramDataSet,\n      setIndex: number, setCount: number,\n    ) {\n      const { height, width, margin, bar, delay, duration,\n        axis, stroke, tip, tipContentFn } = this.props;\n      let barItem;\n      const barHeight = this.barHeight();\n      const colors = scaleOrdinal(set.colors || this.props.colorScheme);\n      const borderColors = set.borderColors ? scaleOrdinal(set.borderColors) : null;\n\n      const selector = '.bar-' + setIndex;\n      const multiLineOffset = (index) => setCount === 1\n        ? 0\n        : ((index + setIndex) * (barHeight + this.groupedMargin()));\n\n      svg.selectAll(selector).remove();\n\n      // Set up bar initial props\n      barItem = svg.selectAll(selector)\n        .data(set.data)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar ' + selector)\n        .attr('y', (d, index, all) => {\n          return bar.margin\n            + (barHeight + (bar.margin * 2)) * (index)\n            + multiLineOffset(index);\n        })\n        .attr('height', (d) => barHeight)\n        .attr('fill', (d, i) => colors(i))\n        .on('mouseover', (d: number, i: number) => {\n          tipContent.html(() => tipContentFn(bins, i, d));\n          tip.fx.in(tipContainer);\n        })\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .attr('x', (d: number): number => axis.y.width + axis.y.style['stroke-width'])\n        .attr('width', 0);\n\n      barItem.attr('stroke', (d, i) => {\n        if (borderColors) {\n          return borderColors(i);\n        }\n        return typeof stroke.color === 'function'\n          ? stroke.color(d, i, colors)\n          : stroke.color;\n      })\n        .attr('shape-rendering', 'crispEdges')\n        .attr('stroke-width', stroke.width)\n        .attr('stroke-linecap', stroke.linecap);\n\n      if (stroke.dasharray !== '') {\n        barItem.attr('stroke-dasharray', stroke.dasharray);\n      }\n\n      // Animate in bar\n      barItem\n        .transition()\n        .duration(duration)\n        .delay(delay)\n        // Hide bar's left border\n        .attr('stroke-dasharray',\n          (d: number): string => {\n            const currentWidth = x(d);\n            return `${currentWidth + barHeight + currentWidth} ${barHeight}`;\n          })\n        .attr('width',\n          (d: number): number => x(d));\n\n      barItem.exit().remove();\n    },\n\n    /**\n     * Draw a grid onto the chart background\n     * @param {Object} props Props\n     */\n    _drawGrid(props: IHistogramProps) {\n      const { data, height, width, axis, grid, margin } = props;\n      const ticks = this.valuesCount(data.counts);\n      const axisWidth = axis.y.style['stroke-width'];\n      const offset = {\n        x: axis.y.width + this.groupedMargin() / 2,\n        y: 0,\n      };\n      let g;\n      let gy;\n\n      // Horizontal lines\n      if (grid.x.visible) {\n        // Add the X gridlines\n        g = svg.append('g')\n          .attr('class', 'grid gridX')\n          .attr('transform', `translate(${offset.x}, ${offset.y})`);\n\n        g.call(make_x_gridlines(grid.x.ticks || ticks)\n          .tickSize(-width + (margin.left * 2) + axis.y.width)\n          .tickFormat(() => ''));\n\n        attrs(g.selectAll('.tick line'), grid.x.style);\n        attrs(g.selectAll('.domain'), { stroke: 'transparent' });\n      }\n\n      // Vertical lines.....\n      if (grid.y.visible) {\n        // add the Y gridlines\n        gy = svg.append('g')\n          .attr('class', 'grid gridY')\n          .attr('transform', 'translate(' + (axis.y.width + axisWidth) + ', '\n            + (height - axis.x.height - (margin.top * 2)) + ')')\n          .call(make_y_gridlines(grid.y.ticks || ticks)\n            .tickSize(-height + (margin.left * 2) + axis.x.height) // Line Length\n            .tickFormat(() => ''),\n          );\n        attrs(gy.selectAll('.tick line'), grid.y.style);\n\n        attrs(gy.selectAll('.domain'), { stroke: 'transparent' });\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, props: IHistogramProps) {\n      if (!props.data) {\n        return;\n      }\n      this.props = merge(defaultProps, props);\n      this._makeSvg(el);\n      if (!this.props.data.bins) {\n        return;\n      }\n\n      this._drawScales(this.props.data);\n      this._drawGrid(this.props);\n      this._drawBars(this.props.data);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return HorizontalHistogramD3;\n});\n","import { rgb } from 'd3-color';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n  IHistogramProps,\n} from './Histogram';\nimport { horizontalHistogramD3 } from './HorizontalHistogramD3';\n\n/**\n * Horizontal Histogram component\n */\nclass HorizontalHistogram extends React.Component<IHistogramProps, IChartState> {\n\n  private histogram: IChartAdaptor;\n  private ref;\n\n  public static defaultProps = {\n    axis: {},\n    bar: {\n      margin: 2,\n      width: 10,\n    },\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 200,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    stroke: {\n      color: (d, i, colors) => rgb(colors(i)).darker(1),\n      width: 1,\n    },\n    tipContentFn: (bins: string[], i, d) =>\n      bins[i] + '<br />' + d.toFixed(2),\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IHistogramProps) {\n    super(props);\n    this.histogram = horizontalHistogramD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.histogram.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.histogram.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.histogram.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IHistogramProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Props recieved, update the chart\n   * @param {Object} props Props\n   */\n  public componentWillReceiveProps(props: IHistogramProps) {\n    this.histogram.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.histogram.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"histogram-chart-container\"></div>);\n  }\n}\n\nexport default HorizontalHistogram;\n","import {\n  scaleLinear,\n  ScaleLinear,\n  scaleLog,\n  ScaleLogarithmic,\n  scaleTime,\n  ScaleTime,\n} from 'd3-scale';\n\nimport { IAxes } from '../';\n\nexport type AnyScale = ScaleLinear<number, number> | ScaleTime<any, any>\n  | ScaleLogarithmic<any, any>;\n\nexport const buildScales = (axis: IAxes) => {\n  let x: AnyScale;\n  let y: AnyScale;\n  switch (axis.x.scale) {\n    case 'LOG':\n      x = scaleLog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'TIME':\n      x = scaleTime();\n      break;\n    default:\n      x = scaleLinear();\n      break;\n  }\n\n  switch (axis.y.scale) {\n    case 'LOG':\n      y = scaleLog().clamp(true); // clamp values below 1 to be equal to 0\n      break;\n    case 'TIME':\n      x = scaleTime();\n      break;\n    default:\n      y = scaleLinear();\n      break;\n  }\n  return [x, y];\n};\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport { easeCubic } from 'd3-ease';\nimport { format } from 'd3-format';\nimport { select } from 'd3-selection';\nimport {\n  area,\n  curveCatmullRom,\n  line,\n} from 'd3-shape';\nimport {\n  timeFormat,\n  timeParse,\n} from 'd3-time-format';\nimport * as merge from 'deepmerge';\nimport * as get from 'lodash.get';\n\nimport attrs from './d3/attrs';\nimport {\n  drawGrid,\n  gridWidth,\n  xAxisHeight as getXAxisHeight,\n  yAxisWidth as getYAxisWidth,\n} from './grid';\nimport {\n  IChartAdaptor,\n  IHistogramDataSet,\n} from './Histogram';\nimport {\n  IChartPoint,\n  ILineChartDataSet,\n  ILineChartProps,\n  ISVGPoint,\n} from './LineChart';\nimport tips, { makeTip } from './tip';\nimport { buildScales } from './utils/scales';\n\nconst ZERO_SUBSITUTE: number = 1e-6;\n\nexport const lineChartD3 = ((): IChartAdaptor => {\n  let svg;\n  let tipContainer;\n  let xParseTime;\n  let xFormatTime;\n  let tipContent;\n\n  const\n    lineProps = {\n      curveType: curveCatmullRom,\n      fill: false,\n      show: true,\n      stroke: '#005870',\n      strokeDashArray: '5 5',\n      strokeDashOffset: 0,\n    };\n\n  const pointProps: ISVGPoint = {\n    fill: 'rgba(255, 255, 255, 0)',\n    radius: 4,\n    show: true,\n    stroke: '#005870',\n  };\n\n  const defaultProps: ILineChartProps = {\n    axis: {\n      x: {\n        height: 20,\n        scale: 'LINEAR',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n      },\n      y: {\n        scale: 'LINEAR',\n        style: {\n          'fill': 'none',\n          'shape-rendering': 'crispEdges',\n          'stroke': '#666',\n          'stroke-opacity': 1,\n          'stroke-width': 1,\n        },\n        text: {\n          style: {\n            fill: '#666',\n          },\n        },\n        ticks: 10,\n        width: 25,\n      },\n    },\n    className: 'line-chart-d3',\n    fx: easeCubic,\n    grid: {\n      x: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n      y: {\n        style: {\n          'fill': 'none',\n          'stroke': '#bbb',\n          'stroke-opacity': 0.7,\n          'stroke-width': 1,\n        },\n        ticks: 5,\n        visible: true,\n      },\n    },\n    height: 250,\n    line: lineProps,\n    margin: {\n      left: 5,\n      top: 5,\n    },\n    point: pointProps,\n    tip: tips,\n    tipContainer: 'body',\n    tipContentFn: (info, i, d) => {\n      switch (typeof info[i].x) {\n        case 'object': // date\n          return xFormatTime(info[i].x) + ', ' + info[i].y;\n        default:\n          return Number(info[i].x).toFixed(3) + ', ' + info[i].y;\n      }\n    },\n    width: 200,\n  };\n\n  const datumProps = {\n    line: lineProps,\n    point: pointProps,\n  };\n\n  const curve = (curveType, yAxisWidth, x, y) => line()\n    .curve(curveType)\n    .x((d: any) => x(d.x) + yAxisWidth)\n    .y((d: any) => y(d.y));\n\n  const LineChartD3 = {\n    /**\n     * Initialization\n     */\n    create(el: Node, props: Object = {}) {\n      this.props = merge(defaultProps, props);\n      this._makeSvg(el);\n      this.makeScales();\n      [this.x, this.y] = buildScales(this.props.axis);\n      this.makeGrid();\n      this.container = svg\n        .append('g')\n        .attr('class', 'linechart-container');\n\n      this.lineContainer = this.container\n        .append('g')\n        .attr('class', 'line-container');\n      this._createLines(this.props.data);\n      this.update(el, this.props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { margin, width, height, className } = this.props;\n      const scale = {\n        x: 1 - (margin.left / width),\n        y: 1 - (margin.top / height),\n      };\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top}) scale(${scale.x},${scale.y})`);\n\n      const r = makeTip(this.props.tipContainer, tipContainer);\n      tipContent = r.tipContent;\n      tipContainer = r.tipContainer;\n    },\n\n    /**\n     * Iterate over the dataset drawing points for sets marked as\n     * requiring points.\n     */\n    _drawDataPointSet(data: ILineChartDataSet[]) {\n      const { axis, tip } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n\n      const pointContainer = this.container.selectAll('g').data(data);\n\n      // Don't ask why but we must reference tipContentFn as this.props.tipContentFn otherwise\n      // it doesn't update with props changes\n      const onMouseOver = (d: ILineChartDataSet, i: number) => {\n        tipContent.html(() => this.props.tipContentFn([d], 0));\n        tip.fx.in(tipContainer);\n      };\n      const points = pointContainer.enter()\n        .append('g')\n        .attr('class', (d, i: number) => 'point-container' + i)\n        .merge(pointContainer)\n        .selectAll('circle')\n        .data((d) => {\n          return d.data.map((dx) => ({\n            ...dx,\n            point: d.point,\n          }));\n        });\n\n      // UPDATE - Update old elements as needed.\n      points.attr('class', 'update');\n\n      // ENTER + UPDATE\n      // After merging the entered elements with the update selection,\n      // apply operations to both.\n      points.enter().append('circle')\n        .attr('class', 'enter')\n        .on('mouseover', onMouseOver)\n        .on('mousemove', () => tip.fx.move(tipContainer))\n        .on('mouseout', () => tip.fx.out(tipContainer))\n        .merge(points)\n        .attr('class', 'point')\n        .attr('cy', (d) => this.y(d.y))\n        .attr('r', (d, i: number) => 0)\n        .attr('fill', (d) => d.point.fill)\n        .attr('stroke', (d) => d.point.stroke)\n        .attr('cx', (d) => {\n          return this.x(d.x) + yAxisWidth;\n        })\n        .transition()\n        .duration(400)\n        .attr('r', (d) => d.point.show ? d.point.radius : 0)\n        .delay(650);\n\n      // EXIT - Remove old elements as needed.\n      pointContainer.exit().remove();\n      points.exit().remove();\n    },\n\n    makeScales() {\n      this.xAxis = svg.append('g').attr('class', 'x-axis');\n      this.yAxis = svg.append('g').attr('class', 'y-axis');\n\n      this.xAxisLabel = svg.append('g');\n      this.yAxisLabel = svg.append('g');\n    },\n\n    /**\n     * Draw the chart scales\n     */\n    _drawScales(data: Array<ILineChartDataSet<IChartPoint<number, number>>>) {\n      // @TODO Grid not rendering down to x axis\n      const { axis, height } = this.props;\n      const w = gridWidth(this.props);\n      let yDomain;\n      let xDomain;\n      const ys: any[] = [];\n      const xs: any[] = [];\n      const yAxis = axisLeft(this.y);\n      if (axis.y.tickValues) {\n        yAxis.tickValues(axis.y.tickValues);\n      } else {\n        yAxis.ticks(axis.y.ticks);\n      }\n      if (axis.y.numberFormat) {\n        yAxis.tickFormat(format(axis.y.numberFormat));\n      }\n\n      const xAxis = axisBottom(this.x); // .ticks(axis.x.ticks);\n      if (axis.x.tickValues) {\n        xAxis.tickValues(axis.x.tickValues);\n      }\n      if (axis.x.scale === 'TIME' && axis.x.dateFormat) {\n        xAxis.tickFormat(timeFormat(axis.x.dateFormat));\n      }\n      const xAxisHeight = getXAxisHeight(axis);\n      const yAxisWidth = getYAxisWidth(axis);\n\n      data.forEach((datum: ILineChartDataSet<IChartPoint<number, number>>) => {\n        datum.data.forEach((d: IChartPoint<number, number>) => {\n          let parsedY = d.y;\n          let parsedX = d.x;\n          if (axis.y.scale === 'LOG' && d.y === 0) {\n            parsedY = ZERO_SUBSITUTE;\n          }\n          if (axis.x.scale === 'LOG' && d.x === 0) {\n            parsedX = ZERO_SUBSITUTE;\n          }\n          ys.push((parsedY));\n          xs.push((parsedX));\n        });\n      });\n      yDomain = extent(ys);\n      xDomain = extent(xs);\n      // domain mustn't be 0 as log(0) gives Infinity. 1 lower domain gives better looking graphs\n      if (axis.y.scale === 'LOG' && yDomain[0] === ZERO_SUBSITUTE) {\n        yDomain[0] = 1;\n      }\n      if (axis.x.scale === 'LOG' && xDomain[0] === ZERO_SUBSITUTE) {\n        xDomain[0] = 1;\n      }\n      this.x\n        .domain(xDomain)\n        .rangeRound([0, w]);\n\n      this.y.domain(yDomain)\n        .range([height - xAxisHeight, 0]);\n\n      this.yAxis\n        .attr('transform', `translate(${yAxisWidth}, 0)`)\n        .transition()\n        .call(yAxis);\n\n      this.xAxis\n        .attr('transform', `translate(${yAxisWidth},${(height - xAxisHeight)})`)\n        .call(xAxis);\n\n      attrs(svg.selectAll('.y-axis .domain, .y-axis .tick line'), axis.y.style);\n      attrs(svg.selectAll('.y-axis .tick text'), axis.y.text.style);\n\n      attrs(svg.selectAll('.x-axis .domain, .x-axis .tick line'), axis.x.style);\n      attrs(svg.selectAll('.x-axis .tick text'), axis.x.text.style);\n    },\n\n    _createLines(data: ILineChartDataSet[]) {\n      data.forEach((d, i) => {\n        this.lineContainer.append('path')\n          .attr('class', `line-${i}`);\n      });\n\n      // change the line\n      data\n        .forEach((d, i) => {\n          this.lineContainer.append('path')\n            .attr('class', `fill-${i}`);\n\n        });\n\n    },\n\n    /**\n     * Iterate over data and update lines\n     */\n    _drawLines(data: ILineChartDataSet[]) {\n      const { axis } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n\n      // change the line\n      data.forEach((d, i) => {\n        this.lineContainer.select(`.line-${i}`)\n          .attr('fill', 'none')\n          .attr('stroke-dashoffset', d.line.strokeDashOffset)\n          .attr('stroke-dasharray', d.line.strokeDashOffset)\n          .attr('stroke', d.line.stroke)\n          .transition()\n          .duration(500)\n          .attr('d', curve(d.line.curveType, yAxisWidth, this.x, this.y)(d.data as any))\n          .delay(50);\n      });\n    },\n\n    /**\n     * Iterates ove data and updates area fills\n     */\n    drawAreas(data: ILineChartDataSet[]) {\n      const { axis, height } = this.props;\n      const yAxisWidth = getYAxisWidth(axis);\n      const xAxisHeight = getXAxisHeight(axis);\n      const thisArea = (curveType) => area()\n        .curve(curveType)\n        .x((d: any) => this.x(d.x) + yAxisWidth)\n        .y0((d) => height - xAxisHeight)\n        .y1((d: any) => this.y(d.y));\n\n      // change the line\n      data\n        .forEach((d, i) => {\n          this.lineContainer.select(`.fill-${i}`)\n            .attr('fill', d.line.fill.fill)\n            .style('opacity', d.line.show && d.line.fill.show ? 1 : 0)\n            .transition()\n            .duration(500)\n            .delay(50)\n            .attr('d', thisArea(d.line.curveType)(d.data as any))\n\n            ;\n        });\n    },\n\n    /**\n     * Get a max count of values in each data set\n     */\n    valuesCount(data: IHistogramDataSet[]): number {\n      return data.reduce((a: number, b: IHistogramDataSet): number => {\n        return b.data.length > a ? b.data.length : a;\n      }, 0);\n    },\n\n    makeGrid() {\n      this.gridX = svg.append('g')\n        .attr('class', 'grid gridX');\n      this.gridY = svg.append('g')\n        .attr('class', 'grid gridY');\n    },\n\n    /**\n     * Update chart\n     */\n    update(el: Element, props) {\n      if (!props.data) {\n        return;\n      }\n      console.log('receive update', props);\n      this.props = merge(defaultProps, props);\n      console.log('update', this.props.point);\n      [this.x, this.y] = buildScales(this.props.axis);\n      let data = props.data;\n\n      xParseTime = timeParse(props.axis.x.dateFormat);\n      xFormatTime = timeFormat(props.axis.x.dateFormat);\n      data = data.map((datum: ILineChartDataSet<IChartPoint<number, number>>) => {\n        if (props.axis.x.scale === 'TIME') {\n          datum.data = datum.data.map((d) => {\n            const newd = {\n              ...d,\n              x: typeof d.x === 'object'\n                ? d.x\n                : xParseTime(d.x.toString()),\n            };\n            return newd;\n          });\n        }\n        return Object.assign({}, datumProps, datum);\n      });\n      this._drawScales(data);\n      this._drawLines(data);\n      this.drawAreas(data);\n      drawGrid(this.x, this.y, this.gridX, this.gridY, this.props, this.valuesCount(data));\n      this._drawDataPointSet(data);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: Element) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return LineChartD3;\n});\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IAxes,\n  IGrid,\n  IHistogramData,\n  IMargin,\n  ISVGLineStyle,\n  TipContentFn,\n} from './Histogram';\nimport { lineChartD3 } from './lineChartD3';\n\ninterface IState {\n  parentWidth?: number;\n}\n\nexport type IChartPointValue = number | string | Date | object;\nexport interface IChartPoint<X extends IChartPointValue = Date | number, Y extends IChartPointValue = number> {\n  x: X;\n  y: Y;\n}\nexport interface ILineChartDataSet<T extends IChartPoint<IChartPointValue, IChartPointValue> = IChartPoint> {\n  label: string;\n  point?: {\n    radius: number;\n    stroke: string;\n    fill: string;\n    show: boolean;\n  };\n  line?: {\n    show: boolean;\n    fill?: {\n      show: boolean;\n      fill: string;\n    };\n    curveType?: any;\n    stroke?: string;\n    strokeDashOffset?: number;\n    strokeDashArray?: string;\n  };\n  data: T[];\n}\n\nexport interface ISVGPoint extends ISVGLineStyle {\n  radius?: 4;\n  show: boolean;\n}\n\nexport interface ILineChartProps {\n  axis?: IAxes;\n  className?: string;\n  data?: ILineChartDataSet[];\n  fx?: (n: number) => number;\n  grid?: IGrid;\n  height?: number | string;\n  line?: any;\n  margin?: IMargin;\n  point?: ISVGPoint;\n  tip?: any;\n  tipContainer?: string;\n  tipContentFn?: TipContentFn<{ x: string | number, y: string | number }>;\n  width?: number | string;\n}\n\nclass LineChart extends React.Component<ILineChartProps, IState> {\n\n  private chart;\n  private ref;\n\n  constructor(props: ILineChartProps) {\n    super(props);\n    this.chart = lineChartD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n\n  }\n\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state. If a histogram has been assigned\n   * to the props, then render this data. Otherwise generate\n   * a random normal dist\n   */\n  public getChartState(): ILineChartProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  public getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  public render(): JSX.Element {\n    return <div ref={(ref) => this.ref = ref} className=\"chart-container\"></div>;\n  }\n}\n\nexport default LineChart;\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","import clipBuffer from \"./buffer\";\nimport clipRejoin from \"./rejoin\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipRejoin from \"./rejoin\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default function(x) {\n  return x;\n}\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math\";\nimport noop from \"../noop\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport clipRectangle from \"../clip/rectangle\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy) {\n  function transform(x, y) {\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k, (dy - y) / k];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [ai * x - bi * y + ci, fi - bi * x - ai * y];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math\";\nimport rotation from \"../rotation\";\nimport projection from \"./index\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {equirectangularRaw} from \"./equirectangular\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import projection from \"./index\";\nimport {abs, epsilon} from \"../math\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math\";\nimport {mercatorProjection} from \"./mercator\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","import {\n  geoMercator,\n  geoPath,\n} from 'd3-geo';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\nimport { FeatureCollection } from 'geojson';\n\nimport { IChartAdaptor } from './Histogram';\nimport { IMapProps } from './Map';\n\nexport const mapD3 = ((): IChartAdaptor => {\n  let svg;\n\n  const defaultProps: IMapProps = {\n    className: 'map-d3',\n    data: [],\n    geojson: {\n      features: [],\n      type: 'FeatureCollection',\n    },\n    height: 200,\n    width: 200,\n  };\n\n  const MapD3 = {\n    /**\n     * Initialization\n     * @param {Node} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: HTMLElement, props: Partial<IMapProps> = {}) {\n      this.mergeProps(props);\n      this._makeSvg(el);\n      this.container = svg\n        .append('g')\n        .attr('class', 'histogram-container');\n\n      this.update(el, props);\n    },\n\n    mergeProps(newProps: Partial<IMapProps>) {\n      this.props = merge<IMapProps>(defaultProps, newProps);\n      this.props.data = newProps.data;\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Dom} el Dom container node\n     */\n    _makeSvg(el) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { width, height, className } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .append('g');\n    },\n\n    /**\n     * Draw a single data set into the chart\n     */\n    updateChart(\n      data: any,\n      geojson: FeatureCollection<any, any>,\n    ) {\n\n      const { width, height } = this.props;\n      const zoom = 3;\n      const projection = geoMercator()\n        .scale((width / 2 / Math.PI) * zoom)\n        .translate([(width / 2), (height / 2)]);\n\n      const geoGenerator = geoPath()\n        .projection(projection);\n\n      // const g = this.container\n      // .selectAll('g')\n      // .data(groupData);\n\n      // Join the FeatureCollection's features array to path elements\n      const u = this.container\n        .selectAll('path')\n        .data(geojson.features);\n\n      // Create path elements and update the d attribute using the geo generator\n      u.enter()\n        .append('path')\n        .attr('d', geoGenerator);\n    },\n\n    /**\n     * Update chart\n     * @param {HTMLElement} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: HTMLElement, props: IMapProps) {\n      if (!props.data) {\n        return;\n      }\n      this.mergeProps(props);\n      const { data, geojson } = this.props;\n      this.updateChart(data, geojson);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: HTMLElement) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return MapD3;\n});\n","import identity from \"../identity\";\nimport stream from \"../stream\";\nimport pathArea from \"./area\";\nimport pathBounds from \"./bounds\";\nimport pathCentroid from \"./centroid\";\nimport PathContext from \"./context\";\nimport pathMeasure from \"./measure\";\nimport PathString from \"./string\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import { FeatureCollection } from 'geojson';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport {\n  IChartAdaptor,\n  IChartState,\n} from './Histogram';\nimport { mapD3 } from './MapD3';\n\nexport interface IMapProps {\n  className?: string;\n  data: any;\n  geojson: FeatureCollection<any, any>;\n  height: number;\n  width: number | string;\n}\n\n/**\n * Map component\n */\nclass Map extends React.Component<IMapProps, IChartState> {\n\n  private chart: IChartAdaptor;\n  private ref;\n\n  public static defaultProps: Partial<IMapProps> = {\n    geojson: {\n      features: [],\n      type: 'FeatureCollection',\n    },\n    height: 200,\n    width: '100%',\n  };\n\n  /**\n   * Constructor\n   * @param {Object} props\n   */\n  constructor(props: IMapProps) {\n    super(props);\n    this.chart = mapD3();\n    this.state = {\n      parentWidth: 300,\n    };\n  }\n\n  /**\n   * Handle the page resize\n   */\n  private handleResize() {\n    const elem = this.getDOMNode();\n    const width = (this.ref && this.ref.offsetWidth) ? this.ref.offsetWidth : 0;\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(elem, this.getChartState()));\n  }\n\n  /**\n   * Component mounted\n   */\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    if (this.props.width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  /**\n   * Component updated\n   */\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  /**\n   * Get the chart state\n   * @return {Object} ChartState\n   */\n  public getChartState(): IMapProps {\n    let { width } = this.props;\n    const { children, ...rest } = this.props;\n    if (width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      ...rest,\n      width,\n    };\n  }\n\n  /**\n   * Component will un mount, remove the chart and\n   * any event listeners\n   */\n  public componentWillUnmount() {\n    if (this.props.width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  /**\n   * Get the chart's dom node\n   * @return {Element} dom noe\n   */\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  /**\n   * Render\n   * @return {Dom} node\n   */\n  public render(): JSX.Element {\n    return (<div ref={(ref) => this.ref = ref} className=\"map-chart-container\"></div>);\n  }\n}\n\nexport default Map;\n","import { extent } from 'd3-array';\nimport {\n  axisBottom,\n  axisLeft,\n} from 'd3-axis';\nimport {\n  scaleLinear,\n  scaleOrdinal,\n} from 'd3-scale';\nimport { select } from 'd3-selection';\nimport * as merge from 'deepmerge';\n\nimport colorScheme from './colors';\nimport { IChartPoint } from './LineChart';\nimport {\n  IScatterPlotProps,\n  ScatterPlotData,\n} from './ScatterPlot';\n\nexport const scatterPlotD3 = (() => {\n  let svg;\n  const yScale = scaleLinear();\n  const xScale = scaleLinear();\n  const domainByTrait = {};\n  let xAxis;\n  let color;\n  let yAxis;\n\n  const defaultProps = {\n    choices: [],\n    className: 'scatter-plot-d3',\n    colorScheme,\n    data: [],\n    delay: 0,\n    duration: 400,\n    height: 300,\n    legendWidth: 100,\n    padding: 20,\n    radius: 4,\n    width: '100%',\n  };\n\n  const GenerateChart = {\n\n    /**\n     * Initialization\n     * @param {Element} el Target DOM node\n     * @param {Object} props Chart properties\n     */\n    create(el: Element, props: IScatterPlotProps = defaultProps) {\n      this.props = merge(defaultProps, props);\n      this.update(el, props);\n    },\n\n    /**\n     * Make the SVG container element\n     * Recreate if it previously existed\n     * @param {Element} el Dom container node\n     * @param {Array} data Chart data\n     */\n    _makeSvg(el: Element, data: ScatterPlotData) {\n      if (svg) {\n        svg.selectAll('svg > *').remove();\n        svg.remove();\n        const childNodes = el.getElementsByTagName('svg');\n        if (childNodes.length > 0) {\n          el.removeChild(childNodes[0]);\n        }\n      }\n      const { width, className, height,\n        legendWidth, padding } = this.props;\n\n      // Reference to svg element containing chart\n      svg = select(el).append('svg')\n        .attr('class', className)\n        .attr('width', width + padding + legendWidth)\n        .attr('height', height + padding)\n        .append('g')\n        .attr('transform', 'translate(' + padding + ',' + padding / 2 + ')');\n\n      color = scaleOrdinal(this.props.colorScheme);\n    },\n\n    /**\n     * Draw the chart scales\n     * @param {Object} data Chart data\n     */\n    _drawScales(data) {\n      const { height, padding, width } = this.props;\n      const xSize = width / data.length;\n      const ySize = height / data.length;\n      xScale.range([padding / 2, xSize - padding / 2]);\n      yScale.range([height - padding / 2, padding / 2]);\n\n      svg.selectAll('.x.axis')\n        .data(data)\n        .enter().append('g')\n        .attr('class', 'x axis')\n        .attr('transform', (d, i) =>\n          'translate(' + (data.length - i - 1) * xSize + ',0)')\n        .each(function (d) {\n          xScale.domain(domainByTrait[d]);\n          select(this).call(xAxis);\n        });\n\n      svg.selectAll('.y.axis')\n        .data(data)\n        .enter().append('g')\n        .attr('class', 'y axis')\n        .attr('transform', (d: any, i: number) => 'translate(0,' + i * ySize + ')')\n        .each(function (d: any) {\n          yScale.domain(domainByTrait[d]);\n          select(this).call(yAxis);\n        });\n    },\n\n    /**\n     * Make a legend showing spit choice options\n     */\n    _drawLegend() {\n      const { choices, padding, width, split } = this.props;\n      if (choices === undefined) {\n        return;\n      }\n      const legend = svg.append('g')\n        .attr('transform', 'translate(' + (width + padding / 2) +\n          ', ' + (padding + 50) + ')');\n\n      legend.append('g').append('text')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('dy', '.71em')\n        .text((d) => split);\n      legend.selectAll('.legendItem')\n        .data(choices)\n        .enter().append('g')\n        .each(function (c, i: number) {\n          const cell = select(this);\n          cell.append('rect')\n            .attr('class', 'legendItem')\n            .attr('x', 0)\n            .attr('y', 20 + (i * 15))\n            .attr('fill', color(i))\n            .attr('height', 10)\n            .attr('width', 10);\n\n          cell.append('text')\n            .attr('x', 15)\n            .attr('y', 20 + (i * 15))\n            .attr('dy', '.71em')\n            .text((d) => c);\n        });\n\n      legend.exit().remove();\n    },\n\n    /**\n     * Draw scatter points\n     * @param {Object} traits Chart data\n     * @param {Number} size Chart size\n     */\n    _drawPoints(traits, width: number, height: number) {\n      const { data, delay, duration,\n        choices, split, padding, radius } = this.props;\n      const n = traits.length;\n      const cell = svg.selectAll('.cell')\n        .data(cross(traits, traits))\n        .enter().append('g')\n        .attr('class', 'cell')\n        .attr('transform', (d) => 'translate(' + (n - d.i - 1) * width +\n          ',' + d.j * width + ')')\n        .each(plot);\n\n      // Titles for the diagonal.\n      cell.filter((d) => d.i === d.j).append('text')\n        .attr('x', padding)\n        .attr('y', padding)\n        .attr('dy', '.71em')\n        .text((d) => d.x);\n\n      /**\n       * Plot a point\n       * @param {Object} p Point\n       */\n      function plot(p: IChartPoint) {\n        const plotCell = select(this);\n        let circle;\n        xScale.domain(domainByTrait[Number(p.x)]);\n        yScale.domain(domainByTrait[Number(p.y)]);\n\n        plotCell.append('rect')\n          .attr('class', 'frame')\n          .attr('x', padding / 2)\n          .attr('y', padding / 2)\n          .attr('width', width - padding)\n          .attr('height', height - padding);\n\n        circle = plotCell.selectAll('circle')\n          .data(data.values)\n          .enter().append('circle')\n          .attr('r', (d) => radius)\n          .attr('cx', (d) => xScale(d[Number(p.x)]))\n          .attr('cy', (d) => yScale(d[Number(p.y)]))\n          .style('fill', (d) => {\n            if (d[split]) {\n              const i = choices.findIndex((c) => c === d[split]);\n              return color(i);\n            }\n            return '#eeaabb';\n          });\n\n        circle\n          .transition()\n          .duration(duration)\n          .delay(delay)\n          .attr('r', (d) => radius);\n      }\n\n      /**\n       * Create cross array\n       * // @TODO looks like d3 has its own cross function now...\n       * @param {Object} a point\n       * @param {Object} b point\n       * @return {Array} data\n       */\n      function cross(a, b) {\n        const c = [];\n        const nx = a.length;\n        const m = b.length;\n        let i: number;\n        let j: number;\n        for (i = -1; ++i < nx;) {\n          for (j = -1; ++j < m;) {\n            c.push({ x: a[i], i, y: b[j], j });\n          }\n        }\n        return c;\n      }\n    },\n\n    /**\n     * Update chart\n     * @param {Node} el Chart element\n     * @param {Object} props Chart props\n     */\n    update(el: Element, props: IScatterPlotProps) {\n      this.props = { ...this.props, ...props };\n      if (!props.data) {\n        return;\n      }\n      const { data, distModels, height, width } = this.props;\n      this._makeSvg(el, props.data);\n      this._drawLegend();\n      const traits = data.keys.filter((k) => distModels.indexOf(k) !== -1);\n      const xSize = width / traits.length;\n      const ySize = height / traits.length;\n      const n = traits.length;\n\n      traits.forEach((trait) => {\n        domainByTrait[trait] = extent(data.values, (d) => d[trait]);\n      });\n      xAxis = axisBottom(xScale)\n        .ticks(6)\n        .tickSize(xSize * n);\n      yAxis = axisLeft(yScale)\n        .ticks(6)\n        .tickSize(-ySize * n);\n\n      this._drawScales(traits);\n      this._drawPoints(traits, xSize, ySize);\n    },\n\n    /**\n     * Any necessary clean up\n     * @param {Element} el To remove\n     */\n    destroy(el: Element) {\n      svg.selectAll('svg > *').remove();\n    },\n  };\n  return GenerateChart;\n});\n","import * as React from 'react';\nimport { Component } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { scatterPlotD3 } from './ScatterPlotD3';\n\ninterface IChartState {\n  choices: string[];\n  data: any[];\n  height: number;\n  distModels: string[];\n  split: string;\n  parentWidth: number;\n  width: number | string;\n}\n\nexport type ScatterPlotData = any[];\n\nexport interface IScatterPlotProps {\n  choices?: any[];\n  className?: string;\n  chartSize?: number;\n  data: ScatterPlotData;\n  delay?: number;\n  distModels?: string[];\n  duration?: number;\n  height: number;\n  legendWidth?: number;\n  colorScheme?: string[];\n  padding?: number;\n  radius?: number;\n  split?: string;\n  width: string | number;\n}\nclass ScatterPlot extends Component<IScatterPlotProps, IChartState> {\n\n  private chart;\n  private ref;\n\n  public static defaultProps = {\n    height: 400,\n    width: '100%',\n  };\n\n  constructor(props: IScatterPlotProps) {\n    super(props);\n    this.chart = scatterPlotD3();\n    this.state = {\n      choices: [],\n      data: [],\n      distModels: [],\n      height: this.props.height,\n      parentWidth: 400,\n      split: '',\n      width: this.props.width,\n    };\n  }\n\n  private handleResize() {\n    const { legendWidth, padding } = this.props;\n    const chartWidth = Math.max(200, this.ref.offsetWidth - padding - legendWidth);\n    const chartHeight = Math.max(200, window.innerHeight - padding -\n      this.ref.getBoundingClientRect().top);\n    const width = Math.min(chartHeight, chartWidth);\n\n    this.setState({\n      parentWidth: width,\n    }, () => this.chart.create(this.getDOMNode(), this.getChartState()));\n  }\n\n  public componentDidMount() {\n    this.chart.create(this.getDOMNode(), this.getChartState());\n    const { width } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      window.addEventListener('resize', (e) => this.handleResize());\n      this.handleResize();\n    }\n  }\n\n  public componentDidUpdate() {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  private getChartState(): IChartState {\n    let { width } = this.props;\n    const { data, choices, split, distModels, height } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      width = this.state.parentWidth || 300;\n    }\n\n    return {\n      choices,\n      data,\n      distModels,\n      height,\n      parentWidth: this.state.parentWidth,\n      split,\n      width,\n    };\n  }\n\n  public componentWillReceiveProps(props: IScatterPlotProps) {\n    this.chart.update(this.getDOMNode(), this.getChartState());\n  }\n\n  public componentWillUnmount() {\n    const { width } = this.props;\n    if (typeof width === 'string' && width === '100%') {\n      window.removeEventListener('resize', this.handleResize);\n    }\n    this.chart.destroy(this.getDOMNode());\n  }\n\n  private getDOMNode() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  public render() {\n    return <div ref={(ref) => this.ref = ref} className=\"scatterplot-chart-container\"></div>;\n  }\n}\n\nexport default ScatterPlot;\n","import filterRange from './colors/filterRange';\nimport Histogram, {\n  IAxes, IHistogramBar, IHistogramData, IHistogramDataSet,\n  IHistogramProps, IStroke,\n} from './Histogram';\n\nimport HorizontalHistogram from './HorizontalHistogram';\nimport JoyPlot from './JoyPlot';\nimport Legend from './Legend';\nimport LineChart, { IChartPoint, ILineChartDataSet, ILineChartProps } from './LineChart';\nimport Map from './Map';\nimport PieChart from './PieChart';\nimport ScatterPlot from './ScatterPlot';\n\nexport {\n  filterRange,\n  JoyPlot,\n  Histogram,\n  HorizontalHistogram,\n  Legend,\n  LineChart,\n  Map,\n  PieChart,\n  ScatterPlot,\n  ILineChartDataSet,\n  IChartPoint,\n  ILineChartProps,\n  IAxes,\n  IHistogramBar,\n  IHistogramData,\n  IHistogramDataSet,\n  IHistogramProps,\n  IStroke,\n};\n"],"sourceRoot":""}